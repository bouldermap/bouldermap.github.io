!function(){var Vr,zr="Expected a function",ba="__lodash_hash_undefined__",ya="__lodash_placeholder__",wa=16,Ur=32,Hr=64,Br=128,Ca=256,jr=1/0,Wr=9007199254740991,$a=NaN,qr=4294967295,xa=[["ary",Br],["bind",1],["bindKey",2],["curry",8],["curryRight",wa],["flip",512],["partial",Ur],["partialRight",Hr],["rearg",Ca]],Yr="[object Arguments]",ka="[object Array]",Kr="[object Boolean]",Zr="[object Date]",Sa="[object Error]",Ea="[object Function]",Ma="[object GeneratorFunction]",Xr="[object Map]",Qr="[object Number]",Jr="[object Object]",Pa="[object Promise]",Ta="[object RegExp]",ea="[object Set]",Da="[object String]",Aa="[object Symbol]",Oa="[object WeakMap]",Ra="[object ArrayBuffer]",ta="[object DataView]",Ia="[object Float32Array]",Na="[object Float64Array]",La="[object Int8Array]",_a="[object Int16Array]",Ga="[object Int32Array]",Fa="[object Uint8Array]",Va="[object Uint8ClampedArray]",za="[object Uint16Array]",Ua="[object Uint32Array]",Ha=/\b__p \+= '';/g,Ba=/\b(__p \+=) '' \+/g,ja=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wa=/&(?:amp|lt|gt|quot|#39);/g,qa=/[&<>"']/g,Ya=RegExp(Wa.source),Ka=RegExp(qa.source),Za=/<%-([\s\S]+?)%>/g,Xa=/<%([\s\S]+?)%>/g,Qa=/<%=([\s\S]+?)%>/g,Ja=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,es=/^\w*$/,ts=/^\./,ns=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,is=/[\\^$.*+?()[\]{}|]/g,os=RegExp(is.source),rs=/^\s+|\s+$/g,as=/^\s+/,ss=/\s+$/,ls=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cs=/\{\n\/\* \[wrapped with (.+)\] \*/,us=/,? & /,ds=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ps=/\\(\\)?/g,hs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fs=/\w*$/,gs=/^[-+]0x[0-9a-f]+$/i,ms=/^0b[01]+$/i,vs=/^\[object .+?Constructor\]$/,bs=/^0o[0-7]+$/i,ys=/^(?:0|[1-9]\d*)$/,ws=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cs=/($^)/,$s=/['\n\r\u2028\u2029\\]/g,o="\\ud800-\\udfff",r="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",a="\\u2700-\\u27bf",e="a-z\\xdf-\\xf6\\xf8-\\xff",t="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\ufe0e\\ufe0f",l="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="['’]",c="["+o+"]",u="["+l+"]",d="["+r+"]",p="["+a+"]",h="["+e+"]",l="[^"+o+l+"\\d+"+a+e+t+"]",a="\\ud83c[\\udffb-\\udfff]",e="[^"+o+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",t="["+t+"]",g="\\u200d",m="(?:"+h+"|"+l+")",l="(?:"+t+"|"+l+")",v="(?:['’](?:d|ll|m|re|s|t|ve))?",b="(?:['’](?:D|LL|M|RE|S|T|VE))?",y="(?:"+d+"|"+a+")"+"?",w="["+s+"]?",w=w+y+("(?:"+g+"(?:"+[e,f,i].join("|")+")"+w+y+")*"),y="(?:"+[p,f,i].join("|")+")"+w,p="(?:"+[e+d+"?",d,f,i,c].join("|")+")",xs=RegExp(n,"g"),ks=RegExp(d,"g"),C=RegExp(a+"(?="+a+")|"+p+w,"g"),Ss=RegExp([t+"?"+h+"+"+v+"(?="+[u,t,"$"].join("|")+")",l+"+"+b+"(?="+[u,t+m,"$"].join("|")+")",t+"?"+m+"+"+v,t+"+"+b,"\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",y].join("|"),"g"),$=RegExp("["+g+o+r+s+"]"),Es=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ms=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ps=-1,na={},ia=(na[Ia]=na[Na]=na[La]=na[_a]=na[Ga]=na[Fa]=na[Va]=na[za]=na[Ua]=!0,na[Yr]=na[ka]=na[Ra]=na[Kr]=na[ta]=na[Zr]=na[Sa]=na[Ea]=na[Xr]=na[Qr]=na[Jr]=na[Ta]=na[ea]=na[Da]=na[Oa]=!1,{}),x=(ia[Yr]=ia[ka]=ia[Ra]=ia[ta]=ia[Kr]=ia[Zr]=ia[Ia]=ia[Na]=ia[La]=ia[_a]=ia[Ga]=ia[Xr]=ia[Qr]=ia[Jr]=ia[Ta]=ia[ea]=ia[Da]=ia[Aa]=ia[Fa]=ia[Va]=ia[za]=ia[Ua]=!0,ia[Sa]=ia[Ea]=ia[Oa]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),Ts=parseFloat,Ds=parseInt,e="object"==typeof global&&global&&global.Object===Object&&global,f="object"==typeof self&&self&&self.Object===Object&&self,oa=e||f||Function("return this")(),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,c=i&&"object"==typeof module&&module&&!module.nodeType&&module,As=c&&c.exports===i,k=As&&e.process,n=function(){try{return k&&k.binding&&k.binding("util")}catch(e){}}(),Os=n&&n.isArrayBuffer,Rs=n&&n.isDate,Is=n&&n.isMap,Ns=n&&n.isRegExp,Ls=n&&n.isSet,_s=n&&n.isTypedArray;function Gs(e,t){return e.set(t[0],t[1]),e}function Fs(e,t){return e.add(t),e}function ra(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Vs(e,t,n,i){for(var o=-1,r=null==e?0:e.length;++o<r;){var a=e[o];t(i,a,n(a),e)}return i}function aa(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function zs(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Us(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function sa(e,t){for(var n=-1,i=null==e?0:e.length,o=0,r=[];++n<i;){var a=e[n];t(a,n,e)&&(r[o++]=a)}return r}function Hs(e,t){return!!(null==e?0:e.length)&&-1<ua(e,t,0)}function Bs(e,t,n){for(var i=-1,o=null==e?0:e.length;++i<o;)if(n(t,e[i]))return!0;return!1}function la(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}function ca(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}function js(e,t,n,i){var o=-1,r=null==e?0:e.length;for(i&&r&&(n=e[++o]);++o<r;)n=t(n,e[o],o,e);return n}function Ws(e,t,n,i){var o=null==e?0:e.length;for(i&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function qs(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var S=Js("length");function Ys(e,i,t){var o;return t(e,function(e,t,n){if(i(e,t,n))return o=t,!1}),o}function Ks(e,t,n,i){for(var o=e.length,r=n+(i?1:-1);i?r--:++r<o;)if(t(e[r],r,e))return r;return-1}function ua(e,t,n){if(t!=t)return Ks(e,Xs,n);for(var i=e,o=t,r=n-1,a=i.length;++r<a;)if(i[r]===o)return r;return-1}function Zs(e,t,n,i){for(var o=n-1,r=e.length;++o<r;)if(i(e[o],t))return o;return-1}function Xs(e){return e!=e}function Qs(e,t){var n=null==e?0:e.length;return n?tl(e,t)/n:$a}function Js(t){return function(e){return null==e?Vr:e[t]}}function E(t){return function(e){return null==t?Vr:t[e]}}function el(e,i,o,r,t){return t(e,function(e,t,n){o=r?(r=!1,e):i(o,e,t,n)}),o}function tl(e,t){for(var n,i=-1,o=e.length;++i<o;){var r=t(e[i]);r!==Vr&&(n=n===Vr?r:n+r)}return n}function nl(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function da(t){return function(e){return t(e)}}function il(t,e){return la(e,function(e){return t[e]})}function ol(e,t){return e.has(t)}function rl(e,t){for(var n=-1,i=e.length;++n<i&&-1<ua(t,e[n],0););return n}function al(e,t){for(var n=e.length;n--&&-1<ua(t,e[n],0););return n}var sl=E({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),ll=E({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cl(e){return"\\"+x[e]}function pa(e){return $.test(e)}function ul(e){var n=-1,i=Array(e.size);return e.forEach(function(e,t){i[++n]=[t,e]}),i}function dl(t,n){return function(e){return t(n(e))}}function ha(e,t){for(var n=-1,i=e.length,o=0,r=[];++n<i;){var a=e[n];a!==t&&a!==ya||(e[n]=ya,r[o++]=n)}return r}function fa(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function ga(e){return(pa(e)?function(e){var t=C.lastIndex=0;for(;C.test(e);)++t;return t}:S)(e)}function ma(e){return pa(e)?e.match(C)||[]:e.split("")}var pl=E({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var va=function o(e){var $=(e=null==e?oa:va.defaults(oa.Object(),e,va.pick(oa,Ms))).Array,r=e.Date,R=e.Error,I=e.Function,N=e.Math,g=e.Object,z=e.RegExp,U=e.String,b=e.TypeError,H=$.prototype,B=I.prototype,j=g.prototype,W=e["__core-js_shared__"],q=B.toString,L=j.hasOwnProperty,Y=0,K=(B=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",Z=j.toString,X=q.call(g),Q=oa._,J=z("^"+q.call(L).replace(is,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=As?e.Buffer:Vr,t=e.Symbol,ee=e.Uint8Array,te=B?B.allocUnsafe:Vr,ne=dl(g.getPrototypeOf,g),ie=g.create,oe=j.propertyIsEnumerable,re=H.splice,ae=t?t.isConcatSpreadable:Vr,se=t?t.iterator:Vr,le=t?t.toStringTag:Vr,ce=function(){try{var e=Xn(g,"defineProperty");return e({},"",{}),e}catch(e){}}(),ue=e.clearTimeout!==oa.clearTimeout&&e.clearTimeout,de=r&&r.now!==oa.Date.now&&r.now,pe=e.setTimeout!==oa.setTimeout&&e.setTimeout,he=N.ceil,fe=N.floor,ge=g.getOwnPropertySymbols,B=B?B.isBuffer:Vr,me=e.isFinite,ve=H.join,be=dl(g.keys,g),y=N.max,x=N.min,ye=r.now,we=e.parseInt,Ce=N.random,$e=H.reverse,r=Xn(e,"DataView"),xe=Xn(e,"Map"),ke=Xn(e,"Promise"),Se=Xn(e,"Set"),e=Xn(e,"WeakMap"),Ee=Xn(g,"create"),Me=e&&new e,Pe={},Te=Ci(r),De=Ci(xe),Ae=Ci(ke),Oe=Ci(Se),Re=Ci(e),t=t?t.prototype:Vr,Ie=t?t.valueOf:Vr,Ne=t?t.toString:Vr;function f(e){if(V(e)&&!F(e)&&!(e instanceof v)){if(e instanceof m)return e;if(L.call(e,"__wrapped__"))return $i(e)}return new m(e)}var Le=function(e){if(!S(e))return{};if(ie)return ie(e);_e.prototype=e;e=new _e;return _e.prototype=Vr,e};function _e(){}function Ge(){}function m(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Vr}function v(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qr,this.__views__=[]}function Fe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ze(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ue(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ze;++t<n;)this.add(e[t])}function _(e){e=this.__data__=new Ve(e);this.size=e.size}function He(e,t){var n,i=F(e),o=!i&&vo(e),r=!i&&!o&&yo(e),a=!i&&!o&&!r&&Do(e),s=i||o||r||a,l=s?nl(e.length,U):[],c=l.length;for(n in e)!t&&!L.call(e,n)||s&&("length"==n||r&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||ii(n,c))||l.push(n);return l}function Be(e){var t=e.length;return t?e[_t(0,t-1)]:Vr}function je(e,t){return vi(k(e),et(t,0,e.length))}function We(e){return vi(k(e))}function qe(e,t,n){(n===Vr||fo(e[t],n))&&(n!==Vr||t in e)||Qe(e,t,n)}function Ye(e,t,n){var i=e[t];L.call(e,t)&&fo(i,n)&&(n!==Vr||t in e)||Qe(e,t,n)}function Ke(e,t){for(var n=e.length;n--;)if(fo(e[n][0],t))return n;return-1}function Ze(e,i,o,r){return ot(e,function(e,t,n){i(r,e,o(e),n)}),r}function Xe(e,t){return e&&gn(t,D(t),e)}function Qe(e,t,n){"__proto__"==t&&ce?ce(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Je(e,t){for(var n=-1,i=t.length,o=$(i),r=null==e;++n<i;)o[n]=r?Vr:Bo(e,t[n]);return o}function et(e,t,n){return e==e&&(n!==Vr&&(e=e<=n?e:n),t!==Vr&&(e=t<=e?e:t)),e}function w(n,i,o,e,t,r){var a,s=1&i,l=2&i,c=4&i;if((a=o?t?o(n,e,t,r):o(n):a)!==Vr)return a;if(!S(n))return n;var u,e=F(n);if(e){if(a=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&L.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!s)return k(n,a)}else{var d=G(n),p=d==Ea||d==Ma;if(yo(n))return cn(n,s);if(d==Jr||d==Yr||p&&!t){if(a=l||p?{}:ti(n),!s)return l?(h=p=n,h=(u=a)&&gn(h,A(h),u),gn(p,Jn(p),h)):(p=Xe(a,u=n),gn(u,Qn(u),p))}else{if(!ia[d])return t?n:{};a=function(e,t,n,i){var o=e.constructor;switch(t){case Ra:return un(e);case Kr:case Zr:return new o(+e);case ta:return function(e,t){t=t?un(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,i);case Ia:case Na:case La:case _a:case Ga:case Fa:case Va:case za:case Ua:return dn(e,i);case Xr:return function(e,t,n){return js(t?n(ul(e),1):ul(e),Gs,new e.constructor)}(e,i,n);case Qr:case Da:return new o(e);case Ta:return function(e){var t=new e.constructor(e.source,fs.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ea:return function(e,t,n){return js(t?n(fa(e),1):fa(e),Fs,new e.constructor)}(e,i,n);case Aa:return function(e){return Ie?g(Ie.call(e)):{}}(e)}}(n,d,w,s)}}var h=(r=r||new _).get(n);if(h)return h;r.set(n,a);var f=e?Vr:(c?l?jn:Bn:l?A:D)(n);return aa(f||n,function(e,t){f&&(e=n[t=e]),Ye(a,t,w(e,i,o,t,n,r))}),a}function tt(e,t,n){var i=n.length;if(null==e)return!i;for(e=g(e);i--;){var o=n[i],r=t[o],a=e[o];if(a===Vr&&!(o in e)||!r(a))return!1}return!0}function nt(e,t,n){if("function"!=typeof e)throw new b(zr);return hi(function(){e.apply(Vr,n)},t)}function it(e,t,n,i){var o=-1,r=Hs,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=la(t,da(n))),i?(r=Bs,a=!1):200<=t.length&&(r=ol,a=!1,t=new Ue(t));e:for(;++o<s;){var u=e[o],d=null==n?u:n(u),u=i||0!==u?u:0;if(a&&d==d){for(var p=c;p--;)if(t[p]===d)continue e;l.push(u)}else r(t,d,i)||l.push(u)}return l}f.templateSettings={escape:Za,evaluate:Xa,interpolate:Qa,variable:"",imports:{_:f}},(f.prototype=Ge.prototype).constructor=f,(m.prototype=Le(Ge.prototype)).constructor=m,(v.prototype=Le(Ge.prototype)).constructor=v,Fe.prototype.clear=function(){this.__data__=Ee?Ee(null):{},this.size=0},Fe.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Fe.prototype.get=function(e){var t,n=this.__data__;return Ee?(t=n[e])===ba?Vr:t:L.call(n,e)?n[e]:Vr},Fe.prototype.has=function(e){var t=this.__data__;return Ee?t[e]!==Vr:L.call(t,e)},Fe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ee&&t===Vr?ba:t,this},Ve.prototype.clear=function(){this.__data__=[],this.size=0},Ve.prototype.delete=function(e){var t=this.__data__;return!((e=Ke(t,e))<0)&&(e==t.length-1?t.pop():re.call(t,e,1),--this.size,!0)},Ve.prototype.get=function(e){var t=this.__data__;return(e=Ke(t,e))<0?Vr:t[e][1]},Ve.prototype.has=function(e){return-1<Ke(this.__data__,e)},Ve.prototype.set=function(e,t){var n=this.__data__,i=Ke(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ze.prototype.clear=function(){this.size=0,this.__data__={hash:new Fe,map:new(xe||Ve),string:new Fe}},ze.prototype.delete=function(e){return e=Kn(this,e).delete(e),this.size-=e?1:0,e},ze.prototype.get=function(e){return Kn(this,e).get(e)},ze.prototype.has=function(e){return Kn(this,e).has(e)},ze.prototype.set=function(e,t){var n=Kn(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Ue.prototype.add=Ue.prototype.push=function(e){return this.__data__.set(e,ba),this},Ue.prototype.has=function(e){return this.__data__.has(e)},_.prototype.clear=function(){this.__data__=new Ve,this.size=0},_.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},_.prototype.get=function(e){return this.__data__.get(e)},_.prototype.has=function(e){return this.__data__.has(e)},_.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ve){var i=n.__data__;if(!xe||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ze(i)}return n.set(e,t),this.size=n.size,this};var ot=bn(s),rt=bn(dt,!0);function at(e,i){var o=!0;return ot(e,function(e,t,n){return o=!!i(e,t,n)}),o}function st(e,t,n){for(var i=-1,o=e.length;++i<o;){var r,a,s=e[i],l=t(s);null!=l&&(r===Vr?l==l&&!E(l):n(l,r))&&(r=l,a=s)}return a}function lt(e,i){var o=[];return ot(e,function(e,t,n){i(e,t,n)&&o.push(e)}),o}function l(e,t,n,i,o){var r=-1,a=e.length;for(n=n||ni,o=o||[];++r<a;){var s=e[r];0<t&&n(s)?1<t?l(s,t-1,n,i,o):ca(o,s):i||(o[o.length]=s)}return o}var ct=yn(),ut=yn(!0);function s(e,t){return e&&ct(e,t,D)}function dt(e,t){return e&&ut(e,t,D)}function pt(t,e){return sa(e,function(e){return Co(t[e])})}function ht(e,t){for(var n=0,i=(t=rn(t,e)).length;null!=e&&n<i;)e=e[wi(t[n++])];return n&&n==i?e:Vr}function ft(e,t,n){t=t(e);return F(e)?t:ca(t,n(e))}function n(e){{if(null==e)return e===Vr?"[object Undefined]":"[object Null]";if(le&&le in g(e)){var t=e,n=L.call(t,le),i=t[le];try{t[le]=Vr;var o=!0}catch(e){}var r=Z.call(t);return o&&(n?t[le]=i:delete t[le]),r}return Z.call(e)}}function gt(e,t){return t<e}function mt(e,t){return null!=e&&L.call(e,t)}function vt(e,t){return null!=e&&t in g(e)}function bt(e,t,n){for(var i=n?Bs:Hs,o=e[0].length,r=e.length,a=r,s=$(r),l=1/0,c=[];a--;){var u=e[a];a&&t&&(u=la(u,da(t))),l=x(u.length,l),s[a]=!n&&(t||120<=o&&120<=u.length)?new Ue(a&&u):Vr}var u=e[0],d=-1,p=s[0];e:for(;++d<o&&c.length<l;){var h=u[d],f=t?t(h):h,h=n||0!==h?h:0;if(!(p?ol(p,f):i(c,f,n))){for(a=r;--a;){var g=s[a];if(!(g?ol(g,f):i(e[a],f,n)))continue e}p&&p.push(f),c.push(h)}}return c}function yt(e,t,n){t=null==(e=di(e,t=rn(t,e)))?e:e[wi(i(t))];return null==t?Vr:ra(t,e,n)}function wt(e){return V(e)&&n(e)==Yr}function Ct(e,t,n,i,o){{if(e===t)return!0;if(null==e||null==t||!V(e)&&!V(t))return e!=e&&t!=t;var r=Ct,a=F(e),s=F(t),l=a?ka:G(e),s=s?ka:G(t),c=(l=l==Yr?Jr:l)==Jr,u=(s=s==Yr?Jr:s)==Jr,s;if((s=l==s)&&yo(e)){if(!yo(t))return!1;c=!(a=!0)}if(s&&!c){o=o||new _;if(a||Do(e))return Un(e,t,n,i,r,o);else{var d=e;var p=t;var h=l;var f=n;var g=i;var m=r;var v=o;switch(h){case ta:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case Ra:return d.byteLength==p.byteLength&&m(new ee(d),new ee(p))?!0:!1;case Kr:case Zr:case Qr:return fo(+d,+p);case Sa:return d.name==p.name&&d.message==p.message;case Ta:case Da:return d==p+"";case Xr:var b=ul;case ea:var y=1&f;if(b=b||fa,d.size!=p.size&&!y)return!1;y=v.get(d);if(y)return y==p;f|=2,v.set(d,p);y=Un(b(d),b(p),f,g,m,v);return v.delete(d),y;case Aa:if(Ie)return Ie.call(d)==Ie.call(p)}return!1;return}}if(!(1&n)){var a=c&&L.call(e,"__wrapped__"),l=u&&L.call(t,"__wrapped__");if(a||l)return c=a?e.value():e,u=l?t.value():t,o=o||new _,r(c,u,n,i,o)}if(s){o=o||new _;var w=e,C=t,$=n,x=i,k=r,S=o,E=1&$,M=Bn(w),P=M.length,a=Bn(C).length;if(P!=a&&!E)return!1;for(var T=P;T--;){var D=M[T];if(!(E?D in C:L.call(C,D)))return!1}if((a=S.get(w))&&S.get(C))return a==C;for(var A=!0,O=(S.set(w,C),S.set(C,w),E);++T<P;){D=M[T];var R,I=w[D],N=C[D];if(!((R=x?E?x(N,I,D,C,w,S):x(I,N,D,w,C,S):R)===Vr?I===N||k(I,N,$,x,S):R)){A=!1;break}O=O||"constructor"==D}return A&&!O&&(a=w.constructor,l=C.constructor,a!=l&&"constructor"in w&&"constructor"in C&&!("function"==typeof a&&a instanceof a&&"function"==typeof l&&l instanceof l)&&(A=!1)),S.delete(w),S.delete(C),A}return!1}}function $t(e,t,n,i){var o=n.length,r=o,a=!i;if(null==e)return!r;for(e=g(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<r;){var l=(s=n[o])[0],c=e[l],u=s[1];if(a&&s[2]){if(c===Vr&&!(l in e))return!1}else{var d,p=new _;if(!((d=i?i(c,u,l,e,t,p):d)===Vr?Ct(u,c,3,i,p):d))return!1}}return!0}function xt(e){return!(!S(e)||(t=e,K&&K in t))&&(Co(e)?J:vs).test(Ci(e));var t}function kt(e){return"function"==typeof e?e:null==e?O:"object"==typeof e?F(e)?Dt(e[0],e[1]):Tt(e):Mr(e)}function St(e){if(!si(e))return be(e);var t,n=[];for(t in g(e))L.call(e,t)&&"constructor"!=t&&n.push(t);return n}function Et(e){if(!S(e)){var t=e,n=[];if(null!=t)for(var i in g(t))n.push(i);return n}var o,r=si(e),a=[];for(o in e)("constructor"!=o||!r&&L.call(e,o))&&a.push(o);return a}function Mt(e,t){return e<t}function Pt(e,i){var o=-1,r=h(e)?$(e.length):[];return ot(e,function(e,t,n){r[++o]=i(e,t,n)}),r}function Tt(t){var n=Zn(t);return 1==n.length&&n[0][2]?ci(n[0][0],n[0][1]):function(e){return e===t||$t(e,t,n)}}function Dt(n,i){return oi(n)&&li(i)?ci(wi(n),i):function(e){var t=Bo(e,n);return t===Vr&&t===i?jo(e,n):Ct(i,t,3)}}function At(g,m,v,b,y){g!==m&&ct(m,function(e,t){var n,i,o,r,a,s,l,c,u,d,p,h,f;S(e)?(y=y||new _,i=m,r=v,a=At,s=b,l=y,p=(n=g)[o=t],h=i[o],(f=l.get(h))?qe(n,o,f):(f=s?s(p,h,o+"",n,i,l):Vr,(i=f===Vr)&&(c=F(h),u=!c&&yo(h),d=!c&&!u&&Do(h),f=h,c||u||d?f=F(p)?p:C(p)?k(p):u?cn(h,!(i=!1)):d?dn(h,!(i=!1)):[]:Eo(h)||vo(h)?vo(f=p)?f=Lo(p):(!S(p)||r&&Co(p))&&(f=ti(h)):i=!1),i&&(l.set(h,f),a(f,h,r,s,l),l.delete(h)),qe(n,o,f))):(c=b?b(g[t],e,t+"",g,m,y):Vr,qe(g,t,c=c===Vr?e:c))},A)}function Ot(e,t){var n=e.length;if(n)return ii(t+=t<0?n:0,n)?e[t]:Vr}function Rt(e,i,u){var o=-1;i=la(i.length?i:[O],da(d()));var t=Pt(e,function(t,e,n){return{criteria:la(i,function(e){return e(t)}),index:++o,value:t}}),e=function(e,t){for(var n=u,i=-1,o=e.criteria,r=t.criteria,a=o.length,s=n.length;++i<a;){var l=pn(o[i],r[i]);if(l){if(s<=i)return l;var c=n[i];return l*("desc"==c?-1:1)}}return e.index-t.index},n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function It(e,t,n){for(var i=-1,o=t.length,r={};++i<o;){var a=t[i],s=ht(e,a);n(s,a)&&zt(r,rn(a,e),s)}return r}function Nt(e,t,n,i){var o=i?Zs:ua,r=-1,a=t.length,s=e;for(e===t&&(t=k(t)),n&&(s=la(e,da(n)));++r<a;)for(var l=0,c=t[r],u=n?n(c):c;-1<(l=o(s,u,l,i));)s!==e&&re.call(s,l,1),re.call(e,l,1);return e}function Lt(e,t){for(var n=e?t.length:0,i=n-1;n--;){var o,r=t[n];n!=i&&r===o||(ii(o=r)?re.call(e,r,1):Zt(e,r))}}function _t(e,t){return e+fe(Ce()*(t-e+1))}function Gt(e,t){var n="";if(!e||t<1||Wr<t)return n;for(;t%2&&(n+=e),(t=fe(t/2))&&(e+=e),t;);return n}function a(e,t){return fi(ui(e,t,O),e+"")}function Ft(e){return Be(nr(e))}function Vt(e,t){e=nr(e);return vi(e,et(t,0,e.length))}function zt(e,t,n,i){if(!S(e))return e;for(var o=-1,r=(t=rn(t,e)).length,a=r-1,s=e;null!=s&&++o<r;){var l,c=wi(t[o]),u=n;o!=a&&(l=s[c],(u=i?i(l,c,s):Vr)===Vr&&(u=S(l)?l:ii(t[o+1])?[]:{})),Ye(s,c,u),s=s[c]}return e}var Ut=Me?function(e,t){return Me.set(e,t),e}:O,t=ce?function(e,t){return ce(e,"toString",{configurable:!0,enumerable:!1,value:mr(t),writable:!0})}:O;function Ht(e){return vi(nr(e))}function c(e,t,n){for(var i=-1,o=e.length,r=((n=o<n?o:n)<0&&(n+=o),o=n<(t=t<0?o<-t?0:o+t:t)?0:n-t>>>0,t>>>=0,$(o));++i<o;)r[i]=e[i+t];return r}function Bt(e,i){var o;return ot(e,function(e,t,n){return!(o=i(e,t,n))}),!!o}function jt(e,t,n){var i=0,o=null==e?i:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;i<o;){var r=i+o>>>1,a=e[r];null!==a&&!E(a)&&(n?a<=t:a<t)?i=1+r:o=r}return o}return Wt(e,t,O,n)}function Wt(e,t,n,i){t=n(t);for(var o=0,r=null==e?0:e.length,a=t!=t,s=null===t,l=E(t),c=t===Vr;o<r;){var u=fe((o+r)/2),d=n(e[u]),p=d!==Vr,h=null===d,f=d==d,g=E(d),f=a?i||f:c?f&&(i||p):s?f&&p&&(i||!h):l?f&&p&&!h&&(i||!g):!h&&!g&&(i?d<=t:d<t);f?o=u+1:r=u}return x(r,4294967294)}function qt(e,t){for(var n=-1,i=e.length,o=0,r=[];++n<i;){var a,s=e[n],l=t?t(s):s;n&&fo(l,a)||(a=l,r[o++]=0===s?0:s)}return r}function Yt(e){return"number"==typeof e?e:E(e)?$a:+e}function u(e){if("string"==typeof e)return e;if(F(e))return la(e,u)+"";if(E(e))return Ne?Ne.call(e):"";var t=e+"";return"0"==t&&1/e==-jr?"-0":t}function Kt(e,t,n){var i=-1,o=Hs,r=e.length,a=!0,s=[],l=s;if(n)a=!1,o=Bs;else if(200<=r){var c=t?null:Ln(e);if(c)return fa(c);a=!1,o=ol,l=new Ue}else l=t?[]:s;e:for(;++i<r;){var u=e[i],d=t?t(u):u,u=n||0!==u?u:0;if(a&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),s.push(u)}else o(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function Zt(e,t){return null==(e=di(e,t=rn(t,e)))||delete e[wi(i(t))]}function Xt(e,t,n,i){return zt(e,t,n(ht(e,t)),i)}function Qt(e,t,n,i){for(var o=e.length,r=i?o:-1;(i?r--:++r<o)&&t(e[r],r,e););return n?c(e,i?0:r,i?r+1:o):c(e,i?r+1:0,i?o:r)}function Jt(e,t){var n=e;return js(t,function(e,t){return t.func.apply(t.thisArg,ca([e],t.args))},n=e instanceof v?e.value():n)}function en(e,t,n){var i=e.length;if(i<2)return i?Kt(e[0]):[];for(var o=-1,r=$(i);++o<i;)for(var a=e[o],s=-1;++s<i;)s!=o&&(r[o]=it(r[o]||a,e[s],t,n));return Kt(l(r,1),t,n)}function tn(e,t,n){for(var i=-1,o=e.length,r=t.length,a={};++i<o;){var s=i<r?t[i]:Vr;n(a,e[i],s)}return a}function nn(e){return C(e)?e:[]}function on(e){return"function"==typeof e?e:O}function rn(e,t){return F(e)?e:oi(e,t)?[e]:yi(T(e))}var an=a;function sn(e,t,n){var i=e.length;return n=n===Vr?i:n,!t&&i<=n?e:c(e,t,n)}var ln=ue||function(e){return oa.clearTimeout(e)};function cn(e,t){if(t)return e.slice();t=e.length,t=te?te(t):new e.constructor(t);return e.copy(t),t}function un(e){var t=new e.constructor(e.byteLength);return new ee(t).set(new ee(e)),t}function dn(e,t){t=t?un(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function pn(e,t){if(e!==t){var n=e!==Vr,i=null===e,o=e==e,r=E(e),a=t!==Vr,s=null===t,l=t==t,c=E(t);if(!s&&!c&&!r&&t<e||r&&a&&l&&!s&&!c||i&&a&&l||!n&&l||!o)return 1;if(!i&&!r&&!c&&e<t||c&&n&&o&&!i&&!r||s&&n&&o||!a&&o||!l)return-1}return 0}function hn(e,t,n,i){for(var o=-1,r=e.length,a=n.length,s=-1,l=t.length,c=y(r-a,0),u=$(l+c),d=!i;++s<l;)u[s]=t[s];for(;++o<a;)(d||o<r)&&(u[n[o]]=e[o]);for(;c--;)u[s++]=e[o++];return u}function fn(e,t,n,i){for(var o=-1,r=e.length,a=-1,s=n.length,l=-1,c=t.length,u=y(r-s,0),d=$(u+c),p=!i;++o<u;)d[o]=e[o];for(var h=o;++l<c;)d[h+l]=t[l];for(;++a<s;)(p||o<r)&&(d[h+n[a]]=e[o++]);return d}function k(e,t){var n=-1,i=e.length;for(t=t||$(i);++n<i;)t[n]=e[n];return t}function gn(e,t,n,i){for(var o=!n,r=(n=n||{},-1),a=t.length;++r<a;){var s=t[r],l=i?i(n[s],e[s],s,n,e):Vr;(o?Qe:Ye)(n,s,l=l===Vr?e[s]:l)}return n}function mn(o,r){return function(e,t){var n=F(e)?Vs:Ze,i=r?r():{};return n(e,o,d(t,2),i)}}function vn(s){return a(function(e,t){var n=-1,i=t.length,o=1<i?t[i-1]:Vr,r=2<i?t[2]:Vr,o=3<s.length&&"function"==typeof o?(i--,o):Vr;for(r&&p(t[0],t[1],r)&&(o=i<3?Vr:o,i=1),e=g(e);++n<i;){var a=t[n];a&&s(e,a,n,o)}return e})}function bn(r,a){return function(e,t){if(null==e)return e;if(!h(e))return r(e,t);for(var n=e.length,i=a?n:-1,o=g(e);(a?i--:++i<n)&&!1!==t(o[i],i,o););return e}}function yn(l){return function(e,t,n){for(var i=-1,o=g(e),r=n(e),a=r.length;a--;){var s=r[l?a:++i];if(!1===t(o[s],s,o))break}return e}}function wn(i){return function(e){var t=pa(e=T(e))?ma(e):Vr,n=t?t[0]:e.charAt(0),t=t?sn(t,1).join(""):e.slice(1);return n[i]()+t}}function Cn(t){return function(e){return js(hr(rr(e).replace(xs,"")),t,"")}}function $n(i){return function(){var e=arguments;switch(e.length){case 0:return new i;case 1:return new i(e[0]);case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[1],e[2]);case 4:return new i(e[0],e[1],e[2],e[3]);case 5:return new i(e[0],e[1],e[2],e[3],e[4]);case 6:return new i(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Le(i.prototype),n=i.apply(t,e);return S(n)?n:t}}function xn(r,a,s){var l=$n(r);return function e(){for(var t=arguments.length,n=$(t),i=t,o=Yn(e);i--;)n[i]=arguments[i];o=t<3&&n[0]!==o&&n[t-1]!==o?[]:ha(n,o);return(t-=o.length)<s?In(r,a,En,e.placeholder,Vr,n,o,Vr,Vr,s-t):ra(this&&this!==oa&&this instanceof e?l:r,this,n)}}function kn(r){return function(e,t,n){var i,o=g(e),t=(h(e)||(i=d(t,3),e=D(e),t=function(e){return i(o[e],e,o)}),r(e,t,n));return-1<t?o[i?e[t]:t]:Vr}}function Sn(l){return Hn(function(o){var r=o.length,e=r,t=m.prototype.thru;for(l&&o.reverse();e--;){var n=o[e];if("function"!=typeof n)throw new b(zr);t&&!s&&"wrapper"==qn(n)&&(s=new m([],!0))}for(e=s?e:r;++e<r;)var i=qn(n=o[e]),a="wrapper"==i?Wn(n):Vr,s=a&&ri(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?s[qn(a[0])].apply(s,a[3]):1==n.length&&ri(n)?s[i]():s.thru(n);return function(){var e=arguments,t=e[0];if(s&&1==e.length&&F(t))return s.plant(t).value();for(var n=0,i=r?o[n].apply(this,e):t;++n<r;)i=o[n].call(this,i);return i}})}function En(a,s,l,c,u,d,p,h,f,g){var m=s&Br,v=1&s,b=2&s,y=24&s,w=512&s,C=b?Vr:$n(a);return function e(){for(var t=$(r=arguments.length),n=r;n--;)t[n]=arguments[n];if(y&&(o=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(t,i=Yn(e))),c&&(t=hn(t,c,u,y)),d&&(t=fn(t,d,p,y)),r-=o,y&&r<g)return o=ha(t,i),In(a,s,En,e.placeholder,l,t,o,h,f,g-r);var i=v?l:this,o=b?i[a]:a,r=t.length;return h?t=function(e,t){for(var n=e.length,i=x(t.length,n),o=k(e);i--;){var r=t[i];e[i]=ii(r,n)?o[r]:Vr}return e}(t,h):w&&1<r&&t.reverse(),m&&f<r&&(t.length=f),(o=this&&this!==oa&&this instanceof e?C||$n(o):o).apply(i,t)}}function Mn(n,a){return function(e,t){return e=e,i=n,o=a(t),r={},s(e,function(e,t,n){i(r,o(e),t,n)}),r;var i,o,r}}function Pn(i,o){return function(e,t){var n;if(e===Vr&&t===Vr)return o;if(e!==Vr&&(n=e),t!==Vr){if(n===Vr)return t;t="string"==typeof e||"string"==typeof t?(e=u(e),u(t)):(e=Yt(e),Yt(t)),n=i(e,t)}return n}}function Tn(i){return Hn(function(e){return e=la(e,da(d())),a(function(t){var n=this;return i(e,function(e){return ra(e,n,t)})})})}function Dn(e,t){var n=(t=t===Vr?" ":u(t)).length;if(n<2)return n?Gt(t,e):t;n=Gt(t,he(e/ga(t)));return pa(t)?sn(ma(n),0,e).join(""):n.slice(0,e)}function An(s,e,l,c){var u=1&e,d=$n(s);return function e(){for(var t=-1,n=arguments.length,i=-1,o=c.length,r=$(o+n),a=this&&this!==oa&&this instanceof e?d:s;++i<o;)r[i]=c[i];for(;n--;)r[i++]=arguments[++t];return ra(a,u?l:this,r)}}function On(c){return function(e,t,n){n&&"number"!=typeof n&&p(e,t,n)&&(t=n=Vr),e=Io(e),t===Vr?(t=e,e=0):t=Io(t),n=n===Vr?e<t?1:-1:Io(n);for(var i=e,o=n,r=c,a=-1,s=y(he((t-i)/(o||1)),0),l=$(s);s--;)l[r?s:++a]=i,i+=o;return l}}function Rn(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=P(e),t=P(t)),n(e,t)}}function In(e,t,n,i,o,r,a,s,l,c){var u=8&t,o=(4&(t=(t|(u?Ur:Hr))&~(u?Hr:Ur))||(t&=-4),[e,t,o,u?r:Vr,u?a:Vr,u?Vr:r,u?Vr:a,s,l,c]),r=n.apply(Vr,o);return ri(e)&&pi(r,o),r.placeholder=i,gi(r,e,t)}function Nn(e){var i=N[e];return function(e,t){var n;return e=P(e),(t=null==t?0:x(M(t),292))?(n=(T(e)+"e").split("e"),+((n=(T(i(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))):i(e)}}var Ln=Se&&1/fa(new Se([,-0]))[1]==jr?function(e){return new Se(e)}:xr;function _n(r){return function(e){var t,n,i,o=G(e);return o==Xr?ul(e):o==ea?(o=e,t=-1,n=Array(o.size),o.forEach(function(e){n[++t]=[e,e]}),n):la(r(i=e),function(e){return[e,i[e]]})}}function Gn(e,t,n,i,o,r,a,s){var l=2&t;if(!l&&"function"!=typeof e)throw new b(zr);var c,u,d,p,h,f=i?i.length:0,g=(f||(t&=-97,i=o=Vr),a=a===Vr?a:y(M(a),0),s=s===Vr?s:M(s),f-=o?o.length:0,t&Hr&&(m=i,c=o,i=o=Vr),l?Vr:Wn(e)),m=[e,t,n,i,o,m,c,r,a,s];return g&&function(e,t){var n=e[1],i=t[1],o=n|i,r=o<131,a=i==Br&&8==n||i==Br&&n==Ca&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!r&&!a)return;1&i&&(e[2]=t[2],o|=1&n?0:4);r=t[3];{var s;r&&(s=e[3],e[3]=s?hn(s,r,t[4]):r,e[4]=s?ha(e[3],ya):t[4])}(r=t[5])&&(s=e[5],e[5]=s?fn(s,r,t[6]):r,e[6]=s?ha(e[5],ya):t[6]);(r=t[7])&&(e[7]=r);i&Br&&(e[8]=null==e[8]?t[8]:x(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(m,g),e=m[0],t=m[1],n=m[2],i=m[3],o=m[4],!(s=m[9]=m[9]===Vr?l?0:e.length:y(m[9]-f,0))&&24&t&&(t&=-25),c=t&&1!=t?8==t||t==wa?xn(e,t,s):t!=Ur&&33!=t||o.length?En.apply(Vr,m):An(e,t,n,i):(d=n,p=1&t,h=$n(u=e),function e(){return(this&&this!==oa&&this instanceof e?h:u).apply(p?d:this,arguments)}),gi((g?Ut:pi)(c,m),e,t)}function Fn(e,t,n,i){return e===Vr||fo(e,j[n])&&!L.call(i,n)?t:e}function Vn(e,t,n,i,o,r){return S(e)&&S(t)&&(r.set(t,e),At(e,t,Vr,Vn,r),r.delete(t)),e}function zn(e){return Eo(e)?Vr:e}function Un(e,t,n,i,o,r){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&s<l))return!1;l=r.get(e);if(l&&r.get(t))return l==t;var c=-1,u=!0,d=2&n?new Ue:Vr;for(r.set(e,t),r.set(t,e);++c<s;){var p,h=e[c],f=t[c];if((p=i?a?i(f,h,c,t,e,r):i(h,f,c,e,t,r):p)!==Vr){if(p)continue;u=!1;break}if(d){if(!qs(t,function(e,t){return!ol(d,t)&&(h===e||o(h,e,n,i,r))&&d.push(t)})){u=!1;break}}else if(h!==f&&!o(h,f,n,i,r)){u=!1;break}}return r.delete(e),r.delete(t),u}function Hn(e){return fi(ui(e,Vr,Si),e+"")}function Bn(e){return ft(e,D,Qn)}function jn(e){return ft(e,A,Jn)}var Wn=Me?function(e){return Me.get(e)}:xr;function qn(e){for(var t=e.name+"",n=Pe[t],i=L.call(Pe,t)?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==e)return o.name}return t}function Yn(e){return(L.call(f,"placeholder")?f:e).placeholder}function d(){var e=(e=f.iteratee||yr)===yr?kt:e;return arguments.length?e(arguments[0],arguments[1]):e}function Kn(e,t){var n,i,e=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?e["string"==typeof t?"string":"hash"]:e.map}function Zn(e){for(var t=D(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,li(o)]}return t}function Xn(e,t){t=t;e=null==(e=e)?Vr:e[t];return xt(e)?e:Vr}var Qn=ge?function(t){return null==t?[]:(t=g(t),sa(ge(t),function(e){return oe.call(t,e)}))}:Dr,Jn=ge?function(e){for(var t=[];e;)ca(t,Qn(e)),e=ne(e);return t}:Dr,G=n;function ei(e,t,n){for(var i=-1,o=(t=rn(t,e)).length,r=!1;++i<o;){var a=wi(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}return r||++i!=o?r:!!(o=null==e?0:e.length)&&xo(o)&&ii(a,o)&&(F(e)||vo(e))}function ti(e){return"function"!=typeof e.constructor||si(e)?{}:Le(ne(e))}function ni(e){return F(e)||vo(e)||!!(ae&&e&&e[ae])}function ii(e,t){return!!(t=null==t?Wr:t)&&("number"==typeof e||ys.test(e))&&-1<e&&e%1==0&&e<t}function p(e,t,n){var i;if(S(n))return i=typeof t,("number"==i?h(n)&&ii(t,n.length):"string"==i&&t in n)&&fo(n[t],e)}function oi(e,t){var n;if(!F(e))return n=typeof e,"number"==n||"symbol"==n||"boolean"==n||null==e||E(e)||(es.test(e)||!Ja.test(e)||null!=t&&e in g(t))}function ri(e){var t=qn(e),n=f[t];if("function"==typeof n&&t in v.prototype){if(e===n)return 1;t=Wn(n);return t&&e===t[0]}}(r&&G(new r(new ArrayBuffer(1)))!=ta||xe&&G(new xe)!=Xr||ke&&G(ke.resolve())!=Pa||Se&&G(new Se)!=ea||e&&G(new e)!=Oa)&&(G=function(e){var t=n(e),e=t==Jr?e.constructor:Vr,e=e?Ci(e):"";if(e)switch(e){case Te:return ta;case De:return Xr;case Ae:return Pa;case Oe:return ea;case Re:return Oa}return t});var ai=W?Co:Ar;function si(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||j)}function li(e){return e==e&&!S(e)}function ci(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==Vr||t in g(e)))}}function ui(r,a,s){return a=y(a===Vr?r.length-1:a,0),function(){for(var e=arguments,t=-1,n=y(e.length-a,0),i=$(n);++t<n;)i[t]=e[a+t];for(var t=-1,o=$(a+1);++t<a;)o[t]=e[t];return o[a]=s(i),ra(r,this,o)}}function di(e,t){return t.length<2?e:ht(e,c(t,0,-1))}var pi=mi(Ut),hi=pe||function(e,t){return oa.setTimeout(e,t)},fi=mi(t);function gi(e,t,n){var i,o,t=t+"";return fi(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(1<n?"& ":"")+t[i],t=t.join(2<n?", ":" "),e.replace(ls,"{\n/* [wrapped with "+t+"] */\n")}(t,(i=(e=(e=t).match(cs))?e[1].split(us):[],o=n,aa(xa,function(e){var t="_."+e[0];o&e[1]&&!Hs(i,t)&&i.push(t)}),i.sort())))}function mi(n){var i=0,o=0;return function(){var e=ye(),t=16-(e-o);if(o=e,0<t){if(800<=++i)return arguments[0]}else i=0;return n.apply(Vr,arguments)}}function vi(e,t){var n=-1,i=e.length,o=i-1;for(t=t===Vr?i:t;++n<t;){var r=_t(n,o),a=e[r];e[r]=e[n],e[n]=a}return e.length=t,e}bi=(ue=lo(ue=function(e){var o=[];return ts.test(e)&&o.push(""),e.replace(ns,function(e,t,n,i){o.push(n?i.replace(ps,"$1"):t||e)}),o},function(e){return 500===bi.size&&bi.clear(),e})).cache;var bi,yi=ue;function wi(e){if("string"==typeof e||E(e))return e;var t=e+"";return"0"==t&&1/e==-jr?"-0":t}function Ci(e){if(null!=e){try{return q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $i(e){if(e instanceof v)return e.clone();var t=new m(e.__wrapped__,e.__chain__);return t.__actions__=k(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}r=a(function(e,t){return C(e)?it(e,l(t,1,C,!0)):[]}),ke=a(function(e,t){var n=i(t);return C(n)&&(n=Vr),C(e)?it(e,l(t,1,C,!0),d(n,2)):[]}),e=a(function(e,t){var n=i(t);return C(n)&&(n=Vr),C(e)?it(e,l(t,1,C,!0),Vr,n):[]});function xi(e,t,n){var i=null==e?0:e.length;if(!i)return-1;n=null==n?0:M(n);return n<0&&(n=y(i+n,0)),Ks(e,d(t,3),n)}function ki(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return n!==Vr&&(o=M(n),o=n<0?y(i+o,0):x(o,i-1)),Ks(e,d(t,3),o,!0)}function Si(e){return(null==e?0:e.length)?l(e,1):[]}function Ei(e){return e&&e.length?e[0]:Vr}W=a(function(e){var t=la(e,nn);return t.length&&t[0]===e[0]?bt(t):[]}),pe=a(function(e){var t=i(e),n=la(e,nn);return t===i(n)?t=Vr:n.pop(),n.length&&n[0]===e[0]?bt(n,d(t,2)):[]}),t=a(function(e){var t=i(e),n=la(e,nn);return(t="function"==typeof t?t:Vr)&&n.pop(),n.length&&n[0]===e[0]?bt(n,Vr,t):[]});function i(e){var t=null==e?0:e.length;return t?e[t-1]:Vr}ue=a(Mi);function Mi(e,t){return e&&e.length&&t&&t.length?Nt(e,t):e}var Pi=Hn(function(e,t){var n=null==e?0:e.length,i=Je(e,t);return Lt(e,la(t,function(e){return ii(e,n)?+e:e}).sort(pn)),i});function Ti(e){return null==e?e:$e.call(e)}var Di=a(function(e){return Kt(l(e,1,C,!0))}),Ai=a(function(e){var t=i(e);return C(t)&&(t=Vr),Kt(l(e,1,C,!0),d(t,2))}),Oi=a(function(e){var t="function"==typeof(t=i(e))?t:Vr;return Kt(l(e,1,C,!0),Vr,t)});function Ri(t){if(!t||!t.length)return[];var n=0;return t=sa(t,function(e){return C(e)&&(n=y(e.length,n),1)}),nl(n,function(e){return la(t,Js(e))})}function Ii(e,t){if(!e||!e.length)return[];e=Ri(e);return null==t?e:la(e,function(e){return ra(t,Vr,e)})}var Ni=a(function(e,t){return C(e)?it(e,t):[]}),Li=a(function(e){return en(sa(e,C))}),_i=a(function(e){var t=i(e);return C(t)&&(t=Vr),en(sa(e,C),d(t,2))}),Gi=a(function(e){var t="function"==typeof(t=i(e))?t:Vr;return en(sa(e,C),Vr,t)}),Fi=a(Ri);var Vi=a(function(e){var t=e.length,t="function"==typeof(t=1<t?e[t-1]:Vr)?(e.pop(),t):Vr;return Ii(e,t)});function zi(e){e=f(e);return e.__chain__=!0,e}function Ui(e,t){return t(e)}var Hi=Hn(function(t){function e(e){return Je(e,t)}var n=t.length,i=n?t[0]:0,o=this.__wrapped__;return!(1<n||this.__actions__.length)&&o instanceof v&&ii(i)?((o=o.slice(i,+i+(n?1:0))).__actions__.push({func:Ui,args:[e],thisArg:Vr}),new m(o,this.__chain__).thru(function(e){return n&&!e.length&&e.push(Vr),e})):this.thru(e)});var Bi=mn(function(e,t,n){L.call(e,n)?++e[n]:Qe(e,n,1)});var ji=kn(xi),Wi=kn(ki);function qi(e,t){return(F(e)?aa:ot)(e,d(t,3))}function Yi(e,t){return(F(e)?zs:rt)(e,d(t,3))}var Ki=mn(function(e,t,n){L.call(e,n)?e[n].push(t):Qe(e,n,[t])});var Zi=a(function(e,t,n){var i=-1,o="function"==typeof t,r=h(e)?$(e.length):[];return ot(e,function(e){r[++i]=o?ra(t,e,n):yt(e,t,n)}),r}),Xi=mn(function(e,t,n){Qe(e,n,t)});function Qi(e,t){return(F(e)?la:Pt)(e,d(t,3))}var Ji=mn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var eo=a(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&p(e,t[0],t[1])?t=[]:2<n&&p(t[0],t[1],t[2])&&(t=[t[0]]),Rt(e,l(t,1),[])}),to=de||function(){return oa.Date.now()};function no(e,t,n){return t=n?Vr:t,t=e&&null==t?e.length:t,Gn(e,Br,Vr,Vr,Vr,Vr,t)}function io(e,t){var n;if("function"!=typeof t)throw new b(zr);return e=M(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=Vr),n}}var oo=a(function(e,t,n){var i,o=1;return n.length&&(i=ha(n,Yn(oo)),o|=Ur),Gn(e,o,t,n,i)}),ro=a(function(e,t,n){var i,o=3;return n.length&&(i=ha(n,Yn(ro)),o|=Ur),Gn(t,o,e,n,i)});function ao(i,n,e){var o,r,a,s,l,c,u=0,d=!1,p=!1,t=!0;if("function"!=typeof i)throw new b(zr);function h(e){var t=o,n=r;return o=r=Vr,u=e,s=i.apply(n,t)}function f(e){var t=e-c;return c===Vr||n<=t||t<0||p&&a<=e-u}function g(){var e,t=to();if(f(t))return m(t);l=hi(g,(e=n-((t=t)-c),p?x(e,a-(t-u)):e))}function m(e){return l=Vr,t&&o?h(e):(o=r=Vr,s)}function v(){var e=to(),t=f(e);if(o=arguments,r=this,c=e,t){if(l===Vr)return u=e=c,l=hi(g,n),d?h(e):s;if(p)return l=hi(g,n),h(c)}return l===Vr&&(l=hi(g,n)),s}return n=P(n)||0,S(e)&&(d=!!e.leading,p="maxWait"in e,a=p?y(P(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),v.cancel=function(){l!==Vr&&ln(l),u=0,o=c=r=l=Vr},v.flush=function(){return l===Vr?s:m(to())},v}var de=a(function(e,t){return nt(e,1,t)}),so=a(function(e,t,n){return nt(e,P(t)||0,n)});function lo(i,o){if("function"!=typeof i||null!=o&&"function"!=typeof o)throw new b(zr);function r(){var e=arguments,t=o?o.apply(this,e):e[0],n=r.cache;return n.has(t)?n.get(t):(e=i.apply(this,e),r.cache=n.set(t,e)||n,e)}return r.cache=new(lo.Cache||ze),r}function co(t){if("function"!=typeof t)throw new b(zr);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}lo.Cache=ze;var an=an(function(i,o){var r=(o=1==o.length&&F(o[0])?la(o[0],da(d())):la(l(o,1),da(d()))).length;return a(function(e){for(var t=-1,n=x(e.length,r);++t<n;)e[t]=o[t].call(this,e[t]);return ra(i,this,e)})}),uo=a(function(e,t){var n=ha(t,Yn(uo));return Gn(e,Ur,Vr,t,n)}),po=a(function(e,t){var n=ha(t,Yn(po));return Gn(e,Hr,Vr,t,n)}),ho=Hn(function(e,t){return Gn(e,Ca,Vr,Vr,Vr,t)});function fo(e,t){return e===t||e!=e&&t!=t}var go=Rn(gt),mo=Rn(function(e,t){return t<=e}),vo=wt(function(){return arguments}())?wt:function(e){return V(e)&&L.call(e,"callee")&&!oe.call(e,"callee")},F=$.isArray,bo=Os?da(Os):function(e){return V(e)&&n(e)==Ra};function h(e){return null!=e&&xo(e.length)&&!Co(e)}function C(e){return V(e)&&h(e)}var yo=B||Ar,B=Rs?da(Rs):function(e){return V(e)&&n(e)==Zr};function wo(e){if(!V(e))return!1;var t=n(e);return t==Sa||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Eo(e)}function Co(e){if(!S(e))return!1;e=n(e);return e==Ea||e==Ma||"[object AsyncFunction]"==e||"[object Proxy]"==e}function $o(e){return"number"==typeof e&&e==M(e)}function xo(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=Wr}function S(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function V(e){return null!=e&&"object"==typeof e}var ko=Is?da(Is):function(e){return V(e)&&G(e)==Xr};function So(e){return"number"==typeof e||V(e)&&n(e)==Qr}function Eo(e){if(!V(e)||n(e)!=Jr)return!1;e=ne(e);if(null===e)return!0;e=L.call(e,"constructor")&&e.constructor;return"function"==typeof e&&e instanceof e&&q.call(e)==X}var Mo=Ns?da(Ns):function(e){return V(e)&&n(e)==Ta};var Po=Ls?da(Ls):function(e){return V(e)&&G(e)==ea};function To(e){return"string"==typeof e||!F(e)&&V(e)&&n(e)==Da}function E(e){return"symbol"==typeof e||V(e)&&n(e)==Aa}var Do=_s?da(_s):function(e){return V(e)&&xo(e.length)&&!!na[n(e)]};var Ao=Rn(Mt),Oo=Rn(function(e,t){return e<=t});function Ro(e){if(!e)return[];if(h(e))return(To(e)?ma:k)(e);if(se&&e[se]){for(var t,n=e[se](),i=[];!(t=n.next()).done;)i.push(t.value);return i}var o=G(e);return(o==Xr?ul:o==ea?fa:nr)(e)}function Io(e){return e?(e=P(e))===jr||e===-jr?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function M(e){var e=Io(e),t=e%1;return e==e?t?e-t:e:0}function No(e){return e?et(M(e),0,qr):0}function P(e){if("number"==typeof e)return e;if(E(e))return $a;if("string"!=typeof(e=S(e)?S(t="function"==typeof e.valueOf?e.valueOf():e)?t+"":t:e))return 0===e?e:+e;e=e.replace(rs,"");var t=ms.test(e);return t||bs.test(e)?Ds(e.slice(2),t?2:8):gs.test(e)?$a:+e}function Lo(e){return gn(e,A(e))}function T(e){return null==e?"":u(e)}var _o=vn(function(e,t){if(si(t)||h(t))gn(t,D(t),e);else for(var n in t)L.call(t,n)&&Ye(e,n,t[n])}),Go=vn(function(e,t){gn(t,A(t),e)}),Fo=vn(function(e,t,n,i){gn(t,A(t),e,i)}),Vo=vn(function(e,t,n,i){gn(t,D(t),e,i)}),zo=Hn(Je);var Uo=a(function(e){return e.push(Vr,Fn),ra(Fo,Vr,e)}),Ho=a(function(e){return e.push(Vr,Vn),ra(Zo,Vr,e)});function Bo(e,t,n){e=null==e?Vr:ht(e,t);return e===Vr?n:e}function jo(e,t){return null!=e&&ei(e,t,vt)}var Wo=Mn(function(e,t,n){e[t]=n},mr(O)),qo=Mn(function(e,t,n){L.call(e,t)?e[t].push(n):e[t]=[n]},d),Yo=a(yt);function D(e){return(h(e)?He:St)(e)}function A(e){return h(e)?He(e,!0):Et(e)}var Ko=vn(function(e,t,n){At(e,t,n)}),Zo=vn(function(e,t,n,i){At(e,t,n,i)}),Xo=Hn(function(t,e){var n={};if(null==t)return n;for(var i=!1,o=(e=la(e,function(e){return e=rn(e,t),i=i||1<e.length,e}),gn(t,jn(t),n),i&&(n=w(n,7,zn)),e.length);o--;)Zt(n,e[o]);return n});var Qo=Hn(function(e,t){return null==e?{}:It(n=e,t,function(e,t){return jo(n,t)});var n});function Jo(e,n){if(null==e)return{};var t=la(jn(e),function(e){return[e]});return n=d(n),It(e,t,function(e,t){return n(e,t[0])})}var er=_n(D),tr=_n(A);function nr(e){return null==e?[]:il(e,D(e))}var ir=Cn(function(e,t,n){return t=t.toLowerCase(),e+(n?or(t):t)});function or(e){return pr(T(e).toLowerCase())}function rr(e){return(e=T(e))&&e.replace(ws,sl).replace(ks,"")}var ar=Cn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),sr=Cn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),lr=wn("toLowerCase");var cr=Cn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var ur=Cn(function(e,t,n){return e+(n?" ":"")+pr(t)});var dr=Cn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),pr=wn("toUpperCase");function hr(e,t,n){return e=T(e),(t=n?Vr:t)===Vr?(n=e,Es.test(n)?e.match(Ss)||[]:e.match(ds)||[]):e.match(t)||[]}var fr=a(function(e,t){try{return ra(e,Vr,t)}catch(e){return wo(e)?e:new R(e)}}),gr=Hn(function(t,e){return aa(e,function(e){e=wi(e),Qe(t,e,oo(t[e],t))}),t});function mr(e){return function(){return e}}var vr=Sn(),br=Sn(!0);function O(e){return e}function yr(e){return kt("function"==typeof e?e:w(e,1))}var wr=a(function(t,n){return function(e){return yt(e,t,n)}}),Cr=a(function(t,n){return function(e){return yt(t,e,n)}});function $r(i,t,e){var n=D(t),o=pt(t,n),r=(null!=e||S(t)&&(o.length||!n.length)||(e=t,t=i,i=this,o=pt(t,D(t))),!(S(e)&&"chain"in e&&!e.chain)),a=Co(i);return aa(o,function(e){var n=t[e];i[e]=n,a&&(i.prototype[e]=function(){var e,t=this.__chain__;return r||t?(((e=i(this.__wrapped__)).__actions__=k(this.__actions__)).push({func:n,args:arguments,thisArg:i}),e.__chain__=t,e):n.apply(i,ca([this.value()],arguments))})}),i}function xr(){}var kr=Tn(la),Sr=Tn(Us),Er=Tn(qs);function Mr(e){return oi(e)?Js(wi(e)):(t=e,function(e){return ht(e,t)});var t}var Pr=On(),Tr=On(!0);function Dr(){return[]}function Ar(){return!1}var Or=Pn(function(e,t){return e+t},0),Rr=Nn("ceil"),Ir=Pn(function(e,t){return e/t},1),Nr=Nn("floor");var Lr,_r=Pn(function(e,t){return e*t},1),Gr=Nn("round"),Fr=Pn(function(e,t){return e-t},0);return f.after=function(e,t){if("function"!=typeof t)throw new b(zr);return e=M(e),function(){if(--e<1)return t.apply(this,arguments)}},f.ary=no,f.assign=_o,f.assignIn=Go,f.assignInWith=Fo,f.assignWith=Vo,f.at=zo,f.before=io,f.bind=oo,f.bindAll=gr,f.bindKey=ro,f.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return F(e)?e:[e]},f.chain=zi,f.chunk=function(e,t,n){t=(n?p(e,t,n):t===Vr)?1:y(M(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,r=0,a=$(he(i/t));o<i;)a[r++]=c(e,o,o+=t);return a},f.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,o=[];++t<n;){var r=e[t];r&&(o[i++]=r)}return o},f.concat=function(){var e=arguments.length;if(!e)return[];for(var t=$(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ca(F(n)?k(n):[n],l(t,1))},f.cond=function(i){var o=null==i?0:i.length,t=d();return i=o?la(i,function(e){if("function"!=typeof e[1])throw new b(zr);return[t(e[0]),e[1]]}):[],a(function(e){for(var t=-1;++t<o;){var n=i[t];if(ra(n[0],this,e))return ra(n[1],this,e)}})},f.conforms=function(e){return t=w(e,1),n=D(t),function(e){return tt(e,t,n)};var t,n},f.constant=mr,f.countBy=Bi,f.create=function(e,t){return e=Le(e),null==t?e:Xe(e,t)},f.curry=function e(t,n,i){t=Gn(t,8,Vr,Vr,Vr,Vr,Vr,n=i?Vr:n);return t.placeholder=e.placeholder,t},f.curryRight=function e(t,n,i){t=Gn(t,wa,Vr,Vr,Vr,Vr,Vr,n=i?Vr:n);return t.placeholder=e.placeholder,t},f.debounce=ao,f.defaults=Uo,f.defaultsDeep=Ho,f.defer=de,f.delay=so,f.difference=r,f.differenceBy=ke,f.differenceWith=e,f.drop=function(e,t,n){var i=null==e?0:e.length;return i?c(e,(t=n||t===Vr?1:M(t))<0?0:t,i):[]},f.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?c(e,0,(t=i-(t=n||t===Vr?1:M(t)))<0?0:t):[]},f.dropRightWhile=function(e,t){return e&&e.length?Qt(e,d(t,3),!0,!0):[]},f.dropWhile=function(e,t){return e&&e.length?Qt(e,d(t,3),!0):[]},f.fill=function(e,t,n,i){if(!(l=null==e?0:e.length))return[];n&&"number"!=typeof n&&p(e,t,n)&&(n=0,i=l);var o=e,r=t,a=n,s=i,l=o.length;for((a=M(a))<0&&(a=l<-a?0:l+a),(s=s===Vr||l<s?l:M(s))<0&&(s+=l),s=s<a?0:No(s);a<s;)o[a++]=r;return o},f.filter=function(e,t){return(F(e)?sa:lt)(e,d(t,3))},f.flatMap=function(e,t){return l(Qi(e,t),1)},f.flatMapDeep=function(e,t){return l(Qi(e,t),jr)},f.flatMapDepth=function(e,t,n){return n=n===Vr?1:M(n),l(Qi(e,t),n)},f.flatten=Si,f.flattenDeep=function(e){return(null==e?0:e.length)?l(e,jr):[]},f.flattenDepth=function(e,t){return(null==e?0:e.length)?l(e,t=t===Vr?1:M(t)):[]},f.flip=function(e){return Gn(e,512)},f.flow=vr,f.flowRight=br,f.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var o=e[t];i[o[0]]=o[1]}return i},f.functions=function(e){return null==e?[]:pt(e,D(e))},f.functionsIn=function(e){return null==e?[]:pt(e,A(e))},f.groupBy=Ki,f.initial=function(e){return(null==e?0:e.length)?c(e,0,-1):[]},f.intersection=W,f.intersectionBy=pe,f.intersectionWith=t,f.invert=Wo,f.invertBy=qo,f.invokeMap=Zi,f.iteratee=yr,f.keyBy=Xi,f.keys=D,f.keysIn=A,f.map=Qi,f.mapKeys=function(e,i){var o={};return i=d(i,3),s(e,function(e,t,n){Qe(o,i(e,t,n),e)}),o},f.mapValues=function(e,i){var o={};return i=d(i,3),s(e,function(e,t,n){Qe(o,t,i(e,t,n))}),o},f.matches=function(e){return Tt(w(e,1))},f.matchesProperty=function(e,t){return Dt(e,w(t,1))},f.memoize=lo,f.merge=Ko,f.mergeWith=Zo,f.method=wr,f.methodOf=Cr,f.mixin=$r,f.negate=co,f.nthArg=function(t){return t=M(t),a(function(e){return Ot(e,t)})},f.omit=Xo,f.omitBy=function(e,t){return Jo(e,co(d(t)))},f.once=function(e){return io(2,e)},f.orderBy=function(e,t,n,i){return null==e?[]:Rt(e,t=F(t)?t:null==t?[]:[t],n=F(n=i?Vr:n)?n:null==n?[]:[n])},f.over=kr,f.overArgs=an,f.overEvery=Sr,f.overSome=Er,f.partial=uo,f.partialRight=po,f.partition=Ji,f.pick=Qo,f.pickBy=Jo,f.property=Mr,f.propertyOf=function(t){return function(e){return null==t?Vr:ht(t,e)}},f.pull=ue,f.pullAll=Mi,f.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Nt(e,t,d(n,2)):e},f.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Nt(e,t,Vr,n):e},f.pullAt=Pi,f.range=Pr,f.rangeRight=Tr,f.rearg=ho,f.reject=function(e,t){return(F(e)?sa:lt)(e,co(d(t,3)))},f.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,o=[],r=e.length;for(t=d(t,3);++i<r;){var a=e[i];t(a,i,e)&&(n.push(a),o.push(i))}return Lt(e,o),n},f.rest=function(e,t){if("function"!=typeof e)throw new b(zr);return a(e,t=t===Vr?t:M(t))},f.reverse=Ti,f.sampleSize=function(e,t,n){return t=(n?p(e,t,n):t===Vr)?1:M(t),(F(e)?je:Vt)(e,t)},f.set=function(e,t,n){return null==e?e:zt(e,t,n)},f.setWith=function(e,t,n,i){return i="function"==typeof i?i:Vr,null==e?e:zt(e,t,n,i)},f.shuffle=function(e){return(F(e)?We:Ht)(e)},f.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n=n&&"number"!=typeof n&&p(e,t,n)?(t=0,i):(t=null==t?0:M(t),n===Vr?i:M(n)),c(e,t,n)):[]},f.sortBy=eo,f.sortedUniq=function(e){return e&&e.length?qt(e):[]},f.sortedUniqBy=function(e,t){return e&&e.length?qt(e,d(t,2)):[]},f.split=function(e,t,n){return n&&"number"!=typeof n&&p(e,t,n)&&(t=n=Vr),(n=n===Vr?qr:n>>>0)?(e=T(e))&&("string"==typeof t||null!=t&&!Mo(t))&&!(t=u(t))&&pa(e)?sn(ma(e),0,n):e.split(t,n):[]},f.spread=function(n,i){if("function"!=typeof n)throw new b(zr);return i=null==i?0:y(M(i),0),a(function(e){var t=e[i],e=sn(e,0,i);return t&&ca(e,t),ra(n,this,e)})},f.tail=function(e){var t=null==e?0:e.length;return t?c(e,1,t):[]},f.take=function(e,t,n){return e&&e.length?c(e,0,(t=n||t===Vr?1:M(t))<0?0:t):[]},f.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?c(e,(t=i-(t=n||t===Vr?1:M(t)))<0?0:t,i):[]},f.takeRightWhile=function(e,t){return e&&e.length?Qt(e,d(t,3),!1,!0):[]},f.takeWhile=function(e,t){return e&&e.length?Qt(e,d(t,3)):[]},f.tap=function(e,t){return t(e),e},f.throttle=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new b(zr);return S(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),ao(e,t,{leading:i,maxWait:t,trailing:o})},f.thru=Ui,f.toArray=Ro,f.toPairs=er,f.toPairsIn=tr,f.toPath=function(e){return F(e)?la(e,wi):E(e)?[e]:k(yi(T(e)))},f.toPlainObject=Lo,f.transform=function(e,i,o){var t,n=F(e),r=n||yo(e)||Do(e);return i=d(i,4),null==o&&(t=e&&e.constructor,o=r?n?new t:[]:S(e)&&Co(t)?Le(ne(e)):{}),(r?aa:s)(e,function(e,t,n){return i(o,e,t,n)}),o},f.unary=function(e){return no(e,1)},f.union=Di,f.unionBy=Ai,f.unionWith=Oi,f.uniq=function(e){return e&&e.length?Kt(e):[]},f.uniqBy=function(e,t){return e&&e.length?Kt(e,d(t,2)):[]},f.uniqWith=function(e,t){return t="function"==typeof t?t:Vr,e&&e.length?Kt(e,Vr,t):[]},f.unset=function(e,t){return null==e||Zt(e,t)},f.unzip=Ri,f.unzipWith=Ii,f.update=function(e,t,n){return null==e?e:Xt(e,t,on(n))},f.updateWith=function(e,t,n,i){return i="function"==typeof i?i:Vr,null==e?e:Xt(e,t,on(n),i)},f.values=nr,f.valuesIn=function(e){return null==e?[]:il(e,A(e))},f.without=Ni,f.words=hr,f.wrap=function(e,t){return uo(on(t),e)},f.xor=Li,f.xorBy=_i,f.xorWith=Gi,f.zip=Fi,f.zipObject=function(e,t){return tn(e||[],t||[],Ye)},f.zipObjectDeep=function(e,t){return tn(e||[],t||[],zt)},f.zipWith=Vi,f.entries=er,f.entriesIn=tr,f.extend=Go,f.extendWith=Fo,$r(f,f),f.add=Or,f.attempt=fr,f.camelCase=ir,f.capitalize=or,f.ceil=Rr,f.clamp=function(e,t,n){return n===Vr&&(n=t,t=Vr),n!==Vr&&(n=(n=P(n))==n?n:0),t!==Vr&&(t=(t=P(t))==t?t:0),et(P(e),t,n)},f.clone=function(e){return w(e,4)},f.cloneDeep=function(e){return w(e,5)},f.cloneDeepWith=function(e,t){return w(e,5,t="function"==typeof t?t:Vr)},f.cloneWith=function(e,t){return w(e,4,t="function"==typeof t?t:Vr)},f.conformsTo=function(e,t){return null==t||tt(e,t,D(t))},f.deburr=rr,f.defaultTo=function(e,t){return null==e||e!=e?t:e},f.divide=Ir,f.endsWith=function(e,t,n){e=T(e),t=u(t);var i=e.length,i=n=n===Vr?i:et(M(n),0,i);return 0<=(n-=t.length)&&e.slice(n,i)==t},f.eq=fo,f.escape=function(e){return(e=T(e))&&Ka.test(e)?e.replace(qa,ll):e},f.escapeRegExp=function(e){return(e=T(e))&&os.test(e)?e.replace(is,"\\$&"):e},f.every=function(e,t,n){return(F(e)?Us:at)(e,d(t=n&&p(e,t,n)?Vr:t,3))},f.find=ji,f.findIndex=xi,f.findKey=function(e,t){return Ys(e,d(t,3),s)},f.findLast=Wi,f.findLastIndex=ki,f.findLastKey=function(e,t){return Ys(e,d(t,3),dt)},f.floor=Nr,f.forEach=qi,f.forEachRight=Yi,f.forIn=function(e,t){return null==e?e:ct(e,d(t,3),A)},f.forInRight=function(e,t){return null==e?e:ut(e,d(t,3),A)},f.forOwn=function(e,t){return e&&s(e,d(t,3))},f.forOwnRight=function(e,t){return e&&dt(e,d(t,3))},f.get=Bo,f.gt=go,f.gte=mo,f.has=function(e,t){return null!=e&&ei(e,t,mt)},f.hasIn=jo,f.head=Ei,f.identity=O,f.includes=function(e,t,n,i){return e=h(e)?e:nr(e),n=n&&!i?M(n):0,i=e.length,n<0&&(n=y(i+n,0)),To(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<ua(e,t,n)},f.indexOf=function(e,t,n){var i=null==e?0:e.length;return i?(n=null==n?0:M(n),ua(e,t,n=n<0?y(i+n,0):n)):-1},f.inRange=function(e,t,n){return t=Io(t),n===Vr?(n=t,t=0):n=Io(n),(e=e=P(e))>=x(t=t,n=n)&&e<y(t,n)},f.invoke=Yo,f.isArguments=vo,f.isArray=F,f.isArrayBuffer=bo,f.isArrayLike=h,f.isArrayLikeObject=C,f.isBoolean=function(e){return!0===e||!1===e||V(e)&&n(e)==Kr},f.isBuffer=yo,f.isDate=B,f.isElement=function(e){return V(e)&&1===e.nodeType&&!Eo(e)},f.isEmpty=function(e){if(null==e)return!0;if(h(e)&&(F(e)||"string"==typeof e||"function"==typeof e.splice||yo(e)||Do(e)||vo(e)))return!e.length;var t,n=G(e);if(n==Xr||n==ea)return!e.size;if(si(e))return!St(e).length;for(t in e)if(L.call(e,t))return!1;return!0},f.isEqual=function(e,t){return Ct(e,t)},f.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:Vr)?n(e,t):Vr;return i===Vr?Ct(e,t,Vr,n):!!i},f.isError=wo,f.isFinite=function(e){return"number"==typeof e&&me(e)},f.isFunction=Co,f.isInteger=$o,f.isLength=xo,f.isMap=ko,f.isMatch=function(e,t){return e===t||$t(e,t,Zn(t))},f.isMatchWith=function(e,t,n){return n="function"==typeof n?n:Vr,$t(e,t,Zn(t),n)},f.isNaN=function(e){return So(e)&&e!=+e},f.isNative=function(e){if(ai(e))throw new R("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xt(e)},f.isNil=function(e){return null==e},f.isNull=function(e){return null===e},f.isNumber=So,f.isObject=S,f.isObjectLike=V,f.isPlainObject=Eo,f.isRegExp=Mo,f.isSafeInteger=function(e){return $o(e)&&-Wr<=e&&e<=Wr},f.isSet=Po,f.isString=To,f.isSymbol=E,f.isTypedArray=Do,f.isUndefined=function(e){return e===Vr},f.isWeakMap=function(e){return V(e)&&G(e)==Oa},f.isWeakSet=function(e){return V(e)&&"[object WeakSet]"==n(e)},f.join=function(e,t){return null==e?"":ve.call(e,t)},f.kebabCase=ar,f.last=i,f.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i;if(n!==Vr&&(o=(o=M(n))<0?y(i+o,0):x(o,i-1)),t!=t)return Ks(e,Xs,o,!0);for(var r=e,a=t,s=o+1;s--;)if(r[s]===a)return s;return s},f.lowerCase=sr,f.lowerFirst=lr,f.lt=Ao,f.lte=Oo,f.max=function(e){return e&&e.length?st(e,O,gt):Vr},f.maxBy=function(e,t){return e&&e.length?st(e,d(t,2),gt):Vr},f.mean=function(e){return Qs(e,O)},f.meanBy=function(e,t){return Qs(e,d(t,2))},f.min=function(e){return e&&e.length?st(e,O,Mt):Vr},f.minBy=function(e,t){return e&&e.length?st(e,d(t,2),Mt):Vr},f.stubArray=Dr,f.stubFalse=Ar,f.stubObject=function(){return{}},f.stubString=function(){return""},f.stubTrue=function(){return!0},f.multiply=_r,f.nth=function(e,t){return e&&e.length?Ot(e,M(t)):Vr},f.noConflict=function(){return oa._===this&&(oa._=Q),this},f.noop=xr,f.now=to,f.pad=function(e,t,n){e=T(e);var i=(t=M(t))?ga(e):0;return!t||t<=i?e:Dn(fe(t=(t-i)/2),n)+e+Dn(he(t),n)},f.padEnd=function(e,t,n){e=T(e);var i=(t=M(t))?ga(e):0;return t&&i<t?e+Dn(t-i,n):e},f.padStart=function(e,t,n){e=T(e);var i=(t=M(t))?ga(e):0;return t&&i<t?Dn(t-i,n)+e:e},f.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,we(T(e).replace(as,""),t||0)},f.random=function(e,t,n){var i;return n&&"boolean"!=typeof n&&p(e,t,n)&&(t=n=Vr),n===Vr&&("boolean"==typeof t?(n=t,t=Vr):"boolean"==typeof e&&(n=e,e=Vr)),e===Vr&&t===Vr?(e=0,t=1):(e=Io(e),t===Vr?(t=e,e=0):t=Io(t)),t<e&&(i=e,e=t,t=i),n||e%1||t%1?(i=Ce(),x(e+i*(t-e+Ts("1e-"+((i+"").length-1))),t)):_t(e,t)},f.reduce=function(e,t,n){var i=F(e)?js:el,o=arguments.length<3;return i(e,d(t,4),n,o,ot)},f.reduceRight=function(e,t,n){var i=F(e)?Ws:el,o=arguments.length<3;return i(e,d(t,4),n,o,rt)},f.repeat=function(e,t,n){return t=(n?p(e,t,n):t===Vr)?1:M(t),Gt(T(e),t)},f.replace=function(){var e=arguments,t=T(e[0]);return e.length<3?t:t.replace(e[1],e[2])},f.result=function(e,t,n){var i=-1,o=(t=rn(t,e)).length;for(o||(o=1,e=Vr);++i<o;){var r=null==e?Vr:e[wi(t[i])];r===Vr&&(i=o,r=n),e=Co(r)?r.call(e):r}return e},f.round=Gr,f.runInContext=o,f.sample=function(e){return(F(e)?Be:Ft)(e)},f.size=function(e){if(null==e)return 0;if(h(e))return To(e)?ga(e):e.length;var t=G(e);return t==Xr||t==ea?e.size:St(e).length},f.snakeCase=cr,f.some=function(e,t,n){return(F(e)?qs:Bt)(e,d(t=n&&p(e,t,n)?Vr:t,3))},f.sortedIndex=function(e,t){return jt(e,t)},f.sortedIndexBy=function(e,t,n){return Wt(e,t,d(n,2))},f.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=jt(e,t);if(i<n&&fo(e[i],t))return i}return-1},f.sortedLastIndex=function(e,t){return jt(e,t,!0)},f.sortedLastIndexBy=function(e,t,n){return Wt(e,t,d(n,2),!0)},f.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=jt(e,t,!0)-1;if(fo(e[n],t))return n}return-1},f.startCase=ur,f.startsWith=function(e,t,n){return e=T(e),n=null==n?0:et(M(n),0,e.length),t=u(t),e.slice(n,n+t.length)==t},f.subtract=Fr,f.sum=function(e){return e&&e.length?tl(e,O):0},f.sumBy=function(e,t){return e&&e.length?tl(e,d(t,2)):0},f.template=function(a,e,t){var s,l,n=f.templateSettings;t&&p(a,e,t)&&(e=Vr),a=T(a),e=Fo({},e,n,Fn);var i=D(t=Fo({},e.imports,n.imports,Fn)),o=il(t,i),c=0,n=e.interpolate||Cs,u="__p += '",t=z((e.escape||Cs).source+"|"+n.source+"|"+(n===Qa?hs:Cs).source+"|"+(e.evaluate||Cs).source+"|$","g"),r="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ps+"]")+"\n";if(a.replace(t,function(e,t,n,i,o,r){return n=n||i,u+=a.slice(c,r).replace($s,cl),t&&(s=!0,u+="' +\n__e("+t+") +\n'"),o&&(l=!0,u+="';\n"+o+";\n__p += '"),n&&(u+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=r+e.length,e}),u+="';\n",(n=e.variable)||(u="with (obj) {\n"+u+"\n}\n"),u=(l?u.replace(Ha,""):u).replace(Ba,"$1").replace(ja,"$1;"),u="function("+(n||"obj")+") {\n"+(n?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}",(t=fr(function(){return I(i,r+"return "+u).apply(Vr,o)})).source=u,wo(t))throw t;return t},f.times=function(e,t){if((e=M(e))<1||Wr<e)return[];for(var n=qr,i=x(e,qr),i=(t=d(t),e-=qr,nl(i,t));++n<e;)t(n);return i},f.toFinite=Io,f.toInteger=M,f.toLength=No,f.toLower=function(e){return T(e).toLowerCase()},f.toNumber=P,f.toSafeInteger=function(e){return e?et(M(e),-Wr,Wr):0===e?e:0},f.toString=T,f.toUpper=function(e){return T(e).toUpperCase()},f.trim=function(e,t,n){return(e=T(e))&&(n||t===Vr)?e.replace(rs,""):e&&(t=u(t))?(n=ma(e),e=ma(t),sn(n,rl(n,e),al(n,e)+1).join("")):e},f.trimEnd=function(e,t,n){return(e=T(e))&&(n||t===Vr)?e.replace(ss,""):e&&(t=u(t))?sn(n=ma(e),0,al(n,ma(t))+1).join(""):e},f.trimStart=function(e,t,n){return(e=T(e))&&(n||t===Vr)?e.replace(as,""):e&&(t=u(t))?sn(n=ma(e),rl(n,ma(t))).join(""):e},f.truncate=function(e,t){var n,i=30,o="...",t=(S(t)&&(n="separator"in t?t.separator:n,i="length"in t?M(t.length):i,o="omission"in t?u(t.omission):o),(e=T(e)).length);if((t=pa(e)?(r=ma(e)).length:t)<=i)return e;if((t=i-ga(o))<1)return o;var r,i=r?sn(r,0,t).join(""):e.slice(0,t);if(n===Vr)return i+o;if(r&&(t+=i.length-t),Mo(n)){if(e.slice(t).search(n)){var a,s=i;for((n=n.global?n:z(n.source,T(fs.exec(n))+"g")).lastIndex=0;a=n.exec(s);)var l=a.index;i=i.slice(0,l===Vr?t:l)}}else e.indexOf(u(n),t)==t||-1<(r=i.lastIndexOf(n))&&(i=i.slice(0,r));return i+o},f.unescape=function(e){return(e=T(e))&&Ya.test(e)?e.replace(Wa,pl):e},f.uniqueId=function(e){var t=++Y;return T(e)+t},f.upperCase=dr,f.upperFirst=pr,f.each=qi,f.eachRight=Yi,f.first=Ei,$r(f,(Lr={},s(f,function(e,t){L.call(f.prototype,t)||(Lr[t]=e)}),Lr),{chain:!1}),f.VERSION="4.17.4",aa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f}),aa(["drop","take"],function(n,i){v.prototype[n]=function(e){e=e===Vr?1:y(M(e),0);var t=this.__filtered__&&!i?new v(this):this.clone();return t.__filtered__?t.__takeCount__=x(e,t.__takeCount__):t.__views__.push({size:x(e,qr),type:n+(t.__dir__<0?"Right":"")}),t},v.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),aa(["filter","map","takeWhile"],function(e,t){var n=t+1,i=1==n||3==n;v.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:d(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),aa(["head","last"],function(e,t){var n="take"+(t?"Right":"");v.prototype[e]=function(){return this[n](1).value()[0]}}),aa(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");v.prototype[e]=function(){return this.__filtered__?new v(this):this[n](1)}}),v.prototype.compact=function(){return this.filter(O)},v.prototype.find=function(e){return this.filter(e).head()},v.prototype.findLast=function(e){return this.reverse().find(e)},v.prototype.invokeMap=a(function(t,n){return"function"==typeof t?new v(this):this.map(function(e){return yt(e,t,n)})}),v.prototype.reject=function(e){return this.filter(co(d(e)))},v.prototype.slice=function(e,t){e=M(e);var n=this;return n.__filtered__&&(0<e||t<0)?new v(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Vr?(t=M(t))<0?n.dropRight(-t):n.take(t-e):n)},v.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},v.prototype.toArray=function(){return this.take(qr)},s(v.prototype,function(c,e){var u=/^(?:filter|find|map|reject)|While$/.test(e),d=/^(?:head|last)$/.test(e),p=f[d?"take"+("last"==e?"Right":""):e],h=d||/^find/.test(e);p&&(f.prototype[e]=function(){function e(e){return e=p.apply(f,ca([e],i)),d&&s?e[0]:e}var t,n=this.__wrapped__,i=d?[1]:arguments,o=n instanceof v,r=i[0],a=o||F(n),s=(a&&u&&"function"==typeof r&&1!=r.length&&(o=a=!1),this.__chain__),r=!!this.__actions__.length,l=h&&!s,o=o&&!r;return!h&&a?(n=o?n:new v(this),(t=c.apply(n,i)).__actions__.push({func:Ui,args:[e],thisArg:Vr}),new m(t,s)):l&&o?c.apply(this,i):(t=this.thru(e),l?d?t.value()[0]:t.value():t)})}),aa(["pop","push","shift","sort","splice","unshift"],function(e){var n=H[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var e,t=arguments;return o&&!this.__chain__?(e=this.value(),n.apply(F(e)?e:[],t)):this[i](function(e){return n.apply(F(e)?e:[],t)})}}),s(v.prototype,function(e,t){var n,i=f[t];i&&(n=i.name+"",(Pe[n]||(Pe[n]=[])).push({name:t,func:i}))}),Pe[En(Vr,2).name]=[{name:"wrapper",func:Vr}],v.prototype.clone=function(){var e=new v(this.__wrapped__);return e.__actions__=k(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=k(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=k(this.__views__),e},v.prototype.reverse=function(){var e;return this.__filtered__?((e=new v(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},v.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=F(e),i=t<0,o=n?e.length:0,r=function(e,t,n){var i=-1,o=n.length;for(;++i<o;){var r=n[i],a=r.size;switch(r.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=x(t,e+a);break;case"takeRight":e=y(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=r.start,s=(r=r.end)-a,l=i?r:a-1,c=this.__iteratees__,u=c.length,d=0,p=x(s,this.__takeCount__);if(!n||!i&&o==s&&p==s)return Jt(e,this.__actions__);var h=[];e:for(;s--&&d<p;){for(var f=-1,g=e[l+=t];++f<u;){var m=c[f],v=m.iteratee,m=m.type,v=v(g);if(2==m)g=v;else if(!v){if(1==m)continue e;break e}}h[d++]=g}return h},f.prototype.at=Hi,f.prototype.chain=function(){return zi(this)},f.prototype.commit=function(){return new m(this.value(),this.__chain__)},f.prototype.next=function(){this.__values__===Vr&&(this.__values__=Ro(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?Vr:this.__values__[this.__index__++]}},f.prototype.plant=function(e){for(var t,n=this;n instanceof Ge;)var i=$i(n),o=(i.__index__=0,i.__values__=Vr,t?o.__wrapped__=i:t=i,i),n=n.__wrapped__;return o.__wrapped__=e,t},f.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof v?(e=e,(e=(e=this.__actions__.length?new v(this):e).reverse()).__actions__.push({func:Ui,args:[Ti],thisArg:Vr}),new m(e,this.__chain__)):this.thru(Ti)},f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=function(){return Jt(this.__wrapped__,this.__actions__)},f.prototype.first=f.prototype.head,se&&(f.prototype[se]=function(){return this}),f}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(oa._=va,define(function(){return va})):c?((c.exports=va)._=va,i._=va):oa._=va}.call(this),!function(ye){"use strict";var u={objectMaxDepth:5,urlErrorParamsEnabled:!0};function n(e){if(!Se(e))return u;D(e.objectMaxDepth)&&(u.objectMaxDepth=d(e.objectMaxDepth)?e.objectMaxDepth:NaN),D(e.urlErrorParamsEnabled)&&Fe(e.urlErrorParamsEnabled)&&(u.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function d(e){return w(e)&&0<e}function x(a,s){s=s||Error;var l="https://errors.angularjs.org/1.8.2/",e=l.replace(".","\\.")+"[\\s\\S]*",c=new RegExp(e,"g");return function(){var e,t,n=arguments[0],i=arguments[1],o="["+(a?a+":":"")+n+"] ",r=Ue(arguments,2).map(function(e){return it(e,u.objectMaxDepth)}),o=(o+=i.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<r.length?r[t].replace(c,""):e}))+("\n"+l+(a?a+"/":"")+n);if(u.urlErrorParamsEnabled)for(t=0,e="?";t<r.length;t++,e="&")o+=e+"p"+t+"="+encodeURIComponent(r[t]);return new s(o)}}var we,m,h=/^\/(.+)\/([a-z]*)$/,g="validity",Ce=Object.prototype.hasOwnProperty,M=function(e){return Ee(e)?e.toLowerCase():e},S=function(e){return Ee(e)?e.toUpperCase():e},a=[].slice,i=[].splice,o=[].push,v=Object.prototype.toString,C=Object.getPrototypeOf,O=x("ng"),y=ye.angular||(ye.angular={}),R=0;function N(e){if(null!=e&&!B(e)){if(Me(e)||Ee(e)||we&&e instanceof we)return 1;var t="length"in Object(e)&&e.length;return w(t)&&(0<=t&&t-1 in e||"function"==typeof e.item)}}function $e(e,t,n){if(e)if(Pe(e))for(o in e)"prototype"!==o&&"length"!==o&&"name"!==o&&e.hasOwnProperty(o)&&t.call(n,e[o],o,e);else if(Me(e)||N(e))for(var i="object"!=typeof e,o=0,r=e.length;o<r;o++)(i||o in e)&&t.call(n,e[o],o,e);else if(e.forEach&&e.forEach!==$e)e.forEach(t,n,e);else if(U(e))for(o in e)t.call(n,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e);else for(o in e)Ce.call(e,o)&&t.call(n,e[o],o,e);return e}function I(e,t,n){for(var i=Object.keys(e).sort(),o=0;o<i.length;o++)t.call(n,e[i[o]],i[o])}function L(n){return function(e,t){n(t,e)}}function _(){return++R}function G(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function F(e,t,n){for(var i=e.$$hashKey,o=0,r=t.length;o<r;++o){var a=t[o];if(Se(a)||Pe(a))for(var s=Object.keys(a),l=0,c=s.length;l<c;l++){var u=s[l],d=a[u];n&&Se(d)?$(d)?e[u]=new Date(d.valueOf()):H(d)?e[u]=new RegExp(d):d.nodeName?e[u]=d.cloneNode(!0):Y(d)?e[u]=d.clone():"__proto__"!==u&&(Se(e[u])||(e[u]=Me(d)?[]:{}),F(e[u],[d],!0)):e[u]=d}}return G(e,i),e}function xe(e){return F(e,a.call(arguments,1),!1)}function V(e){return F(e,a.call(arguments,1),!0)}function b(e){return parseInt(e,10)}var Ie=ye.document.documentMode,P=Number.isNaN||function(e){return e!=e};function Ne(e,t){return xe(Object.create(e),t)}function T(){}function Le(e){return e}function E(e){return function(){return e}}function z(e){return Pe(e.toString)&&e.toString!==v}function ke(e){return void 0===e}function D(e){return void 0!==e}function Se(e){return null!==e&&"object"==typeof e}function U(e){return null!==e&&"object"==typeof e&&!C(e)}function Ee(e){return"string"==typeof e}function w(e){return"number"==typeof e}function $(e){return"[object Date]"===v.call(e)}function Me(e){return Array.isArray(e)||e instanceof Array}function _e(e){switch(v.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return e instanceof Error}}function Pe(e){return"function"==typeof e}function H(e){return"[object RegExp]"===v.call(e)}function B(e){return e&&e.window===e}function Ge(e){return e&&e.$evalAsync&&e.$watch}function Fe(e){return"boolean"==typeof e}function j(e){return e&&Pe(e.then)}T.$inject=[],Le.$inject=[];var W=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var Te=function(e){return Ee(e)?e.trim():e},q=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function Y(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function De(e){return M(e.nodeName||e[0]&&e[0].nodeName)}function K(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function Ve(e,t){t=e.indexOf(t);return 0<=t&&e.splice(t,1),t}function Z(e,n,t){var i,o=[],r=[];if(t=d(t)?t:NaN,n){if((i=n)&&w(i.length)&&W.test(v.call(i))||"[object ArrayBuffer]"===v.call(n))throw O("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===n)throw O("cpi","Can't copy! Source and destination are identical.");return Me(n)?n.length=0:$e(n,function(e,t){"$$hashKey"!==t&&delete n[t]}),o.push(e),r.push(n),a(e,n,t)}return s(e,t);function a(e,t,n){if(--n<0)return"...";var i,o=t.$$hashKey;if(Me(e))for(var r=0,a=e.length;r<a;r++)t.push(s(e[r],n));else if(U(e))for(i in e)t[i]=s(e[i],n);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=s(e[i],n));else for(i in e)Ce.call(e,i)&&(t[i]=s(e[i],n));return G(t,o),t}function s(e,t){if(!Se(e))return e;var n=o.indexOf(e);if(-1!==n)return r[n];if(B(e)||Ge(e))throw O("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n=!1,i=function(e){switch(v.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(s(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":return e.slice?e.slice(0):(t=new ArrayBuffer(e.byteLength),new Uint8Array(t).set(new Uint8Array(e)),t);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var t=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return t.lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(Pe(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=Me(e)?[]:Object.create(C(e)),n=!0),o.push(e),r.push(i),n?a(e,i,t):i}}function ze(e,t){return e===t||e!=e&&t!=t}function Ae(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,i,o,r=typeof e;if(r==typeof t&&"object"==r){if(!Me(e)){if($(e))return!!$(t)&&ze(e.getTime(),t.getTime());if(H(e))return!!H(t)&&e.toString()===t.toString();if(Ge(e)||Ge(t)||B(e)||B(t)||Me(t)||$(t)||H(t))return!1;for(i in o=Oe(),e)if("$"!==i.charAt(0)&&!Pe(e[i])){if(!Ae(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!(i in o)&&"$"!==i.charAt(0)&&D(t[i])&&!Pe(t[i]))return!1;return!0}if(!Me(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!Ae(e[i],t[i]))return!1;return!0}}return!1}var X=function(){var e;return D(X.rules)||((e=ye.document.querySelector("[ng-csp]")||ye.document.querySelector("[data-ng-csp]"))?(e=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp"),X.rules={noUnsafeEval:!e||-1!==e.indexOf("no-unsafe-eval"),noInlineStyle:!e||-1!==e.indexOf("no-inline-style")}):X.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}),X.rules},Q=function(){if(D(Q.name_))return Q.name_;for(var e,t,n,i=ue.length,o=0;o<i;++o)if(t=ue[o],e=ye.document.querySelector("["+t.replace(":","\\:")+"jq]")){n=e.getAttribute(t+"jq");break}return Q.name_=n};function J(e,t,n){return e.concat(a.call(t,n))}function Ue(e,t){return a.call(e,t||0)}function He(e,t){var n=2<arguments.length?Ue(arguments,2):[];return!Pe(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,J(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function ee(e,t){var n=t;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=void 0:B(t)?n="$WINDOW":t&&ye.document===t?n="$DOCUMENT":Ge(t)&&(n="$SCOPE"),n}function te(e,t){if(!ke(e))return w(t)||(t=t?2:null),JSON.stringify(e,ee,t)}function ne(e){return Ee(e)?JSON.parse(e):e}var ie=/:/g;function oe(e,t){e=e.replace(ie,"");e=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return P(e)?t:e}function re(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function ae(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return re(e,n*(oe(t,i)-i))}function Be(e){e=we(e).clone().empty();var t=we("<div></div>").append(e).html();try{return e[0].nodeType===Je?M(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+M(t)})}catch(e){return M(t)}}function se(e){try{return decodeURIComponent(e)}catch(e){}}function le(e){var o={};return $e((e||"").split("&"),function(e){var t,n,i;e&&(n=e=e.replace(/\+/g,"%20"),-1!==(t=e.indexOf("="))&&(n=e.substring(0,t),i=e.substring(t+1)),D(n=se(n))&&(i=!D(i)||se(i),Ce.call(o,n)?Me(o[n])?o[n].push(i):o[n]=[o[n],i]:o[n]=i))}),o}function ce(e){return r(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function r(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var ue=["ng-","data-ng-","ng:","x-ng-"];de=ye.document;var de,pe=!(be=de.currentScript)||(be instanceof ye.HTMLScriptElement||be instanceof ye.SVGScriptElement)&&[(be=be.attributes).getNamedItem("src"),be.getNamedItem("href"),be.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var t=de.createElement("a");if(t.href=e.value,de.location.origin===t.origin)return!0;switch(t.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}});function he(n,e){var i,o,t={};$e(ue,function(e){e+="app";!i&&n.hasAttribute&&n.hasAttribute(e)&&(o=(i=n).getAttribute(e))}),$e(ue,function(e){var t,e=e+"app";!i&&(t=n.querySelector("["+e.replace(":","\\:")+"]"))&&(o=(i=t).getAttribute(e))}),i&&(pe?(t.strictDi=null!==function(e,t){for(var n,i=ue.length,o=0;o<i;++o)if(n=ue[o]+t,Ee(n=e.getAttribute(n)))return n;return null}(i,"strict-di"),e(i,o?[o]:[],t)):ye.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function fe(t,n,i){function o(){if((t=we(t)).injector())throw e=t[0]===ye.document?"document":Be(t),O("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"));(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var e=hn(n,i.strictDi);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),e}i=xe({strictDi:!1},i=Se(i)?i:{});var e=/^NG_ENABLE_DEBUG_INFO!/,r=/^NG_DEFER_BOOTSTRAP!/;if(ye&&e.test(ye.name)&&(i.debugInfoEnabled=!0,ye.name=ye.name.replace(e,"")),ye&&!r.test(ye.name))return o();ye.name=ye.name.replace(r,""),y.resumeBootstrap=function(e){return $e(e,function(e){n.push(e)}),o()},Pe(y.resumeDeferredBootstrap)&&y.resumeDeferredBootstrap()}function ge(){ye.name="NG_ENABLE_DEBUG_INFO!"+ye.name,ye.location.reload()}function me(e){e=y.element(e).injector();if(e)return e.get("$$testability");throw O("test","no injector found for element argument to getTestability")}var ve=/[A-Z]/g;function je(e,n){return n=n||"_",e.replace(ve,function(e,t){return(t?n:"")+e.toLowerCase()})}var be=!1;function We(){s.legacyXHTMLReplacement=!0}function qe(e,t,n){if(!e)throw O("areq","Argument '{0}' is {1}",t||"?",n||"required")}function Ye(e,t,n){qe(Pe(e=n&&Me(e)?e[e.length-1]:e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e))}function Ke(e,t){if("hasOwnProperty"===e)throw O("badname","hasOwnProperty is not a valid {0} name",t)}function Ze(e){for(var t,n=e[0],i=e[e.length-1],o=1;n!==i&&(n=n.nextSibling);o++)!t&&e[o]===n||(t=t||we(a.call(e,0,o))).push(n);return t||e}function Oe(){return Object.create(null)}function Xe(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!z(e)||Me(e)||$(e)?te(e):e.toString()}return e}var Qe=1,Je=3,et=8,tt=9;function nt(e){var d=x("$injector"),p=x("ng");function n(e,t,n){return e[t]||(e[t]=n())}e=n(e,"angular",Object);return e.$$minErr=e.$$minErr||x,n(e,"module",function(){var t={};return function(s,l,c){var u={},e="module";if("hasOwnProperty"===s)throw p("badname","hasOwnProperty is not a valid {0} name",e);return l&&t.hasOwnProperty(s)&&(t[s]=null),n(t,s,function(){if(!l)throw d("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",s);var r=[],e=[],t=[],n=i("$injector","invoke","push",e),a={_invokeQueue:r,_configBlocks:e,_runBlocks:t,info:function(e){if(D(e)){if(Se(e))return u=e,this;throw p("aobj","Argument '{0}' must be an object","value")}return u},requires:l,name:s,provider:o("$provide","provider"),factory:o("$provide","factory"),service:o("$provide","service"),value:i("$provide","value"),constant:i("$provide","constant","unshift"),decorator:o("$provide","decorator",e),animation:o("$animateProvider","register"),filter:o("$filterProvider","register"),controller:o("$controllerProvider","register"),directive:o("$compileProvider","directive"),component:o("$compileProvider","component"),config:n,run:function(e){return t.push(e),this}};return c&&n(c),a;function i(e,t,n,i){return i=i||r,function(){return i[n||"push"]([e,t,arguments]),a}}function o(n,i,o){return o=o||r,function(e,t){return t&&Pe(t)&&(t.$$moduleName=s),o.push([n,i,arguments]),a}}})}})}function k(e,t){if(Me(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(Se(e))for(var o in t=t||{},e)"$"===o.charAt(0)&&"$"===o.charAt(1)||(t[o]=e[o]);return t||e}function it(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):ke(e)?"undefined":"string"!=typeof e?(n=e,i=[],d(t=t)&&(n=y.copy(n,null,t)),JSON.stringify(n,function(e,t){if(Se(t=ee(e,t))){if(0<=i.indexOf(t))return"...";i.push(t)}return t})):e;var n,i}var ot={full:"1.8.2",major:1,minor:8,dot:2,codeName:"meteoric-mining"};s.expando="ng339";var rt=s.cache={},at=1;s._data=function(e){return this.cache[e[this.expando]]||{}};var st=/-([a-z])/g,lt=/^-ms-/,ct={mouseleave:"mouseout",mouseenter:"mouseover"},ut=x("jqLite");function dt(e,t){return t.toUpperCase()}function pt(e){return e.replace(st,dt)}var ht,ft=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gt=/<|&#?\w+;/,mt=/<([\w:-]+)/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,bt={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]},yt=(bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead,bt.th=bt.td,{option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]});for(ht in bt){var wt=bt[ht],Ct=wt.slice().reverse();yt[ht]=[Ct.length,"<"+Ct.join("><")+">","</"+wt.join("></")+">"]}function $t(e){return!gt.test(e)}function xt(e){e=e.nodeType;return e===Qe||!e||e===tt}function kt(e,t){var n,i,o,r=t.createDocumentFragment(),a=[];if($t(e))a.push(t.createTextNode(e));else{if(n=r.appendChild(t.createElement("div")),t=(mt.exec(e)||["",""])[1].toLowerCase(),e=s.legacyXHTMLReplacement?e.replace(vt,"<$1></$2>"):e,Ie<10)for(i=yt[t]||yt._default,n.innerHTML=i[1]+e+i[2],o=i[0];o--;)n=n.firstChild;else{for(o=(i=bt[t]||[]).length;-1<--o;)n.appendChild(ye.document.createElement(i[o])),n=n.firstChild;n.innerHTML=e}a=J(a,n.childNodes),(n=r.firstChild).textContent=""}return r.textContent="",r.innerHTML="",$e(a,function(e){r.appendChild(e)}),r}yt.optgroup=yt.option;var St=ye.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function s(e){if(e instanceof s)return e;var t,n,i;if(Ee(e)&&(e=Te(e),t=!0),!(this instanceof s)){if(t&&"<"!==e.charAt(0))throw ut("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new s(e)}t?_t(this,(t=e,n=n||ye.document,(i=ft.exec(t))?[n.createElement(i[1])]:(i=kt(t,n))?i.childNodes:[])):Pe(e)?Ut(e):_t(this,e)}function Et(e){return e.cloneNode(!0)}function Mt(e,t){!t&&xt(e)&&we.cleanData([e]),e.querySelectorAll&&we.cleanData(e.querySelectorAll("*"))}function Pt(e){for(var t in e)return;return 1}function Tt(e){var t=e.ng339,n=t&&rt[t],i=n&&n.events,n=n&&n.data;n&&!Pt(n)||i&&!Pt(i)||(delete rt[t],e.ng339=void 0)}function Dt(n,e,i,t){if(D(t))throw ut("offargs","jqLite#off() does not support the `selector` argument");var t=Ot(n),o=t&&t.events,r=t&&t.handle;if(r){if(e){var a=function(e){var t=o[e];D(i)&&Ve(t||[],i),D(i)&&t&&0<t.length||(n.removeEventListener(e,r),delete o[e])};$e(e.split(" "),function(e){a(e),ct[e]&&a(ct[e])})}else for(e in o)"$destroy"!==e&&n.removeEventListener(e,r),delete o[e];Tt(n)}}function At(e,t){var n=e.ng339,n=n&&rt[n];n&&(t?delete n.data[t]:n.data={},Tt(e))}function Ot(e,t){var n=e.ng339,i=n&&rt[n];return t&&!i&&(e.ng339=n=++at,i=rt[n]={events:{},data:{},handle:void 0}),i}function Rt(e,t,n){if(xt(e)){var i,o=D(n),r=!o&&t&&!Se(t),a=!t,e=Ot(e,!r),s=e&&e.data;if(o)s[pt(t)]=n;else{if(a)return s;if(r)return s&&s[pt(t)];for(i in t)s[pt(i)]=t[i]}}}function It(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function Nt(e,t){var n,i;t&&e.setAttribute&&(n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n,$e(t.split(" "),function(e){e=Te(e),i=i.replace(" "+e+" "," ")}),i!==n&&e.setAttribute("class",Te(i)))}function Lt(e,t){var n,i;t&&e.setAttribute&&(n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n,$e(t.split(" "),function(e){e=Te(e),-1===i.indexOf(" "+e+" ")&&(i+=e+" ")}),i!==n&&e.setAttribute("class",Te(i)))}function _t(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Gt(e,t){return Ft(e,"$"+(t||"ngController")+"Controller")}function Ft(e,t,n){e.nodeType===tt&&(e=e.documentElement);for(var i=Me(t)?t:[t];e;){for(var o=0,r=i.length;o<r;o++)if(D(n=we.data(e,i[o])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Vt(e){for(Mt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function zt(e,t){t||Mt(e);t=e.parentNode;t&&t.removeChild(e)}function Ut(e){function t(){ye.document.removeEventListener("DOMContentLoaded",t),ye.removeEventListener("load",t),e()}"complete"===ye.document.readyState?ye.setTimeout(e):(ye.document.addEventListener("DOMContentLoaded",t),ye.addEventListener("load",t))}var Ht=s.prototype={ready:Ut,toString:function(){var t=[];return $e(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(e){return we(0<=e?this[e]:this[this.length+e])},length:0,push:o,sort:[].sort,splice:[].splice},Bt={},jt=($e("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Bt[M(e)]=e}),{}),Wt=($e("input,select,option,textarea,button,form,details".split(","),function(e){jt[e]=!0}),{ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"});function qt(e,t){t=Bt[t.toLowerCase()];return t&&jt[De(e)]&&t}function Yt(e,t){var n;if(ke(t))return(n=e.nodeType)===Qe||n===Je?e.textContent:"";e.textContent=t}function Kt(s,l){function e(e,t){e.isDefaultPrevented=function(){return e.defaultPrevented};var n=l[t||e.type],i=n?n.length:0;if(i){ke(e.immediatePropagationStopped)&&(o=e.stopImmediatePropagation,e.stopImmediatePropagation=function(){e.immediatePropagationStopped=!0,e.stopPropagation&&e.stopPropagation(),o&&o.call(e)}),e.isImmediatePropagationStopped=function(){return!0===e.immediatePropagationStopped};var o,r=n.specialHandlerWrapper||Zt;1<i&&(n=k(n));for(var a=0;a<i;a++)e.isImmediatePropagationStopped()||r(s,e,n[a])}}return e.elem=s,e}function Zt(e,t,n){n.call(e,t)}function Xt(e,t,n){var i=t.relatedTarget;i&&(i===e||St.call(e,i))||n.call(e,t)}function Qt(){this.$get=function(){return xe(s,{hasClass:function(e,t){return It(e=e.attr?e[0]:e,t)},addClass:function(e,t){return Lt(e=e.attr?e[0]:e,t)},removeClass:function(e,t){return Nt(e=e.attr?e[0]:e,t)}})}}function Jt(e,t){var n=e&&e.$$hashKey;if(n)return n="function"==typeof n?e.$$hashKey():n;var i=typeof e;return n="function"==i||"object"==i&&null!==e?e.$$hashKey=i+":"+(t||_)():i+":"+e}$e({data:Rt,removeData:At,hasData:function(e){for(var t in rt[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)At(e[t]),Dt(e[t])}},function(e,t){s[t]=e}),$e({data:Rt,inheritedData:Ft,scope:function(e){return we.data(e,"$scope")||Ft(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return we.data(e,"$isolateScope")||we.data(e,"$isolateScopeNoTemplate")},controller:Gt,injector:function(e){return Ft(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:It,css:function(e,t,n){if(t=pt(t.replace(lt,"ms-")),!D(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var i,o=e.nodeType;if(o!==Je&&2!==o&&o!==et&&e.getAttribute)return o=M(t),i=Bt[o],D(n)?void(null===n||!1===n&&i?e.removeAttribute(t):e.setAttribute(t,i?o:n)):(n=e.getAttribute(t),null===(n=i&&null!==n?o:n)?void 0:n)},prop:function(e,t,n){if(!D(n))return e[t];e[t]=n},text:(Yt.$dv="",Yt),val:function(e,t){var n;if(ke(t))return e.multiple&&"select"===De(e)?(n=[],$e(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n):e.value;e.value=t},html:function(e,t){if(ke(t))return e.innerHTML;Mt(e,!0),e.innerHTML=t},empty:Vt},function(c,e){s.prototype[e]=function(e,t){var n,i,o=this.length;if(c!==Vt&&ke(2===c.length&&c!==It&&c!==Gt?e:t)){if(Se(e)){for(n=0;n<o;n++)if(c===Rt)c(this[n],e);else for(i in e)c(this[n],i,e[i]);return this}for(var r=ke(l=c.$dv)?Math.min(o,1):o,a=0;a<r;a++)var s=c(this[a],e,t),l=l?l+s:s;return l}for(n=0;n<o;n++)c(this[n],e,t);return this}}),$e({removeData:At,on:function(o,e,r,t){if(D(t))throw ut("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(xt(o))for(var t=Ot(o,!0),a=t.events,s=(s=t.handle)||(t.handle=Kt(o,a)),n=0<=e.indexOf(" ")?e.split(" "):[e],i=n.length,l=function(e,t,n){var i=a[e];i||((i=a[e]=[]).specialHandlerWrapper=t,"$destroy"===e||n||o.addEventListener(e,s)),i.push(r)};i--;)e=n[i],ct[e]?(l(ct[e],Xt),l(e,void 0,!0)):l(e)},off:Dt,one:function(t,n,i){(t=we(t)).on(n,function e(){t.off(n,i),t.off(n,e)}),t.on(n,i)},replaceWith:function(t,e){var n,i=t.parentNode;Mt(t),$e(new s(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(e){var t=[];return $e(e.childNodes,function(e){e.nodeType===Qe&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Qe||11===n)for(var i=0,o=(t=new s(t)).length;i<o;i++){var r=t[i];e.appendChild(r)}},prepend:function(t,e){var n;t.nodeType===Qe&&(n=t.firstChild,$e(new s(e),function(e){t.insertBefore(e,n)}))},wrap:function(e,t){var n;e=e,t=we(t).eq(0).clone()[0],(n=e.parentNode)&&n.replaceChild(t,e),t.appendChild(e)},remove:zt,detach:function(e){zt(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i)for(var o=0,r=(t=new s(t)).length;o<r;o++){var a=t[o];i.insertBefore(a,n.nextSibling),n=a}},addClass:Lt,removeClass:Nt,toggleClass:function(n,e,i){e&&$e(e.split(" "),function(e){var t=i;((t=ke(i)?!It(n,e):t)?Lt:Nt)(n,e)})},parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Et,triggerHandler:function(t,e,n){var i,o,r=e.type||e,a=Ot(t),a=a&&a.events,a=a&&a[r];a&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:T,type:r,target:t},e.type&&(i=xe(i,e)),r=k(a),o=n?[i].concat(n):[i],$e(r,function(e){i.isImmediatePropagationStopped()||e.apply(t,o)}))}},function(a,e){s.prototype[e]=function(e,t,n){for(var i,o=0,r=this.length;o<r;o++)ke(i)?D(i=a(this[o],e,t,n))&&(i=we(i)):_t(i,a(this[o],e,t,n));return D(i)?i:this}}),s.prototype.bind=s.prototype.on,s.prototype.unbind=s.prototype.off;var en=Object.create(null);function tn(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}tn.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return P(e)?en:e},get:function(e){e=this._transformKey(e);e=this._idx(e);if(-1!==e)return this._values[e]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);e=this._idx(e);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var nn=tn,on=[function(){this.$get=[function(){return nn}]}],rn=/^([^(]+?)=>/,an=/^[^(]*\(\s*([^)]*)\)/m,sn=/,/,ln=/^\s*(_?)(\S+?)\1\s*$/,cn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,un=x("$injector");function dn(e){return Function.prototype.toString.call(e)}function pn(e){e=dn(e).replace(cn,"");return e.match(rn)||e.match(an)}function hn(e,c){c=!0===c;var r={},a="Provider",s=[],o=new nn,u={$provide:{provider:i(p),factory:i(h),service:i(function(e,t){return h(e,["$injector",function(e){return e.instantiate(t)}])}),value:i(function(e,t){return h(e,E(t),!1)}),constant:i(function(e,t){Ke(e,"constant"),u[e]=t,n[e]=t}),decorator:function(e,t){var n=l.get(e+a),i=n.$get;n.$get=function(){var e=d.invoke(i,n);return d.invoke(t,null,{$delegate:e})}}}},l=u.$injector=g(u,function(e,t){throw y.isString(t)&&s.push(t),un("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},t=g(n,function(e,t){t=l.get(e+a,t);return d.invoke(t.$get,t,void 0,e)}),d=t,e=(u["$injector"+a]={$get:E(t)},d.modules=l.modules=Oe(),f(e));return(d=t.get("$injector")).strictDi=c,$e(e,function(e){e&&d.invoke(e)}),d.loadNewModules=function(e){$e(f(e),function(e){e&&d.invoke(e)})},d;function i(n){return function(e,t){if(!Se(e))return n(e,t);$e(e,L(n))}}function p(e,t){if(Ke(e,"service"),(t=Pe(t)||Me(t)?l.instantiate(t):t).$get)return u[e+a]=t;throw un("pget","Provider '{0}' must define $get factory method.",e)}function h(e,t,n){return p(e,{$get:!1!==n?(i=e,o=t,function(){var e=d.invoke(o,this);if(ke(e))throw un("undef","Provider '{0}' must return a value from $get factory method.",i);return e}):t});var i,o}function f(e){qe(ke(e)||Me(e),"modulesToLoad","not an array");var n,i=[];return $e(e,function(t){if(!o.get(t)){o.set(t,!0);try{Ee(t)?(n=m(t),d.modules[t]=n,i=i.concat(f(n.requires)).concat(n._runBlocks),e(n._invokeQueue),e(n._configBlocks)):Pe(t)||Me(t)?i.push(l.invoke(t)):Ye(t,"module")}catch(e){throw Me(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),un("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function e(e){for(var t=0,n=e.length;t<n;t++){var i=e[t],o=l.get(i[0]);o[i[1]].apply(o,i[2])}}}),i}function g(n,i){function l(t,e){if(n.hasOwnProperty(t)){if(n[t]===r)throw un("cdep","Circular dependency found: {0}",t+" <- "+s.join(" <- "));return n[t]}try{return s.unshift(t),n[t]=r,n[t]=i(t,e),n[t]}catch(e){throw n[t]===r&&delete n[t],e}finally{s.shift()}}function o(e,t,n){for(var i=[],o=hn.$$annotate(e,c,n),r=0,a=o.length;r<a;r++){var s=o[r];if("string"!=typeof s)throw un("itkn","Incorrect injection token! Expected service name as string, got {0}",s);i.push(t&&t.hasOwnProperty(s)?t[s]:l(s,n))}return i}return{invoke:function(e,t,n,i){return"string"==typeof n&&(i=n,n=null),n=o(e,n,i),function(e){var t;if(!Ie&&"function"==typeof e)return Fe(t=e.$$ngIsClass)?t:e.$$ngIsClass=/^class\b/.test(dn(e))}(e=Me(e)?e[e.length-1]:e)?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var i=Me(e)?e[e.length-1]:e;return(e=o(e,t,n)).unshift(null),new(Function.prototype.bind.apply(i,e))},get:l,annotate:hn.$$annotate,has:function(e){return u.hasOwnProperty(e+a)||n.hasOwnProperty(e)}}}}function fn(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(i,o,r){var a=i.document;function s(e){var t,n;e?(e.scrollIntoView(),Pe(n=l.yOffset)?n=n():Y(n)?(t=n[0],n="fixed"!==i.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom):w(n)||(n=0),(t=n)&&(n=e.getBoundingClientRect().top,i.scrollBy(0,n-t))):i.scrollTo(0,0)}function l(e){var t,n,i;(e=Ee(e)?e:w(e)?e.toString():o.hash())?(t=a.getElementById(e))?s(t):(n=a.getElementsByName(e),i=null,Array.prototype.some.call(n,function(e){if("a"===De(e))return i=e,!0}),(t=i)?s(t):"top"===e&&s(null)):s(null)}return e&&r.$watch(function(){return o.hash()},function(e,t){var n;e===t&&""===e||(t=function(){r.$evalAsync(l)},"complete"===(n=n||ye).document.readyState?n.setTimeout(t):we(n).on("load",t))}),l}]}hn.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw Ee(n)&&n||(n=e.name||((t=pn(t=e))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),un("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);$e(pn(e)[1].split(sn),function(e){e.replace(ln,function(e,t,n){i.push(n)})})}e.$inject=i}}else Me(e)?(t=e.length-1,Ye(e[t],"fn"),i=e.slice(0,t)):Ye(e,"fn",!0);return i};var gn=x("$animate"),mn=1,vn="ng-animate";function bn(e,t){return e||t?e?t?(e=Me(e)?e.join(" "):e)+" "+(t=Me(t)?t.join(" "):t):e:t:""}function yn(e){return Se(e)?e:{}}function wn(){this.$get=T}function Cn(){var c=new nn,u=[];this.$get=["$$AnimateRunner","$rootScope",function(r,a){return{enabled:T,on:T,off:T,pin:T,push:function(e,t,n,i){i&&i(),(n=n||{}).from&&e.css(n.from),n.to&&e.css(n.to),(n.addClass||n.removeClass)&&(i=e,e=n.addClass,n=n.removeClass,o=c.get(i)||{},e=s(o,e,!0),n=s(o,n,!1),(e||n)&&(c.set(i,o),u.push(i),1===u.length&&a.$$postDigest(l)));var o,e=new r;return e.complete(),e}};function s(t,e,n){var i=!1;return e&&$e(e=Ee(e)?e.split(" "):Me(e)?e:[],function(e){e&&(i=!0,t[e]=n)}),i}function l(){$e(u,function(e){var n,i,o,t,r,a=c.get(e);a&&(Ee(t=e.attr("class"))&&(t=t.split(" ")),r=Oe(),$e(t,function(e){e.length&&(r[e]=!0)}),n=r,o=i="",$e(a,function(e,t){e!==!!n[t]&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)}),$e(e,function(e){i&&Lt(e,i),o&&Nt(e,o)}),c.delete(e))}),u.length=0}}]}function $n(){this.$get=["$$rAF",function(t){var n=[];function i(e){n.push(e),1<n.length||t(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}return function(){var t=!1;return i(function(){t=!0}),function(e){t?e():i(e)}}}]}function xn(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,i,o){function r(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){i()?o(e,0,!1):t(e)},this._state=0}return r.chain=function(e,n){var i=0;!function t(){if(i===e.length)return void n(!0);e[i](function(e){!1===e?n(!1):(i++,t())})}()},r.all=function(t,n){var i=0,o=!0;function r(e){o=o&&e,++i===t.length&&n(o)}$e(t,function(e){e.done(r)})},r.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:T,getPromise:function(){var e;return this.promise||((e=this).promise=t(function(t,n){e.done(function(e){(!1===e?n:t)()})})),this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(t){2!==this._state&&($e(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},r}]}function kn(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,e,s){return function(e,t){var n=t||{};(n=n.$$prepared?n:Z(n)).cleanupStyles&&(n.from=n.to=null),n.from&&(e.css(n.from),n.from=null);var i,o=new s;return{start:r,end:r};function r(){return a(function(){n.addClass&&(e.addClass(n.addClass),n.addClass=null),n.removeClass&&(e.removeClass(n.removeClass),n.removeClass=null),n.to&&(e.css(n.to),n.to=null),i||o.complete(),i=!0}),o}}}]}var Sn=["$provide",function(i){var o=this,t=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(e,t){if(e&&"."!==e.charAt(0))throw gn("notcsel","Expecting class selector starting with '.' got '{0}'.",e);var n=e+"-animation";o.$$registeredAnimations[e.substr(1)]=n,i.factory(n,t)},this.customFilter=function(e){return n=1===arguments.length?Pe(e)?e:null:n},this.classNameFilter=function(e){if(1===arguments.length&&((t=e instanceof RegExp?e:null)&&new RegExp("[(\\s|\\/)]"+vn+"[(\\s|\\/)]").test(t.toString())))throw t=null,gn("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',vn);return t},this.$get=["$$animateQueue",function(r){function o(e,t,n){var i;(n=!n||!(i=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===mn)return n}}(n))||i.parentNode||i.previousElementSibling?n:null)?n.after(e):t.prepend(e)}return{on:r.on,off:r.off,pin:r.pin,enabled:r.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(e,t,n,i){return t=t&&we(t),n=n&&we(n),o(e,t=t||n.parent(),n),r.push(e,"enter",yn(i))},move:function(e,t,n,i){return t=t&&we(t),n=n&&we(n),o(e,t=t||n.parent(),n),r.push(e,"move",yn(i))},leave:function(e,t){return r.push(e,"leave",yn(t),function(){e.remove()})},addClass:function(e,t,n){return(n=yn(n)).addClass=bn(n.addclass,t),r.push(e,"addClass",n)},removeClass:function(e,t,n){return(n=yn(n)).removeClass=bn(n.removeClass,t),r.push(e,"removeClass",n)},setClass:function(e,t,n,i){return(i=yn(i)).addClass=bn(i.addClass,t),i.removeClass=bn(i.removeClass,n),r.push(e,"setClass",i)},animate:function(e,t,n,i,o){return(o=yn(o)).from=o.from?xe(o.from,t):t,o.to=o.to?xe(o.to,n):n,o.tempClasses=bn(o.tempClasses,i=i||"ng-inline-animate"),r.push(e,"animate",o)}}}]}];function En(r,e,t,a,n){var s=this,l=r.location,c=r.history,o=r.setTimeout,i=r.clearTimeout,u={},d=n(t);s.isMock=!1,s.$$completeOutstandingRequest=d.completeTask,s.$$incOutstandingRequestCount=d.incTaskCount,s.notifyWhenNoOutstandingRequests=d.notifyWhenNoPendingTasks;var p,h,f=l.href,g=e.find("base"),m=null,v=a.history?function(){try{return c.state}catch(e){}}:T,b=($(),s.url=function(e,t,n){if(ke(n)&&(n=null),l!==r.location&&(l=r.location),c!==r.history&&(c=r.history),e){var i=h===n;if(e=A(e).href,f===e&&(!a.history||i))return s;var o=f&&xi(f)===xi(e);return f=e,h=n,!a.history||o&&i?(o||(m=e),t?l.replace(e):o?l.hash=-1===(o=(i=e).indexOf("#"))?"":i.substr(o):l.href=e,l.href!==e&&(m=e)):(c[t?"replaceState":"pushState"](n,"",e),$()),m=m&&e,s}return(m||l.href).replace(/#$/,"")},s.state=function(){return p},[]),y=!1;function w(){m=null,x()}var C=null;function $(){Ae(p=ke(p=v())?null:p,C)&&(p=C),h=C=p}function x(){var e=h;$(),f===s.url()&&e===p||(f=s.url(),h=p,$e(b,function(e){e(s.url(),p)}))}s.onUrlChange=function(e){return y||(a.history&&we(r).on("popstate",w),we(r).on("hashchange",w),y=!0),b.push(e),e},s.$$applicationDestroyed=function(){we(r).off("hashchange popstate",w)},s.$$checkUrlChange=x,s.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},s.defer=function(e,t,n){var i;return t=t||0,n=n||d.DEFAULT_TASK_TYPE,d.incTaskCount(n),i=o(function(){delete u[i],d.completeTask(e,n)},t),u[i]=n,i},s.defer.cancel=function(e){var t;return!!u.hasOwnProperty(e)&&(t=u[e],delete u[e],i(e),d.completeTask(T,t),!0)}}function Mn(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,i,o){return new En(e,i,t,n,o)}]}function Pn(){this.$get=function(){var d={};function e(e,t){if(e in d)throw x("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var n=0,i=xe({},t,{id:e}),o=Oe(),r=t&&t.capacity||Number.MAX_VALUE,a=Oe(),s=null,l=null;return d[e]={put:function(e,t){if(!ke(t))return r<Number.MAX_VALUE&&c(a[e]||(a[e]={key:e})),e in o||n++,o[e]=t,r<n&&this.remove(l.key),t},get:function(e){if(r<Number.MAX_VALUE){var t=a[e];if(!t)return;c(t)}return o[e]},remove:function(e){if(r<Number.MAX_VALUE){var t=a[e];if(!t)return;t===s&&(s=t.p),t===l&&(l=t.n),u(t.n,t.p),delete a[e]}e in o&&(delete o[e],n--)},removeAll:function(){o=Oe(),n=0,a=Oe(),s=l=null},destroy:function(){a=i=o=null,delete d[e]},info:function(){return xe({},i,{size:n})}};function c(e){e!==s&&(l?l===e&&(l=e.n):l=e,u(e.n,e.p),u(e,s),(s=e).n=null)}function u(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return e.info=function(){var n={};return $e(d,function(e,t){n[t]=e.info()}),n},e.get=function(e){return d[e]},e}}function Tn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var Re=x("$compile");var Dn=new function(){};function An(o,t){var H={},B="Directive",fe=/^\s*directive:\s*([\w-]+)\s+(.*)$/,ge=/(([\w-]+)(?::([^;]+))?;?)/,me=function(e){for(var t={},n=e.split(","),i=0;i<n.length;i++)t[n[i]]=!0;return t}("ngSrc,ngSrcset,src,srcset"),d=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,ve=/^(on[a-z]+|formaction)$/,s=Oe();function h(e,i,o){var r=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,a=Oe();return $e(e,function(e,t){if((e=e.trim())in s)a[t]=s[e];else{var n=e.match(r);if(!n)throw Re("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",i,t,e,o?"controller bindings definition":"isolate scope definition");a[t]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||t},n[4]&&(s[e]=a[t])}}),a}this.directive=function e(l,t){if(qe(l,"name"),Ke(l,"directive"),Ee(l)){var n=l,i=n.charAt(0);if(!i||i!==M(i))throw Re("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",n);if(n!==n.trim())throw Re("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",n);qe(t,"directiveFactory"),H.hasOwnProperty(l)||(H[l]=[],o.factory(l+B,["$injector","$exceptionHandler",function(r,a){var s=[];return $e(H[l],function(e,t){try{var n=r.invoke(e);Pe(n)?n={compile:E(n)}:!n.compile&&n.link&&(n.compile=E(n.link)),n.priority=n.priority||0,n.index=t,n.name=n.name||l,n.require=(!Me(o=(i=n).require||i.controller&&i.name)&&Se(o)&&$e(o,function(e,t){var n=e.match(d);e.substring(n[0].length)||(o[t]=n[0]+t)}),o),n.restrict=function(e,t){if(!e||Ee(e)&&/[EACM]/.test(e))return e||"EA";throw Re("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t)}(n.restrict,l),n.$$moduleName=e.$$moduleName,s.push(n)}catch(e){a(e)}var i,o}),s}])),H[l].push(t)}else $e(l,L(e));return this},this.component=function e(t,o){if(!Ee(t))return $e(t,L(He(this,e))),this;var r=o.controller||function(){};function n(i){function e(n){return Pe(n)||Me(n)?function(e,t){return i.invoke(n,this,{$element:e,$attrs:t})}:n}var t=o.template||o.templateUrl?o.template:"",n={controller:r,controllerAs:function(e,t){if(t&&Ee(t))return t;if(Ee(e)){t=Fn.exec(e);if(t)return t[3]}}(o.controller)||o.controllerAs||"$ctrl",template:e(t),templateUrl:e(o.templateUrl),transclude:o.transclude,scope:{},bindToController:o.bindings||{},restrict:"E",require:o.require};return $e(o,function(e,t){"$"===t.charAt(0)&&(n[t]=e)}),n}return $e(o,function(e,t){"$"===t.charAt(0)&&(n[t]=e,Pe(r)&&(r[t]=e))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationTrustedUrlList=function(e){return D(e)?(t.aHrefSanitizationTrustedUrlList(e),this):t.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(e){this.aHrefSanitizationTrustedUrlList=e}}),this.imgSrcSanitizationTrustedUrlList=function(e){return D(e)?(t.imgSrcSanitizationTrustedUrlList(e),this):t.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(e){this.imgSrcSanitizationTrustedUrlList=e}});var u=!0,p=!(this.debugInfoEnabled=function(e){return D(e)?(u=e,this):u}),f=(this.strictComponentBindingsEnabled=function(e){return D(e)?(p=e,this):p},10),g=(this.onChangesTtl=function(e){return arguments.length?(f=e,this):f},!0),m=(this.commentDirectivesEnabled=function(e){return arguments.length?(g=e,this):g},!0),be=(this.cssClassDirectivesEnabled=function(e){return arguments.length?(m=e,this):m},Oe());function e(t,e){$e(e,function(e){be[e.toLowerCase()]=t})}this.addPropertySecurityContext=function(e,t,n){var i=e.toLowerCase()+"|"+t.toLowerCase();if(i in be&&be[i]!==n)throw Re("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,be[i],n);return be[i]=n,this},e(c.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(c.CSS,["*|style"]),e(c.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(c.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(c.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(A,O,j,W,R,he,I,N,i){var r,c=/^\w/,s=ye.document.createElement("div"),_=g,G=m,e=f;function a(){try{if(!--e)throw r=void 0,Re("infchng","{0} $onChanges() iterations reached. Aborting!\n",f);I.$apply(function(){for(var e=0,t=r.length;e<t;++e)try{r[e]()}catch(e){j(e)}r=void 0})}finally{e++}}function l(e,t){if(!e)return e;if(!Ee(e))throw Re("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var n="",t=Te(e),e=/\s/.test(t)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,i=t.split(e),o=Math.floor(i.length/2),r=0;r<o;r++)var a=2*r,n=(n+=N.getTrustedMediaUrl(Te(i[a])))+(" "+Te(i[1+a]));t=Te(i[2*r]).split(/\s/);return n+=N.getTrustedMediaUrl(Te(t[0])),2===t.length&&(n+=" "+Te(t[1])),n}function q(e,t){if(t)for(var n,i=Object.keys(t),o=0,r=i.length;o<r;o++)this[n=i[o]]=t[n];else this.$attr={};this.$$element=e}function Y(e,t){try{e.addClass(t)}catch(e){}}q.prototype={$normalize:Nn,$addClass:function(e){e&&0<e.length&&i.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&i.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ln(e,t),n=(n&&n.length&&i.addClass(this.$$element,n),Ln(t,e));n&&n.length&&i.removeClass(this.$$element,n)},$set:function(e,t,n,i){var o=qt(this.$$element[0],e),r=Wt[e],a=e,i=(o?(this.$$element.prop(e,t),i=o):r&&(this[r]=t,a=r),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=je(e,"-")),"img"===De(this.$$element)&&"srcset"===e&&(this[e]=t=l(t,"$set('srcset', value)")),!1!==n&&(null===t||ke(t)?this.$$element.removeAttr(i):c.test(i)?o&&!1===t?this.$$element.removeAttr(i):this.$$element.attr(i,t):(r=this.$$element[0],e=i,n=t,s.innerHTML="<span "+e+">",e=s.firstChild.attributes,o=e[0],e.removeNamedItem(o.name),o.value=n,r.attributes.setNamedItem(o))),this.$$observers);i&&$e(i[a],function(e){try{e(t)}catch(e){j(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=Oe()),o=i[e]||(i[e]=[]);return o.push(t),I.$evalAsync(function(){o.$$inter||!n.hasOwnProperty(e)||ke(n[e])||t(n[e])}),function(){Ve(o,t)}}};var t=O.startSymbol(),n=O.endSymbol(),K="{{"===t&&"}}"===n?Le:function(e){return e.replace(/\{\{/g,t).replace(/}}/g,n)},F=/^ng(Attr|Prop|On)([A-Z].*)$/,V=/^(.+)Start$/;return Z.$$addBindingInfo=u?function(e,t){var n=e.data("$binding")||[];Me(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:T,Z.$$addBindingClass=u?function(e){Y(e,"ng-binding")}:T,Z.$$addScopeInfo=u?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:T,Z.$$addScopeClass=u?function(e,t){Y(e,t?"ng-isolate-scope":"ng-scope")}:T,Z.$$createComment=function(e,t){var n="";return u&&(n=" "+(e||"")+": ",t&&(n+=t+" ")),ye.document.createComment(n)},Z;function Z(s,e,t,n,l){var c=X(s=s instanceof we?s:we(s),e,s,t,n,l),u=(Z.$$addScopeClass(s),null);return function(e,t,n){if(!s)throw Re("multilink","This element has already been linked.");qe(e,"scope"),l&&l.needsNewScope&&(e=e.$parent.$new());var i,o=(n=n||{}).parentBoundTranscludeFn,r=n.transcludeControllers,n=n.futureParentElement;if(o&&o.$$boundTransclude&&(o=o.$$boundTransclude),i="html"!==(u=u||function(e){e=e&&e[0];return e&&"foreignobject"!==De(e)&&v.call(e).match(/SVG/)?"svg":"html"}(n))?we(le(u,we("<div></div>").append(s).html())):t?Ht.clone.call(s):s,r)for(var a in r)i.data("$"+a+"Controller",r[a].instance);return Z.$$addScopeInfo(i,e),t&&t(i,e),c&&c(e,i,i,o),t||(s=c=null),i}}function X(e,f,t,n,i,o){for(var r,a,s,g,m=[],l=Me(e)||e instanceof we,c=0;c<e.length;c++){if(a=new q,11===Ie){u=b=v=h=p=d=void 0;var u,d=e,p=c,h=l,v=d[p],b=v.parentNode;if(v.nodeType===Je)for(;;){if(!(u=b?v.nextSibling:d[p+1])||u.nodeType!==Je)break;v.nodeValue=v.nodeValue+u.nodeValue,u.parentNode&&u.parentNode.removeChild(u),h&&u===d[p+1]&&d.splice(p+1,1)}}(r=(r=J(e[c],[],a,0===c?n:void 0,i)).length?ie(r,e[c],a,f,t,null,[],[],o):null)&&r.scope&&Z.$$addScopeClass(a.$$element),a=r&&r.terminal||!(a=e[c].childNodes)||!a.length?null:X(a,r?(r.transcludeOnThisElement||!r.templateOnThisElement)&&r.transclude:f),(r||a)&&(m.push(c,r,a),s=!0,g=g||r),o=null}return s?function(e,t,n,i){var o,r,a,s,l,c,u,d,p;if(g){var h=t.length;for(p=new Array(h),l=0;l<m.length;l+=3)u=m[l],p[u]=t[u]}else p=t;for(l=0,c=m.length;l<c;)a=p[m[l++]],o=m[l++],r=m[l++],o?(o.scope?(s=e.$new(),Z.$$addScopeInfo(we(a),s)):s=e,d=o.transcludeOnThisElement?Q(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&f?Q(e,f):null,o(r,s,a,n,d)):r&&r(e,a.childNodes,void 0,i)}:null}function Q(r,a,s){function e(e,t,n,i,o){return e||((e=r.$new(!1,o)).$$transcluded=!0),a(e,t,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:i})}var t,n=e.$$slots=Oe();for(t in a.$$slots)a.$$slots[t]?n[t]=Q(r,a.$$slots[t],s):n[t]=null;return e}function J(e,t,n,i,o){var r,a,s,l,c=e.nodeType,u=n.$attr;switch(c){case Qe:s=De(e),L(t,Nn(s),"E",i,o);for(var d=e.attributes,p=0,h=d&&d.length;p<h;p++){var f,g,m,v=!1,b=!1,y=!1,w=!1,C=!1,$=(g=d[p]).name,x=g.value;(f=(m=Nn($.toLowerCase())).match(F))?(y="Attr"===f[1],w="Prop"===f[1],C="On"===f[1],$=$.replace(Rn,"").toLowerCase().substr(4+f[1].length).replace(/_(.)/g,function(e,t){return t.toUpperCase()})):(f=m.match(V))&&function(e){if(H.hasOwnProperty(e))for(var t=A.get(e+B),n=0,i=t.length;n<i;n++)if(t[n].multiElement)return 1;return}(f[1])&&(b=(v=$).substr(0,$.length-5)+"end",$=$.substr(0,$.length-6)),w||C?(n[m]=x,u[m]=g.name,w?function(e,t,n,r){if(ve.test(r))throw Re("nodomevents","Property bindings for HTML DOM event properties are disallowed");var e=De(e),i=function(e,t){t=t.toLowerCase();return be[e+"|"+t]||be["*|"+t]}(e,r),a=Le;"srcset"!==r||"img"!==e&&"source"!==e?i&&(a=N.getTrusted.bind(N,i)):a=U;t.push({priority:100,compile:function(e,t){var i=R(t[n]),o=R(t[n],function(e){return N.valueOf(e)});return{pre:function(t,n){function e(){var e=i(t);n[0][r]=a(e)}e(),t.$watch(o,e)}}}})}(e,t,m,$):(f=m,C=$,t.push(jr(R,I,j,f,C,!1)))):(u[m=Nn($.toLowerCase())]=$,!y&&n.hasOwnProperty(m)||(n[m]=x,qt(e,m)&&(n[m]=!0)),function(e,t,r,a,n){var i=De(e),s=function(e,t){if("srcdoc"===t)return N.HTML;return"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?N.RESOURCE_URL:N.MEDIA_URL:"xlinkHref"===t?"image"===e?N.MEDIA_URL:"a"===e?N.URL:N.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?N.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:N.URL}(i,a),o=!n,l=me[a]||n,c=O(r,o,s,l);if(c){if("multiple"===a&&"select"===i)throw Re("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Be(e));if(ve.test(a))throw Re("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,n){var i=n.$$observers||(n.$$observers=Oe()),o=n[a];o!==r&&(c=o&&O(o,!0,s,l),r=o),c&&(n[a]=c(e),(i[a]||(i[a]=[])).$$inter=!0,(n.$$observers&&n.$$observers[a].$$scope||e).$watch(c,function(e,t){"class"===a&&e!==t?n.$updateClass(e,t):n.$set(a,e)}))}}}})}}(e,t,x,m,y),L(t,m,"A",i,o,v,b))}if("input"===s&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!G)break;if(Ee(a=Se(a=e.className)?a.animVal:a)&&""!==a)for(;r=ge.exec(a);)m=Nn(r[2]),L(t,m,"C",i,o)&&(n[m]=Te(r[3])),a=a.substr(r.index+r[0].length);break;case Je:s=t,k=e.nodeValue,(l=O(k,!0))&&s.push({priority:0,compile:function(e){var e=e.parent(),i=!!e.length;return i&&Z.$$addBindingClass(e),function(e,t){var n=t.parent();i||Z.$$addBindingClass(n),Z.$$addBindingInfo(n,l.expressions),e.$watch(l,function(e){t[0].nodeValue=e})}}});break;case et:if(!_)break;var k=e,S=t,E=n,M=i,P=o;try{var T,D=fe.exec(k.nodeValue);D&&(T=Nn(D[1]),L(S,T,"M",M,P)&&(E[T]=Te(D[2])))}catch(e){}}return t.sort(z),t}function ee(e,t,n){var i=[],o=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Re("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n)}while(e.nodeType===Qe&&(e.hasAttribute(t)&&o++,e.hasAttribute(n)&&o--),i.push(e),e=e.nextSibling,0<o)}else i.push(e);return we(i)}function te(r,a,s){return function(e,t,n,i,o){return t=ee(t[0],a,s),r(e,t,n,i,o)}}function ne(e,t,n,i,o,r){var a;return e?Z(t,n,i,o,r):function(){return a||(a=Z(t,n,i,o,r),t=n=r=null),a.apply(this,arguments)}}function ie(e,w,C,t,n,L,$,x,i){i=i||{};for(var o,r,a=-Number.MAX_VALUE,k=i.newScopeDirective,S=i.controllerDirectives,E=i.newIsolateScopeDirective,M=i.templateDirective,s=i.nonTlbTranscludeDirective,l=!1,c=!1,P=i.hasElementTranscludeDirective,u=C.$$element=we(w),d=L,p=t,_=!1,h=!1,f=0,g=e.length;f<g;f++){var m,v=(m=e[f]).$$start,b=m.$$end;if(v&&(u=ee(w,v,b)),A=void 0,a>m.priority)break;if((r=m.scope)&&(m.templateUrl||(Se(r)?(se("new/isolated scope",E||k,m,u),E=m):se("new/isolated scope",E,m,u)),k=k||m),o=m.name,!_&&(m.replace&&(m.templateUrl||m.template)||m.transclude&&!m.$$tlb)){for(var y,G=f+1;y=e[G++];)if(y.transclude&&!y.$$tlb||y.replace&&(y.templateUrl||y.template)){h=!0;break}_=!0}if(!m.templateUrl&&m.controller&&(S=S||Oe(),se("'"+o+"' controller",S[o],m,u),S[o]=m),r=m.transclude)if(l=!0,m.$$tlb||(se("transclusion",s,m,u),s=m),"element"===r)P=!0,a=m.priority,A=u,u=C.$$element=we(Z.$$createComment(o,C[o])),w=u[0],ce(n,Ue(A),w),p=ne(h,A,t,a,d&&d.name,{nonTlbTranscludeDirective:s});else{var T=Oe();if(Se(r)){var D,F,A=ye.document.createDocumentFragment(),V=Oe(),O=Oe();for(D in $e(r,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,V[e]=t,T[t]=null,O[t]=n}),$e(u.contents(),function(e){var t=V[Nn(De(e))];t?(O[t]=!0,T[t]=T[t]||ye.document.createDocumentFragment(),T[t].appendChild(e)):A.appendChild(e)}),$e(O,function(e,t){if(!e)throw Re("reqslot","Required transclusion slot `{0}` was not filled.",t)}),T)T[D]&&(F=we(T[D].childNodes),T[D]=ne(h,F,t));A=we(A.childNodes)}else A=we(Et(w)).contents();u.empty(),(p=ne(h,A,t,void 0,void 0,{needsNewScope:m.$$isolateScope||m.$$newScope})).$$slots=T}if(m.template)if(c=!0,se("template",M,m,u),r=Pe((M=m).template)?m.template(u,C):m.template,r=K(r),m.replace){if(d=m,A=$t(r)?[]:_n(le(m.templateNamespace,Te(r))),w=A[0],1!==A.length||w.nodeType!==Qe)throw Re("tplrt","Template for directive '{0}' must have exactly one root element. {1}",o,"");ce(n,u,w);var z={$attr:{}},U=J(w,[],z),H=e.splice(f+1,e.length-(f+1));(E||k)&&re(U,E,k),e=e.concat(U).concat(H),ae(C,z),g=e.length}else u.html(r);if(m.templateUrl)c=!0,se("template",M,m,u),(M=m).replace&&(d=m),N=function(u,d,p,h,f,g,m,v){var b,y,w=[],C=d[0],$=u.shift(),x=Ne($,{templateUrl:null,transclude:null,replace:null,$$originalDirective:$}),k=Pe($.templateUrl)?$.templateUrl(d,p):$.templateUrl,S=$.templateNamespace;return d.empty(),W(k).then(function(e){var n,t;if(e=K(e),$.replace){if(t=$t(e)?[]:_n(le(S,Te(e))),n=t[0],1!==t.length||n.nodeType!==Qe)throw Re("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$.name,k);t={$attr:{}},ce(h,d,n);var i=J(n,[],t);Se($.scope)&&re(i,!0),u=i.concat(u),ae(p,t)}else n=C,d.html(e);for(u.unshift(x),b=ie(u,n,p,f,d,$,g,m,v),$e(h,function(e,t){e===n&&(h[t]=d[0])}),y=X(d[0].childNodes,f);w.length;){var o,r=w.shift(),a=w.shift(),s=w.shift(),l=w.shift(),c=d[0];r.$$destroyed||(a!==C&&(o=a.className,v.hasElementTranscludeDirective&&$.replace||(c=Et(n)),ce(s,we(a),c),Y(we(c),o)),s=b.transcludeOnThisElement?Q(r,b.transclude,l):l,b(y,r,c,h,s))}w=null}).catch(function(e){_e(e)&&j(e)}),function(e,t,n,i,o){var r=o;t.$$destroyed||(w?w.push(t,n,i,r):(b.transcludeOnThisElement&&(r=Q(t,b.transclude,o)),b(y,t,n,i,r)))}}(e.splice(f,e.length-f),u,C,n,l&&p,$,x,{controllerDirectives:S,newScopeDirective:k!==m&&k,newIsolateScopeDirective:E,templateDirective:M,nonTlbTranscludeDirective:s}),g=e.length;else if(m.compile)try{var R=m.compile(u,C,p),I=m.$$originalDirective||m;Pe(R)?B(null,He(I,R),v,b):R&&B(He(I,R.pre),He(I,R.post),v,b)}catch(e){j(e,Be(u))}m.terminal&&(N.terminal=!0,a=Math.max(a,m.priority))}return N.scope=k&&!0===k.scope,N.transcludeOnThisElement=l,N.templateOnThisElement=c,N.transclude=p,i.hasElementTranscludeDirective=P,N;function B(e,t,n,i){e&&((e=n?te(e,n,i):e).require=m.require,e.directiveName=o,E!==m&&!m.$$isolateScope||(e=ue(e,{isolateScope:!0})),$.push(e)),t&&((t=n?te(t,n,i):t).require=m.require,t.directiveName=o,E!==m&&!m.$$isolateScope||(t=ue(t,{isolateScope:!0})),x.push(t))}function N(e,t,n,i,a){var o,r,s,l,c,u,d,p,h,f,g;for(g in w===n?p=(h=C).$$element:h=new q(p=we(n),C),c=t,E?l=t.$new(!0):k&&(c=t.$parent),a&&((d=function(e,t,n,i){var o;Ge(e)||(i=n,n=t,t=e,e=void 0);P&&(o=u);n=n||(P?p.parent():p);{if(!i)return a(e,t,o,n,y);var r=a.$$slots[i];if(r)return r(e,t,o,n,y);if(ke(r))throw Re("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,Be(p))}}).$$boundTransclude=a,d.isSlotFilled=function(e){return!!a.$$slots[e]}),S&&(u=function(e,t,n,i,o,r,a){var s,l=Oe();for(s in i){var c=i[s],u={$scope:c===a||c.$$isolateScope?o:r,$element:e,$attrs:t,$transclude:n},d=c.controller,d=("@"===d&&(d=t[c.name]),he(d,u,!0,c.controllerAs));l[c.name]=d,e.data("$"+c.name+"Controller",d.instance)}return l}(p,h,d,S,l,t,E)),E&&(Z.$$addScopeInfo(p,l,!0,!(M&&(M===E||M===E.$$originalDirective))),Z.$$addScopeClass(p,!0),l.$$isolateBindings=E.$$isolateBindings,(f=pe(t,h,l,l.$$isolateBindings,E)).removeWatches&&l.$on("$destroy",f.removeWatches)),u){var m=S[g],v=u[g],b=m.$$bindings.bindToController;v.instance=v(),p.data("$"+m.name+"Controller",v.instance),v.bindingInfo=pe(c,h,v.instance,b,m)}for($e(S,function(e,t){var n=e.require;e.bindToController&&!Me(n)&&Se(n)&&xe(u[t].instance,oe(t,n,p,u))}),$e(u,function(e){var t=e.instance;if(Pe(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){j(e)}if(Pe(t.$onInit))try{t.$onInit()}catch(e){j(e)}Pe(t.$doCheck)&&(c.$watch(function(){t.$doCheck()}),t.$doCheck()),Pe(t.$onDestroy)&&c.$on("$destroy",function(){t.$onDestroy()})}),o=0,r=$.length;o<r;o++)de(s=$[o],s.isolateScope?l:t,p,h,s.require&&oe(s.directiveName,s.require,p,u),d);var y=t;for(E&&(E.template||null===E.templateUrl)&&(y=l),e&&e(y,n.childNodes,void 0,a),o=x.length-1;0<=o;o--)de(s=x[o],s.isolateScope?l:t,p,h,s.require&&oe(s.directiveName,s.require,p,u),d);$e(u,function(e){e=e.instance;Pe(e.$postLink)&&e.$postLink()})}}function oe(n,e,i,o){if(Ee(e)){var t,r,a=e.match(d),s=e.substring(a[0].length),l=a[1]||a[3],a="?"===a[2];if("^^"===l?i=i.parent():r=(r=o&&o[s])&&r.instance,r||(t="$"+s+"Controller",r="^^"===l&&i[0]&&i[0].nodeType===tt?null:l?i.inheritedData(t):i.data(t)),!r&&!a)throw Re("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,n)}else if(Me(e)){r=[];for(var c=0,u=e.length;c<u;c++)r[c]=oe(n,e[c],i,o)}else Se(e)&&(r={},$e(e,function(e,t){r[t]=oe(n,e,i,o)}));return r||null}function re(e,t,n){for(var i=0,o=e.length;i<o;i++)e[i]=Ne(e[i],{$$isolateScope:t,$$newScope:n})}function L(e,t,n,i,o,r,a){if(t!==o){var s=null;if(H.hasOwnProperty(t))for(var l=A.get(t+B),c=0,u=l.length;c<u;c++){var d,p=l[c];(ke(i)||i>p.priority)&&-1!==p.restrict.indexOf(n)&&((p=r?Ne(p,{$$start:r,$$end:a}):p).$$bindings||(d=p.$$bindings=function(e,t){var n={isolateScope:null,bindToController:null};if(Se(e.scope)&&(!0===e.bindToController?(n.bindToController=h(e.scope,t,!0),n.isolateScope={}):n.isolateScope=h(e.scope,t,!1)),Se(e.bindToController)&&(n.bindToController=h(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw Re("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}(p,p.name),Se(d.isolateScope)&&(p.$$isolateBindings=d.isolateScope)),e.push(p),s=p)}return s}}function ae(n,i){var o=i.$attr,r=n.$attr;$e(n,function(e,t){"$"!==t.charAt(0)&&(i[t]&&i[t]!==e&&(e.length?e+=("style"===t?";":" ")+i[t]:e=i[t]),n.$set(t,e,!0,o[t]))}),$e(i,function(e,t){n.hasOwnProperty(t)||"$"===t.charAt(0)||(n[t]=e,"class"!==t&&"style"!==t&&(r[t]=o[t]))})}function z(e,t){var n=t.priority-e.priority;return 0!=n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function se(e,t,n,i){function o(e){return e?" (module: "+e+")":""}if(t)throw Re("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,o(t.$$moduleName),n.name,o(n.$$moduleName),e,Be(i))}function le(e,t){switch(e=M(e||"html")){case"svg":case"math":var n=ye.document.createElement("div");return n.innerHTML="<"+e+">"+t+"</"+e+">",n.childNodes[0].childNodes;default:return t}}function U(e){return l(N.valueOf(e),"ng-prop-srcset")}function ce(e,t,n){var i,o=t[0],r=t.length,a=o.parentNode;if(e)for(d=0,i=e.length;d<i;d++)if(e[d]===o){e[d++]=n;for(var s=d,l=s+r-1,c=e.length;s<c;s++,l++)l<c?e[s]=e[l]:delete e[s];e.length-=r-1,e.context===o&&(e.context=n);break}a&&a.replaceChild(n,o);for(var u=ye.document.createDocumentFragment(),d=0;d<r;d++)u.appendChild(t[d]);for(we.hasData(o)&&(we.data(n,we.data(o)),we(o).off("$destroy")),we.cleanData(u.querySelectorAll("*")),d=1;d<r;d++)delete t[d];t[0]=n,t.length=1}function ue(e,t){return xe(function(){return e.apply(null,arguments)},e,t)}function de(e,t,n,i,o,r){try{e(t,n,i,o,r)}catch(e){j(e,Be(n))}}function y(e,t){if(p)throw Re("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function pe(p,h,f,e,g){var i,m=[],v={};function b(e,t,n){Pe(f.$onChanges)&&!ze(t,n)&&(r||(p.$$postDigest(a),r=[]),i||(i={},r.push(o)),i[e]&&(n=i[e].previousValue),i[e]=new On(n,t))}function o(){f.$onChanges(i),i=void 0}return $e(e,function(e,n){var t,i=e.attrName,o=e.optional;switch(e.mode){case"@":o||Ce.call(h,i)||(y(i,g.name),f[n]=h[i]=void 0),t=h.$observe(i,function(e){var t;(Ee(e)||Fe(e))&&(t=f[n],b(n,e,t),f[n]=e)}),h.$$observers[i].$$scope=p,Ee(l=h[i])?f[n]=O(l)(p):Fe(l)&&(f[n]=l),v[n]=new On(Dn,f[n]),m.push(t);break;case"=":if(!Ce.call(h,i)){if(o)break;y(i,g.name),h[i]=void 0}if(o&&!h[i])break;var r,a=(r=R(h[i])).literal?Ae:ze,s=r.assign||function(){throw l=f[n]=r(p),Re("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",h[i],i,g.name)},l=f[n]=r(p),c=function(e){return a(e,f[n])||(a(e,l)?s(p,e=f[n]):f[n]=e),l=e};c.$stateful=!0,t=e.collection?p.$watchCollection(h[i],c):p.$watch(R(h[i],c),null,r.literal),m.push(t);break;case"<":if(!Ce.call(h,i)){if(o)break;y(i,g.name),h[i]=void 0}if(o&&!h[i])break;var u=(r=R(h[i])).literal,d=f[n]=r(p);v[n]=new On(Dn,f[n]),t=p[e.collection?"$watchCollection":"$watch"](r,function(e,t){if(t===e){if(t===d||u&&Ae(t,d))return;t=d}b(n,e,t),f[n]=e}),m.push(t);break;case"&":if(o||Ce.call(h,i)||y(i,g.name),(r=h.hasOwnProperty(i)?R(h[i]):T)===T&&o)break;f[n]=function(e){return r(p,e)}}}),{initialChanges:v,removeWatches:m.length&&function(){for(var e=0,t=m.length;e<t;++e)m[e]()}}}}]}function On(e,t){this.previousValue=e,this.currentValue=t}An.$inject=["$provide","$$sanitizeUriProvider"],On.prototype.isFirstChange=function(){return this.previousValue===Dn};var Rn=/^((?:x|data)[:\-_])/i,In=/[:\-_]+(.)/g;function Nn(e){return e.replace(Rn,"").replace(In,function(e,t,n){return n?t.toUpperCase():t})}function Ln(e,t){var n="",i=e.split(/\s+/),o=t.split(/\s+/);e:for(var r=0;r<i.length;r++){for(var a=i[r],s=0;s<o.length;s++)if(a===o[s])continue e;n+=(0<n.length?" ":"")+a}return n}function _n(e){var t=(e=we(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===et||n.nodeType===Je&&""===n.nodeValue.trim())&&i.call(e,t,1)}return e}var Gn=x("$controller"),Fn=/^(\S+)(\s+as\s+([\w$]+))?$/;function Vn(){var c={};this.has=function(e){return c.hasOwnProperty(e)},this.register=function(e,t){Ke(e,"controller"),Se(e)?xe(c,e):c[e]=t},this.$get=["$injector",function(s){return function(t,n,e,i){var o,r,a;if(e=!0===e,i&&Ee(i)&&(r=i),Ee(t)){if(!(i=t.match(Fn)))throw Gn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);if(o=i[1],r=r||i[3],!(t=c.hasOwnProperty(o)?c[o]:function(e,t,n){if(!t)return e;for(var i,o=t.split("."),r=e,a=o.length,s=0;s<a;s++)i=o[s],e=e&&(r=e)[i];return!n&&Pe(e)?He(r,e):e}(n.$scope,o,!0)))throw Gn("ctrlreg","The controller with the name '{0}' is not registered.",o);Ye(t,o,!0)}return e?(i=(Me(t)?t[t.length-1]:t).prototype,a=Object.create(i||null),r&&l(n,r,a,o||t.name),xe(function(){var e=s.invoke(t,a,n,o);return e!==a&&(Se(e)||Pe(e))&&(a=e,r&&l(n,r,a,o||t.name)),a},{instance:a,identifier:r})):(a=s.instantiate(t,n,o),r&&l(n,r,a,o||t.name),a)};function l(e,t,n,i){if(!e||!Se(e.$scope))throw x("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}}]}function zn(){this.$get=["$window",function(e){return we(e.document)}]}function Un(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],i=n&&n.hidden;function o(){i=n.hidden}return e.on("visibilitychange",o),t.$on("$destroy",function(){e.off("visibilitychange",o)}),function(){return i}}]}function Hn(){this.$get=["$log",function(n){return function(e,t){n.error.apply(n,arguments)}}]}function Bn(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof we&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]}var jn="application/json",Wn={"Content-Type":jn+";charset=utf-8"},qn=/^\[|^\{(?!\{)/,Yn={"[":/]$/,"{":/}$/},Kn=/^\)]\}',?\n/,Zn=x("$http");function Xn(e){return Se(e)?$(e)?e.toISOString():te(e):e}function Qn(){this.$get=function(){return function(e){if(!e)return"";var n=[];return I(e,function(e,t){null===e||ke(e)||Pe(e)||(Me(e)?$e(e,function(e){n.push(r(t)+"="+r(Xn(e)))}):n.push(r(t)+"="+r(Xn(e))))}),n.join("&")}}}function Jn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function n(e,i,o){Me(e)?$e(e,function(e,t){n(e,i+"["+(Se(e)?t:"")+"]")}):Se(e)&&!$(e)?I(e,function(e,t){n(e,i+(o?"":"[")+t+(o?"":"]"))}):(Pe(e)&&(e=e()),t.push(r(i)+"="+(null==e?"":r(Xn(e)))))}(e,"",!0),t.join("&")}}}function ei(t,n){if(Ee(t)){var e=t.replace(Kn,"").trim();if(e){n=n("Content-Type"),n=n&&0===n.indexOf(jn);if(n||(o=(i=e).match(qn))&&Yn[o[0]].test(i))try{t=ne(e)}catch(e){if(n)throw Zn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e);return t}}}var i,o;return t}function ti(e){var t,n=Oe();function i(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return Ee(e)?$e(e.split("\n"),function(e){t=e.indexOf(":"),i(M(Te(e.substr(0,t))),Te(e.substr(t+1)))}):Se(e)&&$e(e,function(e,t){i(M(t),Te(e))}),n}function ni(t){var n;return function(e){return n=n||ti(t),e?void 0===(e=n[M(e)])?null:e:n}}function ii(t,n,i,e){return Pe(e)?e(t,n,i):($e(e,function(e){t=e(t,n,i)}),t)}function oi(e){return 200<=e&&e<300}function ri(){var C=this.defaults={transformResponse:[ei],transformRequest:[function(e){return Se(e)&&"[object File]"!==v.call(e)&&"[object Blob]"!==v.call(e)&&"[object FormData]"!==v.call(e)?te(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:k(Wn),put:k(Wn),patch:k(Wn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},$=!1,n=(this.useApplyAsync=function(e){return D(e)?($=!!e,this):$},this.interceptors=[]),i=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(e){this.xsrfTrustedOrigins=e}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(a,h,f,e,g,m,s,v){var t,b=e("$http"),l=(C.paramSerializer=Ee(C.paramSerializer)?s.get(C.paramSerializer):C.paramSerializer,[]),y=($e(n,function(e){l.unshift(Ee(e)?s.get(e):s.invoke(e))}),t=[wo].concat(i.map(A)),function(e){e=A(e);return t.some($o.bind(null,e))});function w(e){if(!Se(e))throw x("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);if(!Ee(v.valueOf(e.url)))throw x("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",e.url);var n=xe({method:"get",transformRequest:C.transformRequest,transformResponse:C.transformResponse,paramSerializer:C.paramSerializer,jsonpCallbackParam:C.jsonpCallbackParam},e),t=(n.headers=function(e){var t,n,i,o=C.headers,r=xe({},e.headers);e:for(t in o=xe({},o.common,o[M(e.method)])){for(i in n=M(t),r)if(M(i)===n)continue e;r[t]=o[t]}return function(e,n){var i,o={};return $e(e,function(e,t){Pe(e)?null!=(i=e(n))&&(o[t]=i):o[t]=e}),o}(r,k(e))}(e),n.method=S(n.method),n.paramSerializer=Ee(n.paramSerializer)?s.get(n.paramSerializer):n.paramSerializer,a.$$incOutstandingRequestCount("$http"),[]),i=[],e=m.resolve(n);return $e(l,function(e){(e.request||e.requestError)&&t.unshift(e.request,e.requestError),(e.response||e.responseError)&&i.push(e.response,e.responseError)}),e=o(e,t),e=(e=o(e=e.then(function(e){var n=e.headers,t=ii(e.data,ni(n),void 0,e.transformRequest);ke(t)&&$e(n,function(e,t){"content-type"===M(t)&&delete n[t]});ke(e.withCredentials)&&!ke(C.withCredentials)&&(e.withCredentials=C.withCredentials);return function(r,e){var a,t,s=m.defer(),n=s.promise,i=r.headers,o="jsonp"===M(r.method),l=r.url;o?l=v.getTrustedResourceUrl(l):Ee(l)||(l=v.valueOf(l));l=function(e,t){0<t.length&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(l,r.paramSerializer(r.params)),o&&(l=function(n,i){var e=n.split("?");if(2<e.length)throw Zn("badjsonp",'Illegal use more than one "?", in url, "{1}"',n);return $e(le(e[1]),function(e,t){if("JSON_CALLBACK"===e)throw Zn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',n);if(t===i)throw Zn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',i,n)}),n+=(-1===n.indexOf("?")?"?":"&")+i+"=JSON_CALLBACK"}(l,r.jsonpCallbackParam));w.pendingRequests.push(r),n.then(p,p),!r.cache&&!C.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(a=Se(r.cache)?r.cache:Se(C.cache)?C.cache:b);a&&(D(t=a.get(l))?j(t)?t.then(d,d):Me(t)?u(t[1],t[0],k(t[2]),t[3],t[4]):u(t,200,{},"OK","complete"):a.put(l,n));ke(t)&&((o=y(r.url)?f()[r.xsrfCookieName||C.xsrfCookieName]:void 0)&&(i[r.xsrfHeaderName||C.xsrfHeaderName]=o),h(r.method,l,e,function(e,t,n,i,o){a&&(oi(e)?a.put(l,[e,t,ti(n),i,o]):a.remove(l));function r(){u(t,e,n,i,o)}$?g.$applyAsync(r):(r(),g.$$phase||g.$apply())},i,r.timeout,r.withCredentials,r.responseType,c(r.eventHandlers),c(r.uploadEventHandlers)));return n;function c(e){var t;if(e)return t={},$e(e,function(n,e){t[e]=function(e){function t(){n(e)}$?g.$applyAsync(t):g.$$phase?t():g.$apply(t)}}),t}function u(e,t,n,i,o){(oi(t=-1<=t?t:0)?s.resolve:s.reject)({data:e,status:t,headers:ni(n),config:r,statusText:i,xhrStatus:o})}function d(e){u(e.data,e.status,k(e.headers()),e.statusText,e.xhrStatus)}function p(){var e=w.pendingRequests.indexOf(r);-1!==e&&w.pendingRequests.splice(e,1)}}(e,t).then(r,r)}),i)).finally(function(){a.$$completeOutstandingRequest(T,"$http")});function o(e,t){for(var n=0,i=t.length;n<i;){var o=t[n++],r=t[n++];e=e.then(o,r)}return t.length=0,e}function r(e){var t=xe({},e);return t.data=ii(e.data,e.headers,e.status,n.transformResponse),oi(e.status)?t:m.reject(t)}}return w.pendingRequests=[],function(){$e(arguments,function(n){w[n]=function(e,t){return w(xe({},t||{},{method:n,url:e}))}})}("get","delete","head","jsonp"),function(){$e(arguments,function(i){w[i]=function(e,t,n){return w(xe({},n||{},{method:i,url:e,data:t}))}})}("post","put","patch"),w.defaults=C,w}]}function ai(){this.$get=function(){return function(){return new ye.XMLHttpRequest}}}function si(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return x=i,k=($=e).defer,S=t,E=n[0],function(e,i,t,o,n,r,a,s,l,c){if(i=i||$.url(),"jsonp"===M(e))var u=S.createCallback(i),d=(g=u,m=function(e,t){var n=200===e&&S.getResponse(u);C(o,e,n,"",t,"complete"),S.removeCallback(u)},f=(f=i).replace("JSON_CALLBACK",g),v=E.createElement("script"),b=null,v.type="text/javascript",v.src=f,v.async=!0,b=function(e){v.removeEventListener("load",b),v.removeEventListener("error",b),E.body.removeChild(v),v=null;var t=-1,n="unknown";e&&(n=(e="load"!==e.type||S.wasCalled(g)?e:{type:"error"}).type,t="error"===e.type?404:200),m&&m(t,n)},v.addEventListener("load",b),v.addEventListener("error",b),E.body.appendChild(v),b);else{var p=x(e,i),h=!1;p.open(e,i,!0),$e(n,function(e,t){D(e)&&p.setRequestHeader(t,e)}),p.onload=function(){var e=p.statusText||"",t="response"in p?p.response:p.responseText,n=1223===p.status?204:p.status;0===n&&(n=t?200:"file"===A(i).protocol?404:0),C(o,n,t,p.getAllResponseHeaders(),e,"complete")};if(p.onerror=function(){C(o,-1,null,null,"","error")},p.ontimeout=function(){C(o,-1,null,null,"","timeout")},p.onabort=function(){C(o,-1,null,null,"",h?"timeout":"abort")},$e(l,function(e,t){p.addEventListener(t,e)}),$e(c,function(e,t){p.upload.addEventListener(t,e)}),a&&(p.withCredentials=!0),s)try{p.responseType=s}catch(e){if("json"!==s)throw e}p.send(ke(t)?null:t)}var f,g,m,v,b,y;function w(e){h="timeout"===e,d&&d(),p&&p.abort()}function C(e,t,n,i,o,r){D(y)&&k.cancel(y),d=p=null,e(t,n,i,o,r)}0<r?y=k(function(){w("timeout")},r):j(r)&&r.then(function(){w(D(r.$$timeoutId)?"timeout":"abort")})};var $,x,k,S,E}]}var li=y.$interpolateMinErr=x("$interpolate");function ci(){var k="{{",S="}}";this.startSymbol=function(e){return e?(k=e,this):k},this.endSymbol=function(e){return e?(S=e,this):S},this.$get=["$parse","$exceptionHandler","$sce",function(v,b,y){var w=k.length,C=S.length,t=new RegExp(k.replace(/./g,e),"g"),n=new RegExp(S.replace(/./g,e),"g");function e(e){return"\\\\\\"+e}function $(e){return e.replace(t,k).replace(n,S)}function x(e,t,n,i){var o=e.$watch(function(e){return o(),i(e)},t,n);return o}function i(o,e,i,r){var a=i===y.URL||i===y.MEDIA_URL;if(!o.length||-1===o.indexOf(k)){if(e)return;var t=$(o),t=E(t=a?y.getTrusted(i,t):t);return t.exp=o,t.expressions=[],t.$$watchDelegate=x,t}r=!!r;for(var n,s,l=0,c=[],u=o.length,d=[],p=[];l<u;){if(-1===(s=o.indexOf(k,l))||-1===(n=o.indexOf(S,s+w))){l!==u&&d.push($(o.substring(l)));break}l!==s&&d.push($(o.substring(l,s))),s=o.substring(s+w,n),c.push(s),l=n+C,p.push(d.length),d.push("")}var h,f=1===d.length&&1===p.length,g=a&&f?void 0:function(e){try{return e=i&&!a?y.getTrusted(i,e):y.valueOf(e),r&&!D(e)?e:Xe(e)}catch(e){b(li.interr(o,e))}},m=c.map(function(e){return v(e,g)});if(!e||c.length)return h=function(e){for(var t=0,n=c.length;t<n;t++){if(r&&ke(e[t]))return;d[p[t]]=e[t]}return a?y.getTrusted(i,f?d[0]:d.join("")):(i&&1<d.length&&li.throwNoconcat(o),d.join(""))},xe(function(e){var t=0,n=c.length,i=new Array(n);try{for(;t<n;t++)i[t]=m[t](e);return h(i)}catch(e){b(li.interr(o,e))}},{exp:o,expressions:c,$$watchDelegate:function(i,o){var r;return i.$watchGroup(m,function(e,t){var n=h(e);o.call(this,n,e!==t?r:n,i),r=n})}})}return i.startSymbol=function(){return k},i.endSymbol=function(){return S},i}]}li.throwNoconcat=function(e){throw li("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},li.interr=function(e,t){return li("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ui=x("$interval");function di(){this.$get=["$$intervalFactory","$window",function(e,i){function n(e){i.clearInterval(e),delete o[e]}var o={},e=e(function(e,t,n){e=i.setInterval(e,t);return o[e]=n,e},n);return e.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw ui("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!o.hasOwnProperty(e.$$intervalId))return!1;var e=e.$$intervalId,t=o[e];return eo(t.promise),t.reject("canceled"),n(e),!0},e}]}function pi(){this.$get=["$browser","$q","$$q","$rootScope",function(h,f,g,m){return function(d,p){return function(e,t,n,i){var o=4<arguments.length,r=o?Ue(arguments,4):[],a=0,s=D(i)&&!i,l=(s?g:f).defer(),c=l.promise;function u(){o?e.apply(null,r):e(a)}return n=D(n)?n:0,c.$$intervalId=d(function(){s?h.defer(u):m.$evalAsync(u),l.notify(a++),0<n&&n<=a&&(l.resolve(a),p(c.$$intervalId)),s||m.$apply()},t,l,s),c}}}]}function hi(){this.$get=function(){var o=y.callbacks,r={};function a(e){function t(e){t.data=e,t.called=!0}return t.id=e,t}return{createCallback:function(e){var t="_"+(o.$$counter++).toString(36),n="angular.callbacks."+t,i=a(t);return r[n]=o[t]=i,n},wasCalled:function(e){return r[e].called},getResponse:function(e){return r[e].data},removeCallback:function(e){var t=r[e];delete o[t.id],delete r[e]}}}}var fi=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,gi={http:80,https:443,ftp:21},mi=x("$location");function vi(e,t,n){i=[],$e(t,function(e,t){Me(e)?$e(e,function(e){i.push(r(t,!0)+(!0===e?"":"="+r(e,!0)))}):i.push(r(t,!0)+(!0===e?"":"="+r(e,!0)))});var i,t=i.length?i.join("&"):"",n=n?"#"+ce(n):"";return function(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ce(t[n].replace(/%2F/g,"/"));return t.join("/")}(e)+(t?"?"+t:"")+n}function bi(e,t){e=A(e);t.$$protocol=e.protocol,t.$$host=e.hostname,t.$$port=b(e.port)||gi[e.protocol]||null}var yi=/^\s*[\\/]{2,}/;function wi(e,t,n){if(yi.test(e))throw mi("badpath",'Invalid url "{0}".',e);var i="/"!==e.charAt(0),e=A(e=i?"/"+e:e),i=i&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname;t.$$path=function(e,t){for(var n=e.split("/"),i=n.length;i--;)n[i]=decodeURIComponent(n[i]),t&&(n[i]=n[i].replace(/\//g,"%2F"));return n.join("/")}(i,n),t.$$search=le(e.search),t.$$hash=decodeURIComponent(e.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Ci(e,t){return e.slice(0,t.length)===t}function $i(e,t){if(Ci(t,e))return t.substr(e.length)}function xi(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function ki(i,o,r){this.$$html5=!0,r=r||"",bi(i,this),this.$$parse=function(e){var t=$i(o,e);if(!Ee(t))throw mi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,o);wi(t,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return o+e.substr(1)},this.$$parseLinkUrl=function(e,t){return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(D(t=$i(i,e))?(n=t,n=r&&D(t=$i(r,t))?o+($i("/",t)||t):i+n):D(t=$i(o,e))?n=o+t:o===e+"/"&&(n=o),n&&this.$$parse(n),!!n);var n}}function Si(i,o,r){bi(i,this),this.$$parse=function(e){var t,n=$i(i,e)||$i(o,e);ke(n)||"#"!==n.charAt(0)?this.$$html5?t=n:(t="",ke(n)&&(i=e,this.replace())):ke(t=$i(r,n))&&(t=n),wi(t,this,!1),this.$$path=function(e,t,n){var i=/^\/[A-Z]:(\/.*)/;Ci(t,n)&&(t=t.replace(n,""));if(i.exec(t))return e;return(n=i.exec(e))?n[1]:e}(this.$$path,t,i),this.$$compose()},this.$$normalizeUrl=function(e){return i+(e?r+e:"")},this.$$parseLinkUrl=function(e,t){return xi(i)===xi(e)&&(this.$$parse(e),!0)}}function Ei(i,o,r){this.$$html5=!0,Si.apply(this,arguments),this.$$parseLinkUrl=function(e,t){return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(i===xi(e)?n=e:(t=$i(o,e))?n=i+r+t:o===e+"/"&&(n=o),n&&this.$$parse(n),!!n);var n},this.$$normalizeUrl=function(e){return i+r+e}}var Mi={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=vi(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:Pi("$$absUrl"),url:function(e){if(ke(e))return this.$$url;var t=fi.exec(e);return!t[1]&&""!==e||this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Pi("$$protocol"),host:Pi("$$host"),port:Pi("$$port"),path:Ti("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(n,e){switch(arguments.length){case 0:return this.$$search;case 1:if(Ee(n)||w(n))n=n.toString(),this.$$search=le(n);else{if(!Se(n))throw mi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");$e(n=Z(n,{}),function(e,t){null==e&&delete n[t]}),this.$$search=n}break;default:ke(e)||null===e?delete this.$$search[n]:this.$$search[n]=e}return this.$$compose(),this},hash:Ti("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};function Pi(e){return function(){return this[e]}}function Ti(t,n){return function(e){return ke(e)?this[t]:(this[t]=n(e),this.$$compose(),this)}}function Di(){var g="!",m={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return D(e)?(g=e,this):g},this.html5Mode=function(e){return Fe(e)?(m.enabled=e,this):Se(e)?(Fe(e.enabled)&&(m.enabled=e.enabled),Fe(e.requireBase)&&(m.requireBase=e.requireBase),(Fe(e.rewriteLinks)||Ee(e.rewriteLinks))&&(m.rewriteLinks=e.rewriteLinks),this):m},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(a,s,l,o,e){var t,n,i=s.baseHref(),r=s.url();if(m.enabled){if(!i&&m.requireBase)throw mi("nobase","$location in HTML5 mode requires a <base> tag to be present!");n=r.substring(0,r.indexOf("/",r.indexOf("//")+2))+(i||"/"),t=l.history?ki:Ei}else n=xi(r),t=Si;var c,u=(i=n).substr(0,xi(i).lastIndexOf("/")+1),d=((c=new t(n,u,"#"+g)).$$parseLinkUrl(r,r),c.$$state=s.state(),/^\s*(javascript|mailto):/i);function p(e,t,n){var i=c.url(),o=c.$$state;try{s.url(e,t,n),c.$$state=s.state()}catch(e){throw c.url(i),c.$$state=o,e}}o.on("click",function(e){var t=m.rewriteLinks;if(t&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var n,i=we(e.target);"a"!==De(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;Ee(t)&&ke(i.attr(t))||(t=i.prop("href"),n=i.attr("href")||i.attr("xlink:href"),Se(t)&&"[object SVGAnimatedString]"===t.toString()&&(t=A(t.animVal).href),d.test(t)||!t||i.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(t,n)&&(e.preventDefault(),c.absUrl()!==s.url()&&a.$apply()))}}),c.absUrl()!==r&&s.url(c.absUrl(),!0);var h=!0;return s.onUrlChange(function(i,o){Ci(i,u)?(a.$evalAsync(function(){var e,t=c.absUrl(),n=c.$$state;c.$$parse(i),c.$$state=o,e=a.$broadcast("$locationChangeStart",i,t,o,n).defaultPrevented,c.absUrl()===i&&(e?(c.$$parse(t),c.$$state=n,p(t,!1,n)):(h=!1,f(t,n)))}),a.$$phase||a.$digest()):e.location.href=i}),a.$watch(function(){var n,i,o,r,e,t;(h||c.$$urlUpdatedByLocation)&&(c.$$urlUpdatedByLocation=!1,n=s.url(),t=c.absUrl(),i=s.state(),o=c.$$replace,r=!((e=n)===(t=t)||A(e).href===A(t).href)||c.$$html5&&l.history&&i!==c.$$state,(h||r)&&(h=!1,a.$evalAsync(function(){var e=c.absUrl(),t=a.$broadcast("$locationChangeStart",e,n,c.$$state,i).defaultPrevented;c.absUrl()===e&&(t?(c.$$parse(n),c.$$state=i):(r&&p(e,o,i===c.$$state?null:c.$$state),f(n,i)))}))),c.$$replace=!1}),c;function f(e,t){a.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}}]}function Ai(){var i=!0,r=this;this.debugEnabled=function(e){return D(e)?(i=e,this):i},this.$get=["$window",function(t){var e,o=Ie||/\bEdge\//.test(t.navigator&&t.navigator.userAgent);return{log:n("log"),info:n("info"),warn:n("warn"),error:n("error"),debug:(e=n("debug"),function(){i&&e.apply(r,arguments)})};function n(e){var n=t.console||{},i=n[e]||n.log||T;return function(){var t=[];return $e(arguments,function(e){t.push((_e(e=e)&&(e.stack&&o?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e))}),Function.prototype.apply.call(i,n,t)}}}]}$e([Ei,Si,ki],function(t){t.prototype=Object.create(Mi),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t===ki&&this.$$html5)return this.$$state=ke(e)?null:e,this.$$urlUpdatedByLocation=!0,this;throw mi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API")}});var Oi=x("$parse"),Ri={}.constructor.prototype.valueOf;function Ii(e){return e+""}var Ni=Oe(),Li=($e("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Ni[e]=!0}),{n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'}),_i=function(e){this.options=e},p=(_i.prototype={constructor:_i,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t,n,i,o,r,a=this.text.charAt(this.index);'"'===a||"'"===a?this.readString(a):this.isNumber(a)||"."===a&&this.isNumber(this.peek())?this.readNumber():this.isIdentifierStart(this.peekMultichar())?this.readIdent():this.is(a,"(){}[].,;:?")?(this.tokens.push({index:this.index,text:a}),this.index++):this.isWhitespace(a)?this.index++:(n=(t=a+this.peek())+this.peek(2),r=Ni[a],i=Ni[t],o=Ni[n],r||i||o?(this.tokens.push({index:this.index,text:r=o?n:i?t:a,operator:!0}),this.index+=r.length):this.throwError("Unexpected next character ",this.index,this.index+1))}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){e=e||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return 55296<=n&&n<=56319&&56320<=i&&i<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;t=D(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Oi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=M(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){for(var t=this.index,n=(this.index++,""),i=e,o=!1;this.index<this.text.length;){var r,a=this.text.charAt(this.index);if(i+=a,o)"u"===a?((r=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=Li[a]||a,o=!1;else if("\\"===a)o=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}},function(e,t){this.lexer=e,this.options=t});function Gi(e,t){return void 0!==e?e:t}function Fi(e,t){return void 0===e?t:void 0===t?e:e+t}p.Program="Program",p.ExpressionStatement="ExpressionStatement",p.AssignmentExpression="AssignmentExpression",p.ConditionalExpression="ConditionalExpression",p.LogicalExpression="LogicalExpression",p.BinaryExpression="BinaryExpression",p.UnaryExpression="UnaryExpression",p.CallExpression="CallExpression",p.MemberExpression="MemberExpression",p.Identifier="Identifier",p.Literal="Literal",p.ArrayExpression="ArrayExpression",p.Property="Property",p.ObjectExpression="ObjectExpression",p.ThisExpression="ThisExpression",p.LocalsExpression="LocalsExpression",p.NGValueParameter="NGValueParameter",p.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:p.Program,body:e}},expressionStatement:function(){return{type:p.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Hi(e))throw Oi("lval","Trying to assign a value to a non l-value");e={type:p.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:p.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:p.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:p.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:p.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:p.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:p.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:p.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:p.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=Z(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:p.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:p.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:p.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:p.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],e={type:p.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)for(;e.push(this.filterChain()),this.expect(","););return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:p.Identifier,name:e.text}},constant:function(){return{type:p.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)for(;!this.peek("]")&&(e.push(this.expression()),this.expect(",")););return this.consume("]"),{type:p.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)for(;!this.peek("}")&&(e={type:p.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e),this.expect(",")););return this.consume("}"),{type:p.ObjectExpression,properties:t}},throwError:function(e,t){throw Oi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Oi("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Oi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,o){if(this.tokens.length>e){var e=this.tokens[e],r=e.text;if(r===t||r===n||r===i||r===o||!t&&!n&&!i&&!o)return e}return!1},expect:function(e,t,n,i){e=this.peek(e,t,n,i);return!!e&&(this.tokens.shift(),e)},selfReferential:{this:{type:p.ThisExpression},$locals:{type:p.LocalsExpression}}};var Vi=1,zi=2;function l(e,t,n){var i,o,r,a=e.isPure=function(e,t){switch(e.type){case p.MemberExpression:if(e.computed)return!1;break;case p.UnaryExpression:return Vi;case p.BinaryExpression:return"+"!==e.operator&&Vi;case p.CallExpression:return!1}return void 0===t?zi:t}(e,n);switch(e.type){case p.Program:i=!0,$e(e.body,function(e){l(e.expression,t,a),i=i&&e.expression.constant}),e.constant=i;break;case p.Literal:e.constant=!0,e.toWatch=[];break;case p.UnaryExpression:l(e.argument,t,a),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case p.BinaryExpression:l(e.left,t,a),l(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case p.LogicalExpression:l(e.left,t,a),l(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case p.ConditionalExpression:l(e.test,t,a),l(e.alternate,t,a),l(e.consequent,t,a),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case p.Identifier:e.constant=!1,e.toWatch=[e];break;case p.MemberExpression:l(e.object,t,a),e.computed&&l(e.property,t,a),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case p.CallExpression:r=!!e.filter&&(r=e.callee.name,!t(r).$stateful),i=r,o=[],$e(e.arguments,function(e){l(e,t,a),i=i&&e.constant,o.push.apply(o,e.toWatch)}),e.constant=i,e.toWatch=r?o:[e];break;case p.AssignmentExpression:l(e.left,t,a),l(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case p.ArrayExpression:i=!0,o=[],$e(e.elements,function(e){l(e,t,a),i=i&&e.constant,o.push.apply(o,e.toWatch)}),e.constant=i,e.toWatch=o;break;case p.ObjectExpression:i=!0,o=[],$e(e.properties,function(e){l(e.value,t,a),i=i&&e.value.constant,o.push.apply(o,e.value.toWatch),e.computed&&(l(e.key,t,!1),i=i&&e.key.constant,o.push.apply(o,e.key.toWatch))}),e.constant=i,e.toWatch=o;break;case p.ThisExpression:case p.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Ui(e){var t;if(1===e.length)return e=e[0].expression,t=e.toWatch,1!==t.length||t[0]!==e?t:void 0}function Hi(e){return e.type===p.Identifier||e.type===p.MemberExpression}function Bi(e){if(1===e.body.length&&Hi(e.body[0].expression))return{type:p.AssignmentExpression,left:e.body[0].expression,right:{type:p.NGValueParameter},operator:"="}}function ji(e){this.$filter=e}function Wi(e){this.$filter=e}function qi(e,t,n){this.ast=new p(e,n),this.astCompiler=new(n.csp?Wi:ji)(t)}function Yi(e){return Pe(e.valueOf)?e.valueOf():Ri.call(e)}function Ki(){var s,l,c=Oe(),u={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){u[e]=t},this.setIdentifierFns=function(e,t){return s=e,l=t,this},this.$get=["$filter",function(o){var r={csp:X().noUnsafeEval,literals:Z(u),isIdentifierStart:Pe(s)&&s,isIdentifierContinue:Pe(l)&&l};return e.$$getAst=function(e){return new qi(new _i(r),o,r).getAst(e).ast},e;function e(e,t){var n,i;switch(typeof e){case"string":return e=e.trim(),(i=c[n=e])||(i=new qi(new _i(r),o,r).parse(e),c[n]=f(i)),a(i,t);case"function":return a(e,t);default:return a(T,t)}}function p(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Yi(e))&&!n)&&(e===t||e!=e&&t!=t)}function t(e,t,n,r,i){var a,o,s=r.inputs;if(1===s.length)return o=p,s=s[0],e.$watch(function(e){var t=s(e);return p(t,o,s.isPure)||(a=r(e,void 0,void 0,[t]),o=t&&Yi(t)),a},t,n,i);for(var l=[],c=[],u=0,d=s.length;u<d;u++)l[u]=p,c[u]=null;return e.$watch(function(e){for(var t=!1,n=0,i=s.length;n<i;n++){var o=s[n](e);(t=t||!p(o,l[n],s[n].isPure))&&(c[n]=o,l[n]=o&&Yi(o))}return a=t?r(e,void 0,void 0,c):a},t,n,i)}function n(e,t,n,i,o){var r,a,s=i.literal?h:D,l=i.$$intercepted||i,c=i.$$interceptor||Le,u=i.inputs&&!l.inputs;return p.literal=i.literal,p.constant=i.constant,p.inputs=i.inputs,f(p),r=e.$watch(p,t,n,o);function d(){s(a)&&r()}function p(e,t,n,i){return a=u&&i?i[0]:l(e,t,n,i),s(a)&&e.$$postDigest(d),c(a)}}function h(e){var t=!0;return $e(e,function(e){D(e)||(t=!1)}),t}function i(e,t,n,i){var o=e.$watch(function(e){return o(),i(e)},t,n);return o}function f(e){return e.constant?e.$$watchDelegate=i:e.oneTime?e.$$watchDelegate=n:e.inputs&&(e.$$watchDelegate=t),e}function a(o,r){if(!r)return o;function e(e){return i(n(e))}function t(e,t,n,i){return e=a&&i?i[0]:o(e,t,n,i),r(e)}o.$$interceptor&&(n=o.$$interceptor,i=r,e.$stateful=n.$stateful||i.$stateful,e.$$pure=n.$$pure&&i.$$pure,r=e,o=o.$$intercepted);var n,i,a=!1;return t.$$intercepted=o,t.$$interceptor=r,t.literal=o.literal,t.oneTime=o.oneTime,t.constant=o.constant,r.$stateful||(a=!o.inputs,t.inputs=o.inputs||[o],r.$$pure||(t.inputs=t.inputs.map(function(t){return t.isPure===zi?function(e){return t(e)}:t}))),f(t)}}]}function Zi(){var n=!0;this.$get=["$rootScope","$exceptionHandler",function(t,e){return Qi(function(e){t.$evalAsync(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return D(e)?(n=e,this):n}}function Xi(){var n=!0;this.$get=["$browser","$exceptionHandler",function(t,e){return Qi(function(e){t.defer(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return D(e)?(n=e,this):n}}function Qi(s,l,c){var n=x("$q",TypeError),u=0,i=[];function o(){return new e}function e(){var t=this.promise=new r;this.resolve=function(e){h(t,e)},this.reject=function(e){f(t,e)},this.notify=function(e){m(t,e)}}function r(){this.$$state={status:0}}function d(){for(;!u&&i.length;){var e,t=i.shift();t.pur||(Ji(t),e="Possibly unhandled rejection: "+it(t.value),_e(t.value)?l(t.value,e):l(e))}}function p(a){!c||a.pending||2!==a.status||a.pur||(0===u&&0===i.length&&s(d),i.push(a)),!a.processScheduled&&a.pending&&(a.processScheduled=!0,++u,s(function(){var e,t,n=a,i=n.pending;n.processScheduled=!1,n.pending=void 0;try{for(var o=0,r=i.length;o<r;++o){Ji(n),t=i[o][0],e=i[o][n.status];try{Pe(e)?h(t,e(n.value)):(1===n.status?h:f)(t,n.value)}catch(e){f(t,e),e&&!0===e.$$passToExceptionHandler&&l(e)}}}finally{--u,c&&0===u&&s(d)}}))}function h(e,t){e.$$state.status||(t===e?g(e,n("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):function t(n,e){var i;var o=!1;try{(Se(e)||Pe(e))&&(i=e.then),Pe(i)?(n.$$state.status=-1,i.call(e,r,a,s)):(n.$$state.value=e,n.$$state.status=1,p(n.$$state))}catch(e){a(e)}function r(e){o||(o=!0,t(n,e))}function a(e){o||(o=!0,g(n,e))}function s(e){m(n,e)}}(e,t))}function f(e,t){e.$$state.status||g(e,t)}function g(e,t){e.$$state.value=t,e.$$state.status=2,p(e.$$state)}function m(e,o){var r=e.$$state.pending;e.$$state.status<=0&&r&&r.length&&s(function(){for(var e,t,n=0,i=r.length;n<i;n++){t=r[n][0],e=r[n][3];try{m(t,Pe(e)?e(o):o)}catch(e){l(e)}}})}function a(e){var t=new r;return f(t,e),t}function v(e,t,n){var i=null;try{Pe(n)&&(i=n())}catch(e){return a(e)}return j(i)?i.then(function(){return t(e)},a):t(e)}function b(e,t,n,i){var o=new r;return h(o,e),o.then(t,n,i)}xe(r.prototype,{then:function(e,t,n){if(ke(e)&&ke(t)&&ke(n))return this;var i=new r;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&p(this.$$state),i},catch:function(e){return this.then(null,e)},finally:function(t,e){return this.then(function(e){return v(e,y,t)},function(e){return v(e,a,t)},e)}});var y=b;function t(e){if(!Pe(e))throw n("norslvr","Expected resolverFn, got '{0}'",e);var t=new r;return e(function(e){h(t,e)},function(e){f(t,e)}),t}return t.prototype=r.prototype,t.defer=o,t.reject=a,t.when=b,t.resolve=y,t.all=function(e){var n=new r,i=0,o=Me(e)?[]:{};return $e(e,function(e,t){i++,b(e).then(function(e){o[t]=e,--i||h(n,o)},function(e){f(n,e)})}),0===i&&h(n,o),n},t.race=function(e){var t=o();return $e(e,function(e){b(e).then(t.resolve,t.reject)}),t.promise},t}function Ji(e){e.pur=!0}function eo(e){e.$$state&&Ji(e.$$state)}function to(){this.$get=["$window","$timeout",function(e,n){var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,e=!!i,t=e?function(e){var t=i(e);return function(){o(t)}}:function(e){var t=n(e,16.66,!1);return function(){n.cancel(t)}};return t.supported=e,t}]}function no(){var k=10,S=x("$rootScope"),E=null,M=null;this.digestTtl=function(e){return k=arguments.length?e:k},this.$get=["$exceptionHandler","$parse","$browser",function(h,f,g){function o(e){e.currentScope.$$destroyed=!0}function r(){this.$id=_(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}r.prototype={constructor:r,$new:function(e,t){var n;function i(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=_(),this.$$ChildScope=null,this.$$suspended=!1}return t=t||this,e?(n=new r).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=(i.prototype=this,i)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,!e&&t===this||n.$on("$destroy",o),n},$watch:function(e,t,n,i){var o=f(e),t=Pe(t)?t:T;if(o.$$watchDelegate)return o.$$watchDelegate(this,t,n,o,e);var r=this,a=r.$$watchers,s={fn:t,last:$,get:o,exp:i||e,eq:!!n};return E=null,a||((a=r.$$watchers=[]).$$digestWatchIndex=-1),a.unshift(s),a.$$digestWatchIndex++,l(this,1),function(){var e=Ve(a,s);0<=e&&(l(r,-1),e<a.$$digestWatchIndex&&a.$$digestWatchIndex--),E=null}},$watchGroup:function(t,i){var e,o=new Array(t.length),r=new Array(t.length),n=[],a=this,s=!1,l=!0;return t.length?1===t.length?this.$watch(t[0],function(e,t,n){r[0]=e,o[0]=t,i(r,e===t?r:o,n)}):($e(t,function(e,t){e=a.$watch(e,function(e){r[t]=e,s||(s=!0,a.$evalAsync(c))});n.push(e)}),function(){for(;n.length;)n.shift()()}):(e=!0,a.$evalAsync(function(){e&&i(r,r,a)}),function(){e=!1});function c(){s=!1;try{l?(l=!1,i(r,r,a)):i(r,o,a)}finally{for(var e=0;e<t.length;e++)o[e]=r[e]}}},$watchCollection:function(e,n){t.$$pure=f(e).literal,t.$stateful=!t.$$pure;var a,s,i,o=this,r=1<n.length,l=0,e=f(e,t),c=[],u={},d=!0,p=0;function t(e){var t,n,i,o;if(!ke(a=e)){if(Se(a))if(N(a)){s!==c&&(p=(s=c).length=0,l++),t=a.length,p!==t&&(l++,s.length=p=t);for(var r=0;r<t;r++)o=s[r],i=a[r],o!=o&&i!=i||o===i||(l++,s[r]=i)}else{for(n in s!==u&&(s=u={},p=0,l++),t=0,a)Ce.call(a,n)&&(t++,i=a[n],o=s[n],n in s?o!=o&&i!=i||o===i||(l++,s[n]=i):(p++,s[n]=i,l++));if(t<p)for(n in l++,s)Ce.call(a,n)||(p--,delete s[n])}else s!==a&&(s=a,l++);return l}}return this.$watch(e,function(){if(d?(d=!1,n(a,a,o)):n(a,i,o),r)if(Se(a))if(N(a)){i=new Array(a.length);for(var e=0;e<a.length;e++)i[e]=a[e]}else for(var t in i={},a)Ce.call(a,t)&&(i[t]=a[t]);else i=a})},$digest:function(){var e,t,n,i,o,r,a,s=k,l=v.length?m:this,c=[];w("$digest"),g.$$checkUrlChange(),this===m&&null!==M&&(g.defer.cancel(M),x()),E=null;do{for(var u=!1,d=l,p=0;p<v.length;p++){try{(0,(a=v[p]).fn)(a.scope,a.locals)}catch(e){h(e)}E=null}v.length=0;e:do{if(i=!d.$$suspended&&d.$$watchers)for(i.$$digestWatchIndex=i.length;i.$$digestWatchIndex--;)try{if(e=i[i.$$digestWatchIndex])if((t=(0,e.get)(d))===(n=e.last)||(e.eq?Ae(t,n):P(t)&&P(n))){if(e===E){u=!1;break e}}else u=!0,(E=e).last=e.eq?Z(t,null):t,(0,e.fn)(t,n===$?t:n,d),s<5&&(c[r=4-s]||(c[r]=[]),c[r].push({msg:Pe(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:t,oldVal:n}))}catch(e){h(e)}if(!(o=!d.$$suspended&&d.$$watchersCount&&d.$$childHead||d!==l&&d.$$nextSibling))for(;d!==l&&!(o=d.$$nextSibling);)d=d.$parent}while(d=o);if((u||v.length)&&!s--)throw C(),S("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",k,c)}while(u||v.length);for(C();y<b.length;)try{b[y++]()}catch(e){h(e)}b.length=y=0,g.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e,t=this.$parent;for(e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===m&&g.$$applicationDestroyed(),l(this,-this.$$watchersCount),this.$$listenerCount)a(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=T,this.$on=this.$watch=this.$watchGroup=function(){return T},this.$$listeners={},this.$$nextSibling=null,!function e(t){9===Ie&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return f(e)(this,t)},$evalAsync:function(e,t){m.$$phase||v.length||g.defer(function(){v.length&&m.$digest()},null,"$evalAsync"),v.push({scope:this,fn:f(e),locals:t})},$$postDigest:function(e){b.push(e)},$apply:function(e){try{w("$apply");try{return this.$eval(e)}finally{C()}}catch(e){h(e)}finally{try{m.$digest()}catch(e){throw h(e),e}}},$applyAsync:function(e){var t=this;e&&n.push(function(){t.$eval(e)}),e=f(e),null===M&&(M=g.defer(function(){m.$apply(x)},null,"$applyAsync"))},$on:function(t,n){for(var i=this.$$listeners[t],e=(i||(this.$$listeners[t]=i=[]),i.push(n),this);e.$$listenerCount[t]||(e.$$listenerCount[t]=0),e.$$listenerCount[t]++,e=e.$parent;);var o=this;return function(){var e=i.indexOf(n);-1!==e&&(delete i[e],a(o,1,t))}},$emit:function(e,t){var n,i,o,r=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=J([l],arguments,1);do{for(n=a.$$listeners[e]||r,l.currentScope=a,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,c)}catch(e){h(e)}else n.splice(i,1),i--,o--}while(!s&&(a=a.$parent));return l.currentScope=null,l},$broadcast:function(e,t){var n=this,i=this,o={name:e,targetScope:this,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return o;for(var r,a,s,l=J([o],arguments,1);n=i;){for(a=0,s=(r=(o.currentScope=n).$$listeners[e]||[]).length;a<s;a++)if(r[a])try{r[a].apply(null,l)}catch(e){h(e)}else r.splice(a,1),a--,s--;if(!(i=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return o.currentScope=null,o}};var m=new r,v=m.$$asyncQueue=[],b=m.$$postDigestQueue=[],n=m.$$applyAsyncQueue=[],y=0;return m;function w(e){if(m.$$phase)throw S("inprog","{0} already in progress",m.$$phase);m.$$phase=e}function C(){m.$$phase=null}function l(e,t){for(;e.$$watchersCount+=t,e=e.$parent;);}function a(e,t,n){for(;e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n],e=e.$parent;);}function $(){}function x(){for(;n.length;)try{n.shift()()}catch(e){h(e)}M=null}}]}function io(){var i=/^\s*(https?|s?ftp|mailto|tel|file):/,o=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(e){return D(e)?(i=e,this):i},this.imgSrcSanitizationTrustedUrlList=function(e){return D(e)?(o=e,this):o},this.$get=function(){return function(e,t){var t=t?o:i,n=A(e&&e.trim()).href;return""===n||n.match(t)?e:"unsafe:"+n}}}ji.prototype={compile:function(e){var o=this,t=(this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},l(e,o.$filter),""),n=(this.stage="assign",(n=Bi(e))&&(this.state.computing="assign",i=this.nextId(),this.recurse(n,i),this.return_(i),t="fn.assign="+this.generateFunction("assign","s,v,l")),Ui(e.body)),i=(o.stage="inputs",$e(n,function(e,t){var n="fn"+t,i=(o.state[n]={vars:[],body:[],own:{}},o.state.computing=n,o.nextId());o.recurse(e,i),o.return_(i),o.state.inputs.push({name:n,isPure:e.isPure}),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(e),'"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+t+this.watchFns()+"return fn;"),n=new Function("$filter","getStringValue","ifDefined","plus",i)(this.$filter,Ii,Gi,Fi);return this.state=this.stage=void 0,n},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return $e(e,function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(e){return e.name}).join(",")+"];"),t.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var n=[],i=this;return $e(this.state.filters,function(e,t){n.push(e+"=$filter("+i.escape(t)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(n,t,e,i,o,r){var a,s,l,c,u,d=this;if(i=i||T,!r&&D(n.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",n.watchId)),this.lazyRecurse(n,t,e,i,o,!0));switch(n.type){case p.Program:$e(n.body,function(e,t){d.recurse(e.expression,void 0,void 0,function(e){s=e}),t!==n.body.length-1?d.current().body.push(s,";"):d.return_(s)});break;case p.Literal:c=this.escape(n.value),this.assign(t,c),i(t||c);break;case p.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(e){s=e}),c=n.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),i(c);break;case p.BinaryExpression:this.recurse(n.left,void 0,void 0,function(e){a=e}),this.recurse(n.right,void 0,void 0,function(e){s=e}),c="+"===n.operator?this.plus(a,s):"-"===n.operator?this.ifDefined(a,0)+n.operator+this.ifDefined(s,0):"("+a+")"+n.operator+"("+s+")",this.assign(t,c),i(c);break;case p.LogicalExpression:t=t||this.nextId(),d.recurse(n.left,t),d.if_("&&"===n.operator?t:d.not(t),d.lazyRecurse(n.right,t)),i(t);break;case p.ConditionalExpression:t=t||this.nextId(),d.recurse(n.test,t),d.if_(t,d.lazyRecurse(n.alternate,t),d.lazyRecurse(n.consequent,t)),i(t);break;case p.Identifier:t=t||this.nextId(),e&&(e.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),e.computed=!1,e.name=n.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",n.name)),function(){d.if_("inputs"===d.stage||"s",function(){o&&1!==o&&d.if_(d.isNull(d.nonComputedMember("s",n.name)),d.lazyAssign(d.nonComputedMember("s",n.name),"{}")),d.assign(t,d.nonComputedMember("s",n.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",n.name))),i(t);break;case p.MemberExpression:a=e&&(e.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(n.object,a,void 0,function(){d.if_(d.notNull(a),function(){n.computed?(s=d.nextId(),d.recurse(n.property,s),d.getStringValue(s),o&&1!==o&&d.if_(d.not(d.computedMember(a,s)),d.lazyAssign(d.computedMember(a,s),"{}")),c=d.computedMember(a,s),d.assign(t,c),e&&(e.computed=!0,e.name=s)):(o&&1!==o&&d.if_(d.isNull(d.nonComputedMember(a,n.property.name)),d.lazyAssign(d.nonComputedMember(a,n.property.name),"{}")),c=d.nonComputedMember(a,n.property.name),d.assign(t,c),e&&(e.computed=!1,e.name=n.property.name))},function(){d.assign(t,"undefined")}),i(t)},!!o);break;case p.CallExpression:t=t||this.nextId(),n.filter?(s=d.filter(n.callee.name),l=[],$e(n.arguments,function(e){var t=d.nextId();d.recurse(e,t),l.push(t)}),c=s+"("+l.join(",")+")",d.assign(t,c),i(t)):(s=d.nextId(),a={},l=[],d.recurse(n.callee,s,a,function(){d.if_(d.notNull(s),function(){$e(n.arguments,function(e){d.recurse(e,n.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c=a.name?d.member(a.context,a.name,a.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",d.assign(t,c)},function(){d.assign(t,"undefined")}),i(t)}));break;case p.AssignmentExpression:s=this.nextId(),a={},this.recurse(n.left,void 0,a,function(){d.if_(d.notNull(a.context),function(){d.recurse(n.right,s),c=d.member(a.context,a.name,a.computed)+n.operator+s,d.assign(t,c),i(t||c)})},1);break;case p.ArrayExpression:l=[],$e(n.elements,function(e){d.recurse(e,n.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c="["+l.join(",")+"]",this.assign(t,c),i(t||c);break;case p.ObjectExpression:u=!(l=[]),$e(n.properties,function(e){e.computed&&(u=!0)}),u?(t=t||this.nextId(),this.assign(t,"{}"),$e(n.properties,function(e){e.computed?(a=d.nextId(),d.recurse(e.key,a)):a=e.key.type===p.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,a,e.computed),s)})):($e(n.properties,function(t){d.recurse(t.value,n.constant?void 0:d.nextId(),void 0,function(e){l.push(d.escape(t.key.type===p.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+l.join(",")+"}",this.assign(t,c)),i(t||c);break;case p.ThisExpression:this.assign(t,"s"),i(t||"s");break;case p.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case p.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){var i;!0===e?t():((i=this.current().body).push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}")))},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,o,r){var a=this;return function(){a.recurse(e,t,n,i,o,r)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(Ee(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw Oi("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Wi.prototype={compile:function(e){var i,o,r=this,t=(l(e,r.$filter),(t=Bi(e))&&(i=this.recurse(t)),Ui(e.body)),a=(t&&(o=[],$e(t,function(e,t){var n=r.recurse(e);n.isPure=e.isPure,e.input=n,o.push(n),e.watchId=t})),[]),t=($e(e.body,function(e){a.push(r.recurse(e.expression))}),0===e.body.length?T:1===e.body.length?a[0]:function(t,n){var i;return $e(a,function(e){i=e(t,n)}),i});return i&&(t.assign=function(e,t,n){return i(e,n,t)}),o&&(t.inputs=o),t},recurse:function(e,l,t){var r,c,u,n=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case p.Literal:return this.value(e.value,l);case p.UnaryExpression:return c=this.recurse(e.argument),this["unary"+e.operator](c,l);case p.BinaryExpression:case p.LogicalExpression:return r=this.recurse(e.left),c=this.recurse(e.right),this["binary"+e.operator](r,c,l);case p.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),l);case p.Identifier:return n.identifier(e.name,l,t);case p.MemberExpression:return r=this.recurse(e.object,!1,!!t),e.computed||(c=e.property.name),e.computed&&(c=this.recurse(e.property)),e.computed?this.computedMember(r,c,l,t):this.nonComputedMember(r,c,l,t);case p.CallExpression:return u=[],$e(e.arguments,function(e){u.push(n.recurse(e))}),e.filter&&(c=this.$filter(e.callee.name)),e.filter||(c=this.recurse(e.callee,!0)),e.filter?function(e,t,n,i){for(var o=[],r=0;r<u.length;++r)o.push(u[r](e,t,n,i));var a=c.apply(void 0,o,i);return l?{context:void 0,name:void 0,value:a}:a}:function(e,t,n,i){var o,r=c(e,t,n,i);if(null!=r.value){for(var a=[],s=0;s<u.length;++s)a.push(u[s](e,t,n,i));o=r.value.apply(r.context,a)}return l?{value:o}:o};case p.AssignmentExpression:return r=this.recurse(e.left,!0,1),c=this.recurse(e.right),function(e,t,n,i){var o=r(e,t,n,i),e=c(e,t,n,i);return o.context[o.name]=e,l?{value:e}:e};case p.ArrayExpression:return u=[],$e(e.elements,function(e){u.push(n.recurse(e))}),function(e,t,n,i){for(var o=[],r=0;r<u.length;++r)o.push(u[r](e,t,n,i));return l?{value:o}:o};case p.ObjectExpression:return u=[],$e(e.properties,function(e){e.computed?u.push({key:n.recurse(e.key),computed:!0,value:n.recurse(e.value)}):u.push({key:e.key.type===p.Identifier?e.key.name:""+e.key.value,computed:!1,value:n.recurse(e.value)})}),function(e,t,n,i){for(var o={},r=0;r<u.length;++r)u[r].computed?o[u[r].key(e,t,n,i)]=u[r].value(e,t,n,i):o[u[r].key]=u[r].value(e,t,n,i);return l?{value:o}:o};case p.ThisExpression:return function(e){return l?{value:e}:e};case p.LocalsExpression:return function(e,t){return l?{value:t}:t};case p.NGValueParameter:return function(e,t,n){return l?{value:n}:n}}},"unary+":function(o,r){return function(e,t,n,i){e=D(e=o(e,t,n,i))?+e:0;return r?{value:e}:e}},"unary-":function(o,r){return function(e,t,n,i){e=D(e=o(e,t,n,i))?-e:-0;return r?{value:e}:e}},"unary!":function(o,r){return function(e,t,n,i){e=!o(e,t,n,i);return r?{value:e}:e}},"binary+":function(o,r,a){return function(e,t,n,i){e=Fi(o(e,t,n,i),r(e,t,n,i));return a?{value:e}:e}},"binary-":function(r,a,s){return function(e,t,n,i){var o=r(e,t,n,i),e=a(e,t,n,i),t=(D(o)?o:0)-(D(e)?e:0);return s?{value:t}:t}},"binary*":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)*r(e,t,n,i);return a?{value:e}:e}},"binary/":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)/r(e,t,n,i);return a?{value:e}:e}},"binary%":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)%r(e,t,n,i);return a?{value:e}:e}},"binary===":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)===r(e,t,n,i);return a?{value:e}:e}},"binary!==":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)!==r(e,t,n,i);return a?{value:e}:e}},"binary==":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)==r(e,t,n,i);return a?{value:e}:e}},"binary!=":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)!=r(e,t,n,i);return a?{value:e}:e}},"binary<":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)<r(e,t,n,i);return a?{value:e}:e}},"binary>":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)>r(e,t,n,i);return a?{value:e}:e}},"binary<=":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)<=r(e,t,n,i);return a?{value:e}:e}},"binary>=":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)>=r(e,t,n,i);return a?{value:e}:e}},"binary&&":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)&&r(e,t,n,i);return a?{value:e}:e}},"binary||":function(o,r,a){return function(e,t,n,i){e=o(e,t,n,i)||r(e,t,n,i);return a?{value:e}:e}},"ternary?:":function(o,r,a,s){return function(e,t,n,i){e=(o(e,t,n,i)?r:a)(e,t,n,i);return s?{value:e}:e}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(o,r,a){return function(e,t,n,i){t=t&&o in t?t:e,a&&1!==a&&t&&null==t[o]&&(t[o]={}),e=t?t[o]:void 0;return r?{context:t,name:o,value:e}:e}},computedMember:function(s,l,c,u){return function(e,t,n,i){var o,r,a=s(e,t,n,i);return null!=a&&(o=l(e,t,n,i),o+="",u&&1!==u&&a&&!a[o]&&(a[o]={}),r=a[o]),c?{context:a,name:o,value:r}:r}},nonComputedMember:function(o,r,a,s){return function(e,t,n,i){e=o(e,t,n,i),s&&1!==s&&e&&null==e[r]&&(e[r]={}),t=null!=e?e[r]:void 0;return a?{context:e,name:r,value:t}:t}},inputs:function(o,r){return function(e,t,n,i){return i?i[r]:o(e,t,n)}}},qi.prototype={constructor:qi,parse:function(e){var t,e=this.getAst(e),n=this.astCompiler.compile(e.ast);return n.literal=0===(t=e.ast).body.length||1===t.body.length&&(t.body[0].expression.type===p.Literal||t.body[0].expression.type===p.ArrayExpression||t.body[0].expression.type===p.ObjectExpression),n.constant=e.ast.constant,n.oneTime=e.oneTime,n},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var oo=x("$sce"),c={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ro=/_([a-z])/g;function ao(e){return e.replace(ro,dt)}function so(e){var t=[];return D(e)&&$e(e,function(e){t.push(function(e){if("self"===e)return e;if(Ee(e)){if(-1<e.indexOf("***"))throw oo("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=q(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(H(e))return new RegExp("^"+e.source+"$");throw oo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))}),t}function lo(){this.SCE_CONTEXTS=c;var s=["self"],l=[];this.trustedResourceUrlList=function(e){return s=arguments.length?so(e):s},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(e){this.trustedResourceUrlList=e}}),this.bannedResourceUrlList=function(e){return l=arguments.length?so(e):l},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(e){this.bannedResourceUrlList=e}}),this.$get=["$injector","$$sanitizeUri",function(e,i){var o=function(e){throw oo("unsafe","Attempting to use an unsafe value in a safe context.")};function r(e,t){return"self"===e?$o(t,wo)||$o(t,function(){if(ye.document.baseURI)return ye.document.baseURI;yo||((yo=ye.document.createElement("a")).href=".",yo=yo.cloneNode(!1));return yo.href}()):e.exec(t.href)}function t(e){function t(e){this.$$unwrapTrustedValue=function(){return e}}return(t.prototype=e?new e:t.prototype).valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}e.has("$sanitize")&&(o=e.get("$sanitize"));var n=t(),a={};return a[c.HTML]=t(n),a[c.CSS]=t(n),a[c.MEDIA_URL]=t(n),a[c.URL]=t(a[c.MEDIA_URL]),a[c.JS]=t(n),a[c.RESOURCE_URL]=t(a[c.URL]),{trustAs:function(e,t){var n=a.hasOwnProperty(e)?a[e]:null;if(!n)throw oo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||ke(t)||""===t)return t;if("string"!=typeof t)throw oo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,t){if(null===t||ke(t)||""===t)return t;var n=a.hasOwnProperty(e)?a[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(Pe(t.$$unwrapTrustedValue)&&(t=t.$$unwrapTrustedValue()),e===c.MEDIA_URL||e===c.URL)return i(t.toString(),e===c.MEDIA_URL);if(e===c.RESOURCE_URL){if(function(e){for(var t=A(e.toString()),n=!1,i=0,o=s.length;i<o;i++)if(r(s[i],t)){n=!0;break}if(n)for(i=0,o=l.length;i<o;i++)if(r(l[i],t)){n=!1;break}return n}(t))return t;throw oo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===c.HTML)return o(t);throw oo("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof n?e.$$unwrapTrustedValue():e}}}]}function co(){var t=!0;this.enabled=function(e){return t=arguments.length?!!e:t},this.$get=["$parse","$sceDelegate",function(i,e){if(t&&Ie<8)throw oo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var o=k(c),n=(o.isEnabled=function(){return t},o.trustAs=e.trustAs,o.getTrusted=e.getTrusted,o.valueOf=e.valueOf,t||(o.trustAs=o.getTrusted=function(e,t){return t},o.valueOf=Le),o.parseAs=function(t,e){var n=i(e);return n.literal&&n.constant?n:i(e,function(e){return o.getTrusted(t,e)})},o.parseAs),r=o.getTrusted,a=o.trustAs;return $e(c,function(t,e){e=M(e);o[ao("parse_as_"+e)]=function(e){return n(t,e)},o[ao("get_trusted_"+e)]=function(e){return r(t,e)},o[ao("trust_as_"+e)]=function(e){return a(t,e)}}),o}]}function uo(){this.$get=["$window","$document",function(e,t){var n={},i=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,o=b((/android (\d+)/.exec(M((e.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((e.navigator||{}).userAgent),r=t[0]||{},t=r.body&&r.body.style,a=!1,s=!1;return t&&(a=!!("transition"in t||"webkitTransition"in t),s=!!("animation"in t||"webkitAnimation"in t)),{history:!(!i||o<4||e),hasEvent:function(e){return("input"!==e||!Ie)&&(ke(n[e])&&(t=r.createElement("div"),n[e]="on"+e in t),n[e]);var t},csp:X(),transitions:a,animations:s,android:o}}]}function po(){this.$get=E(function(e){return new ho(e)})}function ho(r){var a={},i=[],s=this.ALL_TASKS_TYPE="$$all$$",l=this.DEFAULT_TASK_TYPE="$$default$$";function c(){var e=i.pop();return e&&e.cb}function u(e){for(var t=i.length-1;0<=t;--t){var n=i[t];if(n.type===e)return i.splice(t,1),n.cb}}this.completeTask=function(e,t){t=t||l;try{e()}finally{!function(e){a[e=e||l]&&(a[e]--,a[s]--)}(t);var e=a[t],n=a[s];if(!n||!e)for(var i,o=n?u:c;i=o(t);)try{i()}catch(e){r.error(e)}}},this.incTaskCount=function(e){a[e=e||l]=(a[e]||0)+1,a[s]=(a[s]||0)+1},this.notifyWhenNoPendingTasks=function(e,t){a[t=t||s]?i.push({type:t,cb:e}):e()}}var fo=x("$templateRequest");function go(){var c;this.httpOptions=function(e){return e?(c=e,this):c},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(i,o,r,a,s){function l(t,n){l.totalPendingRequests++,Ee(t)&&!ke(o.get(t))||(t=s.getTrustedResourceUrl(t));var e=r.defaults&&r.defaults.transformResponse;return Me(e)?e=e.filter(function(e){return e!==ei}):e===ei&&(e=null),r.get(t,xe({cache:o,transformResponse:e},c)).finally(function(){l.totalPendingRequests--}).then(function(e){return o.put(t,e.data)},function(e){n||(e=fo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",t,e.status,e.statusText),i(e));return a.reject(e)})}return l.totalPendingRequests=0,l}]}function mo(){this.$get=["$rootScope","$browser","$location",function(t,n,i){var e={findBindings:function(e,n,i){var e=e.getElementsByClassName("ng-binding"),o=[];return $e(e,function(t){var e=y.element(t).data("$binding");e&&$e(e,function(e){i?new RegExp("(^|\\s)"+q(n)+"(\\s|\\||$)").test(e)&&o.push(t):-1!==e.indexOf(n)&&o.push(t)})}),o},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],o=0;o<i.length;++o){var r=e.querySelectorAll("["+i[o]+"model"+(n?"=":"*=")+'"'+t+'"]');if(r.length)return r}},getLocation:function(){return i.url()},setLocation:function(e){e!==i.url()&&(i.url(e),t.$digest())},whenStable:function(e){n.notifyWhenNoOutstandingRequests(e)}};return e}]}var vo=x("$timeout");function bo(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(s,l,c,u,d){var p={};function e(e,t,n){Pe(e)||(n=t,t=e,e=T);var i=Ue(arguments,3),o=D(n)&&!n,r=(o?u:c).defer(),a=r.promise,n=l.defer(function(){try{r.resolve(e.apply(null,i))}catch(e){r.reject(e),d(e)}finally{delete p[a.$$timeoutId]}o||s.$apply()},t,"$timeout");return a.$$timeoutId=n,p[n]=r,a}return e.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw vo("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!p.hasOwnProperty(e.$$timeoutId))return!1;var e=e.$$timeoutId,t=p[e];return eo(t.promise),t.reject("canceled"),delete p[e],l.defer.cancel(e)},e}]}var yo,t=ye.document.createElement("a"),wo=A(ye.location.href),Co=(t.href="http://[::1]","[::1]"===t.hostname);function A(e){if(!Ee(e))return e;Ie&&(t.setAttribute("href",e),e=t.href),t.setAttribute("href",e),e=t.hostname;return!Co&&-1<e.indexOf(":")&&(e="["+e+"]"),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:e,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}function $o(e,t){return e=A(e),t=A(t),e.protocol===t.protocol&&e.host===t.host}function xo(){this.$get=E(ye)}function ko(e){var a=e[0]||{},s={},l="";function c(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var e,t,n,i,o,r=function(e){try{return e.cookie||""}catch(e){return""}}(a);if(r!==l)for(e=(l=r).split("; "),s={},n=0;n<e.length;n++)0<(i=(t=e[n]).indexOf("="))&&(o=c(t.substring(0,i)),ke(s[o])&&(s[o]=c(t.substring(i+1))));return s}}function So(){this.$get=ko}function Eo(i){function o(e,t){var n;return Se(e)?(n={},$e(e,function(e,t){n[t]=o(t,e)}),n):i.factory(e+"Filter",t)}this.register=o,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],o("currency",Ao),o("date",Uo),o("filter",Mo),o("json",Ho),o("limitTo",Wo),o("lowercase",Bo),o("number",Oo),o("orderBy",Yo),o("uppercase",jo)}function Mo(){return function(e,t,n,i){if(!N(e)){if(null==e)return e;throw x("filter")("notarray","Expected array but received: {0}",e)}var o,r;switch(i=i||"$",To(t)){case"function":o=t;break;case"boolean":case"null":case"number":case"string":r=!0;case"object":o=function(t,n,i,o){var r=Se(t)&&i in t;!0===n?n=Ae:Pe(n)||(n=function(e,t){return!ke(e)&&(null===e||null===t?e===t:!(Se(t)||Se(e)&&!z(e))&&(e=M(""+e),t=M(""+t),-1!==e.indexOf(t)))});return function(e){return r&&!Se(e)?Po(e,t[i],n,i,!1):Po(e,t,n,i,o)}}(t,n,i,r);break;default:return e}return Array.prototype.filter.call(e,o)}}function Po(e,t,n,i,o,r){var a,s=To(e),l=To(t);if("string"===l&&"!"===t.charAt(0))return!Po(e,t.substring(1),n,i,o);if(Me(e))return e.some(function(e){return Po(e,t,n,i,o)});switch(s){case"object":if(o){for(a in e)if(a.charAt&&"$"!==a.charAt(0)&&Po(e[a],t,n,i,!0))return!0;return!r&&Po(e,t,n,i,!1)}if("object"!==l)return n(e,t);for(a in t){var c=t[a];if(!Pe(c)&&!ke(c)){var u=a===i;if(!Po(u?e:e[a],c,n,i,u,u))return!1}}return!0;case"function":return!1;default:return n(e,t)}}function To(e){return null===e?"null":typeof e}ko.$inject=["$document"],Eo.$inject=["$provide"];var Do="0";function Ao(e){var o=e.NUMBER_FORMATS;return function(e,t,n){ke(t)&&(t=o.CURRENCY_SYM),ke(n)&&(n=o.PATTERNS[1].maxFrac);var i=t?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:Ro(e,o.PATTERNS[1],o.GROUP_SEP,o.DECIMAL_SEP,n).replace(i,t)}}function Oo(e){var n=e.NUMBER_FORMATS;return function(e,t){return null==e?e:Ro(e,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,t)}}function Ro(e,t,n,i,o){if(!Ee(e)&&!w(e)||isNaN(e))return"";var r=!isFinite(e),a=!1,s=Math.abs(e)+"",l="";if(r)l="∞";else{var c=r=function(e){var t,n,i,o,r,a=0;for(0<(i=(e=-1<(n=e.indexOf("."))?e.replace(".",""):e).search(/e/i))?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charAt(i)===Do;i++);if(i===(r=e.length))t=[0],n=1;else{for(r--;e.charAt(r)===Do;)r--;for(n-=i,t=[],o=0;i<=r;i++,o++)t[o]=+e.charAt(i)}return 22<n&&(t=t.splice(0,21),a=n-1,n=1),{d:t,e:a,i:n}}(s),u=o,s=t.minFrac,o=t.maxFrac,d=c.d,p=d.length-c.i,h=(u=ke(u)?Math.min(Math.max(s,p),o):+u)+c.i,s=d[h];if(0<h){d.splice(Math.max(c.i,h));for(var f=h;f<d.length;f++)d[f]=0}else{p=Math.max(0,p),c.i=1,d.length=Math.max(1,h=u+1),d[0]=0;for(var g=1;g<h;g++)d[g]=0}if(5<=s)if(h-1<0){for(var m=0;h<m;m--)d.unshift(0),c.i++;d.unshift(1),c.i++}else d[h-1]++;for(;p<Math.max(0,u);p++)d.push(0);(o=d.reduceRight(function(e,t,n,i){return i[n]=(t+=e)%10,Math.floor(t/10)},0))&&(d.unshift(o),c.i++);for(var v=r.d,b=r.i,s=r.e,o=[],a=v.reduce(function(e,t){return e&&!t},!0);b<0;)v.unshift(0),b++;0<b?o=v.splice(b,v.length):(o=v,v=[0]);var y=[];for(v.length>=t.lgSize&&y.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)y.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&y.unshift(v.join("")),l=y.join(n),o.length&&(l+=i+o.join("")),s&&(l+="e+"+s)}return e<0&&!a?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function Io(e,t,n,i){var o="";for((e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o="-")),e=""+e;e.length<t;)e=Do+e;return o+(e=n?e.substr(e.length-t):e)}function e(t,n,i,o,r){return i=i||0,function(e){e=e["get"+t]();return(0<i||-i<e)&&(e+=i),Io(e=0===e&&-12===i?12:e,n,o,r)}}function No(n,i,o){return function(e,t){e=e["get"+n]();return t[S((o?"STANDALONE":"")+(i?"SHORT":"")+n)][e]}}function Lo(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function _o(n){return function(e){var t=Lo(e.getFullYear()),e=(e=e,new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay())));return Io(1+Math.round((+e-+t)/6048e5),n)}}function Go(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}Ao.$inject=["$locale"];var Fo={yyyy:e("FullYear",4,0,!(Oo.$inject=["$locale"]),!0),yy:e("FullYear",2,0,!0,!0),y:e("FullYear",1,0,!1,!0),MMMM:No("Month"),MMM:No("Month",!0),MM:e("Month",2,1),M:e("Month",1,1),LLLL:No("Month",!1,!0),dd:e("Date",2),d:e("Date",1),HH:e("Hours",2),H:e("Hours",1),hh:e("Hours",2,-12),h:e("Hours",1,-12),mm:e("Minutes",2),m:e("Minutes",1),ss:e("Seconds",2),s:e("Seconds",1),sss:e("Milliseconds",3),EEEE:No("Day"),EEE:No("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var i=0<=(n=-1*n)?"+":"";return i+=Io(Math[0<n?"floor":"ceil"](n/60),2)+Io(Math.abs(n%60),2)},ww:_o(2),w:_o(1),G:Go,GG:Go,GGG:Go,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Vo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,zo=/^-?\d+$/;function Uo(g){var m=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,e,n){var i,o,r,a,s,l,c,u,d,p="",h=[];if(e=g.DATETIME_FORMATS[e=e||"mediumDate"]||e,!$(t=w(t=Ee(t)?zo.test(t)?b(t):(d=(r=t).match(m))?(a=new Date(0),u=c=0,l=d[8]?a.setUTCFullYear:a.setFullYear,s=d[8]?a.setUTCHours:a.setHours,d[9]&&(c=b(d[9]+d[10]),u=b(d[9]+d[11])),l.call(a,b(d[1]),b(d[2])-1,b(d[3])),l=b(d[4]||0)-c,c=b(d[5]||0)-u,u=b(d[6]||0),d=Math.round(1e3*parseFloat("0."+(d[7]||0))),s.call(a,l,c,u,d),a):r:t)?new Date(t):t)||!isFinite(t.getTime()))return t;for(;e;)e=(o=Vo.exec(e))?(h=J(h,o,1)).pop():(h.push(e),null);var f=t.getTimezoneOffset();return n&&(f=oe(n,f),t=ae(t,n,!0)),$e(h,function(e){i=Fo[e],p+=i?i(t,g.DATETIME_FORMATS,f):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}}function Ho(){return function(e,t){return te(e,t=ke(t)?2:t)}}Uo.$inject=["$locale"];var Bo=E(M),jo=E(S);function Wo(){return function(e,t,n){return t=(Math.abs(Number(t))===1/0?Number:b)(t),!P(t)&&N(e=w(e)?e.toString():e)?(n=(n=!n||isNaN(n)?0:b(n))<0?Math.max(0,e.length+n):n,0<=t?qo(e,n,n+t):0===n?qo(e,t,e.length):qo(e,Math.max(0,n+t),n)):e}}function qo(e,t,n){return Ee(e)?e.slice(t,n):a.call(e,t,n)}function Yo(o){return function(e,t,n,i){if(null==e)return e;if(!N(e))throw x("orderBy")("notarray","Expected array but received: {0}",e);var r=(t=0===(t=Me(t)?t:[t]).length?["+"]:t).map(function(e){var t,n=1,i=Le;return Pe(e)?i=e:Ee(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=o(e)).constant&&(t=i(),i=function(e){return e[t]})),{get:i,descending:n}}),a=n?-1:1,s=Pe(i)?i:c,t=Array.prototype.map.call(e,function(i,o){return{value:i,tieBreaker:{value:o,type:"number",index:o},predicateValues:r.map(function(e){var e=e.get(i),t=o,n=typeof e;return null===e?n="null":"object"===n&&(e=function(e){if(Pe(e.valueOf)&&l(e=e.valueOf()))return e;if(z(e)&&l(e=e.toString()))return e;return e}(e)),{value:e,type:n,index:t}})}});return t.sort(function(e,t){for(var n=0,i=r.length;n<i;n++){var o=s(e.predicateValues[n],t.predicateValues[n]);if(o)return o*r[n].descending*a}return(s(e.tieBreaker,t.tieBreaker)||c(e.tieBreaker,t.tieBreaker))*a}),e=t.map(function(e){return e.value})};function l(e){switch(typeof e){case"number":case"boolean":case"string":return 1;default:return}}function c(e,t){var n,i,o=0,r=e.type,a=t.type;return r===a?(n=e.value,i=t.value,"string"===r?(n=n.toLowerCase(),i=i.toLowerCase()):"object"===r&&(Se(n)&&(n=e.index),Se(i)&&(i=t.index)),n!==i&&(o=n<i?-1:1)):o="undefined"!==r&&("undefined"===a||"null"!==r&&("null"===a||r<a))?-1:1,o}}function Ko(e){return(e=Pe(e)?{link:e}:e).restrict=e.restrict||"AC",E(e)}Yo.$inject=["$parse"];var Zo=E({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){var n;"a"===t[0].nodeName.toLowerCase()&&(n="[object SVGAnimatedString]"===v.call(t.prop("href"))?"xlink:href":"href",t.on("click",function(e){t.attr(n)||e.preventDefault()}))}}}),Xo={},Qo=($e(Bt,function(e,i){var o,t;function r(e,t,n){e.$watch(n[o],function(e){n.$set(i,!!e)})}"multiple"!==e&&(o=Nn("ng-"+i),t="checked"===e?function(e,t,n){n.ngModel!==n[o]&&r(e,0,n)}:r,Xo[o]=function(){return{restrict:"A",priority:100,link:t}})}),$e(Wt,function(e,o){Xo[o]=function(){return{priority:100,link:function(e,t,n){if("ngPattern"===o&&"/"===n.ngPattern.charAt(0)){var i=n.ngPattern.match(h);if(i)return void n.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(n[o],function(e){n.$set(o,e)})}}}}),$e(["src","srcset","href"],function(a){var s=Nn("ng-"+a);Xo[s]=["$sce",function(r){return{priority:99,link:function(e,t,n){var i=a,o=a;"href"===a&&"[object SVGAnimatedString]"===v.call(t.prop("href"))&&(o="xlinkHref",n.$attr[o]="xlink:href",i=null),n.$set(s,r.getTrustedMediaUrl(n[s])),n.$observe(s,function(e){e?(n.$set(o,e),Ie&&i&&t.prop(i,n[o])):"href"===a&&n.$set(o,null)})}}}]}),{$addControl:T,$getControls:E([]),$$renameControl:function(e,t){e.$name=t},$removeControl:T,$setValidity:T,$setDirty:T,$setPristine:T,$setSubmitted:T,$$setSubmitted:T}),Jo="ng-pending",er="ng-submitted";function tr(e,t,n,i,o){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=o(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Qo,this.$$element=e,this.$$animate=i,rr(this)}tr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],tr.prototype={$rollbackViewValue:function(){$e(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){$e(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){Ke(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return k(this.$$controls)},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],(this[t]=e).$name=t},$removeControl:function(n){n.$name&&this[n.$name]===n&&delete this[n.$name],$e(this.$pending,function(e,t){this.$setValidity(t,null,n)},this),$e(this.$error,function(e,t){this.$setValidity(t,null,n)},this),$e(this.$$success,function(e,t){this.$setValidity(t,null,n)},this),Ve(this.$$controls,n),n.$$parentForm=Qo},$setDirty:function(){this.$$animate.removeClass(this.$$element,Jr),this.$$animate.addClass(this.$$element,ea),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Jr,ea+" "+er),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,$e(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){$e(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Qo;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,er),this.$submitted=!0,$e(this.$$controls,function(e){e.$$setSubmitted&&e.$$setSubmitted()})}},ar({clazz:tr,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(Ve(i,n),0===i.length&&delete e[t])}});function nr(n){return["$timeout","$parse",function(l,t){return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:tr,compile:function(e,t){e.addClass(Jr).addClass(Xr);var s=t.name?"name":!(!n||!t.ngForm)&&"ngForm";return{pre:function(t,e,n,i){var o,r=i[0];"action"in n||(e[0].addEventListener("submit",o=function(e){t.$apply(function(){r.$commitViewValue(),r.$setSubmitted()}),e.preventDefault()}),e.on("$destroy",function(){l(function(){e[0].removeEventListener("submit",o)},0,!1)}));(i[1]||r.$$parentForm).$addControl(r);var a=s?c(r.$name):T;s&&(a(t,r),n.$observe(s,function(e){r.$name!==e&&(a(t,void 0),r.$$parentForm.$$renameControl(r,e),(a=c(r.$name))(t,r))})),e.on("$destroy",function(){r.$$parentForm.$removeControl(r),a(t,void 0),xe(r,Qo)})}}}};function c(e){return""===e?t('this[""]').assign:t(e).assign||T}}]}var ir=nr(),or=nr(!0);function rr(e){e.$$classCache={},e.$$classCache[Qr]=!(e.$$classCache[Xr]=e.$$element.hasClass(Xr))}function ar(e){var t=e.clazz,s=e.set,l=e.unset;function c(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function u(e,t,n){t=t?"-"+je(t,"-"):"",c(e,Xr+t,!0===n),c(e,Qr+t,!1===n)}t.prototype.$setValidity=function(e,t,n){var i,o,r,a;ke(t)?(i=e,o=n,(r=this)[a="$pending"]||(r[a]={}),s(r[a],i,o)):(r=e,a=n,(i=this)[o="$pending"]&&l(i[o],r,a),sr(i[o])&&(i[o]=void 0)),Fe(t)?t?(l(this.$error,e,n),s(this.$$success,e,n)):(s(this.$error,e,n),l(this.$$success,e,n)):(l(this.$error,e,n),l(this.$$success,e,n)),this.$pending?(c(this,Jo,!0),this.$valid=this.$invalid=void 0,u(this,"",null)):(c(this,Jo,!1),this.$valid=sr(this.$error),this.$invalid=!this.$valid,u(this,"",this.$valid)),u(this,e,t=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,t,this)}}function sr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var lr=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,cr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ur=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,dr=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,o=/^(\d{4,})-(\d{2})-(\d{2})$/,pr=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,hr=/^(\d{4,})-W(\d\d)$/,fr=/^(\d{4,})-(\d\d)$/,gr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,mr="keydown wheel mousedown",vr=Oe(),br=($e("date,datetime-local,month,time,week".split(","),function(e){vr[e]=!0}),{text:function(e,t,n,i,o,r){wr(0,t,n,i,o,r),yr(i)},date:$r("date",o,Cr(o,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":$r("datetimelocal",pr,Cr(pr,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:$r("time",gr,Cr(gr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:$r("week",hr,function(e,t){if($(e))return e;if(Ee(e)){hr.lastIndex=0;var n,i,o,r,a,s,e=hr.exec(e);if(e)return n=+e[1],e=+e[2],a=r=o=i=0,s=Lo(n),e=7*(e-1),t&&(i=t.getHours(),o=t.getMinutes(),r=t.getSeconds(),a=t.getMilliseconds()),new Date(n,0,s.getDate()+e,i,o,r,a)}return NaN},"yyyy-Www"),month:$r("month",fr,Cr(fr,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,i,o,r,a,s){var l;{var c;xr(0,t,0,i,"number"),kr(i),wr(0,t,n,i,o,r),(D(n.min)||n.ngMin)&&(c=n.min||s(n.ngMin)(e),l=f(c),i.$validators.min=function(e,t){return i.$isEmpty(t)||ke(l)||l<=t},n.$observe("min",function(e){e!==c&&(l=f(e),c=e,i.$validate())}))}{var u,d;(D(n.max)||n.ngMax)&&(u=n.max||s(n.ngMax)(e),d=f(u),i.$validators.max=function(e,t){return i.$isEmpty(t)||ke(d)||t<=d},n.$observe("max",function(e){e!==u&&(d=f(e),u=e,i.$validate())}))}{var p,h;(D(n.step)||n.ngStep)&&(p=n.step||s(n.ngStep)(e),h=f(p),i.$validators.step=function(e,t){return i.$isEmpty(t)||ke(h)||Mr(t,l||0,h)},n.$observe("step",function(e){e!==p&&(h=f(e),p=e,i.$validate())}))}},url:function(e,t,n,i,o,r){wr(0,t,n,i,o,r),yr(i),i.$validators.url=function(e,t){e=e||t;return i.$isEmpty(e)||cr.test(e)}},email:function(e,t,n,i,o,r){wr(0,t,n,i,o,r),yr(i),i.$validators.email=function(e,t){e=e||t;return i.$isEmpty(e)||ur.test(e)}},radio:function(e,n,i,o){var r=!i.ngTrim||"false"!==Te(i.ngTrim);ke(i.name)&&n.attr("name",_());n.on("change",function(e){var t;n[0].checked&&(t=i.value,r&&(t=Te(t)),o.$setViewValue(t,e&&e.type))}),o.$render=function(){var e=i.value;r&&(e=Te(e)),n[0].checked=e===o.$viewValue},i.$observe("value",o.$render)},range:function(e,i,o,n,t,r){xr(0,i,0,n,"range"),kr(n),wr(0,i,o,n,t,r);var a=n.$$hasNativeValidators&&"range"===i[0].type,s=a?0:void 0,l=a?100:void 0,c=a?1:void 0,u=i[0].validity,e=D(o.min),t=D(o.max),r=D(o.step),d=n.$render;n.$render=a&&D(u.rangeUnderflow)&&D(u.rangeOverflow)?function(){d(),n.$setViewValue(i.val())}:d,e&&(s=f(o.min),n.$validators.min=a?function(){return!0}:function(e,t){return n.$isEmpty(t)||ke(s)||s<=t},p("min",function(e){s=f(e),P(n.$modelValue)||(a?((e=i.val())<s&&(e=s,i.val(e)),n.$setViewValue(e)):n.$validate())}));t&&(l=f(o.max),n.$validators.max=a?function(){return!0}:function(e,t){return n.$isEmpty(t)||ke(l)||t<=l},p("max",function(e){l=f(e),P(n.$modelValue)||(a?(e=i.val(),l<e&&(i.val(l),e=l<s?s:l),n.$setViewValue(e)):n.$validate())}));r&&(c=f(o.step),n.$validators.step=a?function(){return!u.stepMismatch}:function(e,t){return n.$isEmpty(t)||ke(c)||Mr(t,s||0,c)},p("step",function(e){c=f(e),P(n.$modelValue)||(a?n.$viewValue!==i.val()&&n.$setViewValue(i.val()):n.$validate())}));function p(e,t){i.attr(e,o[e]);var n=o[e];o.$observe(e,function(e){e!==n&&t(n=e)})}},checkbox:function(e,t,n,i,o,r,a,s){var l=Pr(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Pr(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return Ae(e,l)}),i.$parsers.push(function(e){return e?l:c})},hidden:T,button:T,submit:T,reset:T,file:T});function yr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function wr(e,n,i,o,t,r){var a,s,l,c=M(n[0].type),u=(t.android||(a=!1,n.on("compositionstart",function(){a=!0}),n.on("compositionupdate",function(e){!ke(e.data)&&""!==e.data||(a=!1)}),n.on("compositionend",function(){a=!1,u()})),function(e){var t;s&&(r.defer.cancel(s),s=null),a||(t=n.val(),e=e&&e.type,"password"===c||i.ngTrim&&"false"===i.ngTrim||(t=Te(t)),(o.$viewValue!==t||""===t&&o.$$hasNativeValidators)&&o.$setViewValue(t,e))});t.hasEvent("input")?n.on("input",u):(l=function(e,t,n){s=s||r.defer(function(){s=null,t&&t.value===n||u(e)})},n.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||l(e,this,this.value)}),t.hasEvent("paste")&&n.on("paste cut drop",l)),n.on("change",u),vr[c]&&o.$$hasNativeValidators&&c===i.type&&n.on(mr,function(e){var t,n,i;s||(t=this[g],n=t.badInput,i=t.typeMismatch,s=r.defer(function(){s=null,t.badInput===n&&t.typeMismatch===i||u(e)}))}),o.$render=function(){var e=o.$isEmpty(o.$viewValue)?"":o.$viewValue;n.val()!==e&&n.val(e)}}function Cr(i,o){return function(e,t){var n;if($(e))return e;if(Ee(e)){if('"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substring(1,e.length-1)),lr.test(e))return new Date(e);if(i.lastIndex=0,e=i.exec(e))return e.shift(),n=t?{yyyy:t.getFullYear(),MM:t.getMonth()+1,dd:t.getDate(),HH:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds(),sss:t.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},$e(e,function(e,t){t<o.length&&(n[o[t]]=+e)}),t=new Date(n.yyyy,n.MM-1,n.dd,n.HH,n.mm,n.ss||0,1e3*n.sss||0),n.yyyy<100&&t.setFullYear(n.yyyy),t}return NaN}}function $r(b,y,w,C){return function(e,t,n,i,o,r,a,s){xr(0,t,0,i,b),wr(0,t,n,i,o,r);var l,c,u,d,p,h,f="time"===b||"datetimelocal"===b;function g(e){return e&&(!e.getTime||e.getTime()===e.getTime())}function m(e){return D(e)&&!$(e)?v(e)||void 0:e}function v(e,t){var n=i.$options.getOption("timezone"),e=(c&&c!==n&&(t=re(t,oe(c))),w(e,t));return e=!isNaN(e)&&n?ae(e,n):e}i.$parsers.push(function(e){return i.$isEmpty(e)?null:y.test(e)?v(e,l):void(i.$$parserName=b)}),i.$formatters.push(function(e){if(e&&!$(e))throw ra("datefmt","Expected `{0}` to be a date",e);var t,n;return g(e)?(l=e,(t=i.$options.getOption("timezone"))&&(l=ae(l,c=t,!0)),e=e,t=t,n=C,f&&Ee(i.$options.getOption("timeSecondsFormat"))&&(n=C.replace("ss.sss",i.$options.getOption("timeSecondsFormat")).replace(/:$/,"")),e=a("date")(e,n,t),e=f&&i.$options.getOption("timeStripZeroSeconds")?e.replace(/(?::00)?(?:\.000)?$/,""):e):(c=l=null,"")}),(D(n.min)||n.ngMin)&&(u=n.min||s(n.ngMin)(e),d=m(u),i.$validators.min=function(e){return!g(e)||ke(d)||w(e)>=d},n.$observe("min",function(e){e!==u&&(d=m(e),u=e,i.$validate())})),(D(n.max)||n.ngMax)&&(p=n.max||s(n.ngMax)(e),h=m(p),i.$validators.max=function(e){return!g(e)||ke(h)||w(e)<=h},n.$observe("max",function(e){e!==p&&(h=m(e),p=e,i.$validate())}))}}function xr(e,n,t,i,o){var r=n[0];(i.$$hasNativeValidators=Se(r.validity))&&i.$parsers.push(function(e){var t=n.prop(g)||{};if(!t.badInput&&!t.typeMismatch)return e;i.$$parserName=o})}function kr(t){t.$parsers.push(function(e){return t.$isEmpty(e)?null:dr.test(e)?parseFloat(e):void(t.$$parserName="number")}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!w(e))throw ra("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function f(e){return D(e)&&!w(e)&&(e=parseFloat(e)),P(e)?void 0:e}function Sr(e){return(0|e)===e}function Er(e){var t=e.toString(),n=t.indexOf(".");if(-1!==n)return t.length-n-1;if(-1<e&&e<1){n=/e-(\d+)$/.exec(t);if(n)return Number(n[1])}return 0}function Mr(e,t,n){var i,o,r,e=Number(e),a=!Sr(e),s=!Sr(t),l=!Sr(n);return(a||s||l)&&(o=a?Er(e):0,r=s?Er(t):0,i=l?Er(n):0,o=Math.max(o,r,i),e*=r=Math.pow(10,o),t*=r,n*=r,a&&(e=Math.round(e)),s&&(t=Math.round(t)),l&&(n=Math.round(n))),(e-t)%n==0}function Pr(e,t,n,i,o){if(D(i)){if((e=e(i)).constant)return e(t);throw ra("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i)}return o}function Tr(){var o={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(e,t){if("hidden"===M(t.type))return{pre:function(e,t,n,i){t=t[0];t.parentNode&&t.parentNode.insertBefore(t,t.nextSibling),Object.defineProperty&&Object.defineProperty(t,"value",o)}}}}}function Dr(){function i(e,t,n){var i=D(n)?n:9===Ie?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,t){return Or.test(t.ngValue)?function(e,t,n){i(t,n,e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){i(t,n,e)})}}}}var Ar=["$browser","$sniffer","$filter","$parse",function(o,r,a,s){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,t,n,i){i[0]&&(br[M(n.type)]||br.text)(e,t,n,i[0],r,o,a,s)}}}}],Or=/^(true|false|\d+)$/,Rr=["$compile",function(i){return{restrict:"AC",compile:function(e){return i.$$addBindingClass(e),function(e,t,n){i.$$addBindingInfo(t,n.ngBind),t=t[0],e.$watch(n.ngBind,function(e){t.textContent=Xe(e)})}}}}],Ir=["$interpolate","$compile",function(o,r){return{compile:function(e){return r.$$addBindingClass(e),function(e,t,n){var i=o(t.attr(n.$attr.ngBindTemplate));r.$$addBindingInfo(t,i.expressions),t=t[0],n.$observe("ngBindTemplate",function(e){t.textContent=ke(e)?"":e})}}}}],Nr=["$sce","$parse","$compile",function(r,n,a){return{restrict:"A",compile:function(e,t){var i=n(t.ngBindHtml),o=n(t.ngBindHtml,function(e){return r.valueOf(e)});return a.$$addBindingClass(e),function(t,n,e){a.$$addBindingInfo(n,e.ngBindHtml),t.$watch(o,function(){var e=i(t);n.html(r.getTrustedHtml(e)||"")})}}}}],Lr=E({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}});function _r(l,c){var u;return l="ngClass"+l,["$parse",function(s){return{restrict:"AC",link:function(e,t,i){var n,o=t.data("$classCounts"),r=!0;function a(e,t){var n=[];return $e(e,function(e){(0<t||o[e])&&(o[e]=(o[e]||0)+t,o[e]===+(0<t)&&n.push(e))}),n.join(" ")}o||(o=Oe(),t.data("$classCounts",o)),"ngClass"!==l&&(u=u||s("$index",function(e){return 1&e}),e.$watch(u,function(e){(e===c?function(e){e=a(p(e),1),i.$addClass(e)}:function(e){e=a(p(e),-1),i.$removeClass(e)})(n);r=e})),e.$watch(s(i[l],h),function(e){r===c&&!function(e,t){var e=p(e),t=p(t),n=d(e,t),t=d(t,e),e=a(n,-1),n=a(t,1);i.$addClass(n),i.$removeClass(e)}(n,e);n=e})}}}];function d(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var i=0;i<e.length;i++){for(var o=e[i],r=0;r<t.length;r++)if(o===t[r])continue e;n.push(o)}return n}function p(e){return e&&e.split(" ")}function h(t){if(!t)return t;var e=t;return Me(t)?e=t.map(h).join(" "):Se(t)?e=Object.keys(t).filter(function(e){return t[e]}).join(" "):Ee(t)||(e=t+""),e}}var Gr=_r("",!0),Fr=_r("Odd",0),Vr=_r("Even",1),zr=Ko({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Ur=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Hr={},Br={blur:!0,focus:!0};function jr(n,o,r,a,s,l){return{restrict:"A",compile:function(e,t){var i=n(t[a]);return function(n,e){e.on(s,function(e){function t(){i(n,{$event:e})}if(o.$$phase)if(l)n.$evalAsync(t);else try{t()}catch(e){r(e)}else n.$apply(t)})}}}}$e("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(i){var o=Nn("ng-"+i);Hr[o]=["$parse","$rootScope","$exceptionHandler",function(e,t,n){return jr(e,t,n,o,i,Br[i])}]});function Wr(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var o=n.ngList||", ",r="false"!==n.ngTrim,a=r?Te(o):o;i.$parsers.push(function(e){var t;if(!ke(e))return t=[],e&&$e(e.split(a),function(e){e&&t.push(r?Te(e):e)}),t}),i.$formatters.push(function(e){if(Me(e))return e.join(o)}),i.$isEmpty=function(e){return!e||!e.length}}}}var qr=["$animate","$compile",function(l,c){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(e,n,i,t,o){var r,a,s;e.$watch(i.ngIf,function(e){e?a||o(function(e,t){a=t,e[e.length++]=c.$$createComment("end ngIf",i.ngIf),r={clone:e},l.enter(e,n.parent(),n)}):(s&&(s.remove(),s=null),a&&(a.$destroy(),a=null),r&&(s=Ze(r.clone),l.leave(s).done(function(e){!1!==e&&(s=null)}),r=null))})}}}],Yr=["$templateRequest","$anchorScroll","$animate",function(g,m,v){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:y.noop,compile:function(e,t){var n=t.ngInclude||t.src,h=t.onload||"",f=t.autoscroll;return function(r,a,e,s,l){function c(){t&&(t.remove(),t=null),u&&(u.$destroy(),u=null),d&&(v.leave(d).done(function(e){!1!==e&&(t=null)}),t=d,d=null)}var u,t,d,p=0;r.$watch(n,function(n){function i(e){!1===e||!D(f)||f&&!r.$eval(f)||m()}var o=++p;n?(g(n,!0).then(function(e){var t;r.$$destroyed||o===p&&(t=r.$new(),s.template=e,e=l(t,function(e){c(),v.enter(e,null,a).done(i)}),d=e,(u=t).$emit("$includeContentLoaded",n),r.$eval(h))},function(){r.$$destroyed||o===p&&(c(),r.$emit("$includeContentError",n))}),r.$emit("$includeContentRequested",n)):(c(),s.template=null)})}}}}],Kr=["$compile",function(o){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(e,t,n,i){if(v.call(t[0]).match(/SVG/))return t.empty(),void o(kt(i.template,ye.document).childNodes)(e,function(e){t.append(e)},{futureParentElement:t});t.html(i.template),o(t.contents())(e)}}}],Zr=Ko({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Xr="ng-valid",Qr="ng-invalid",Jr="ng-pristine",ea="ng-dirty",ta="ng-untouched",na="ng-touched",ia="ng-empty",oa="ng-not-empty",ra=x("ngModel");function aa(e,t,n,i,o,r,a,s,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Qo,this.$options=da,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=o(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=i,this.$$animate=r,this.$$timeout=a,this.$$parse=o,this.$$q=s,this.$$exceptionHandler=t,rr(this),(c=this).$$scope.$watch(function(e){e=c.$$ngModelGet(e);return e===c.$modelValue||c.$modelValue!=c.$modelValue&&e!=e||c.$$setModelValue(e),e})}aa.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],aa.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),i=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var t=this.$$parsedNgModel(e);return t=Pe(t)?n(e):t},this.$$ngModelSet=function(e,t){Pe(this.$$parsedNgModel(e))?i(e,{$$$p:t}):this.$$parsedNgModelAssign(e,t)}}else if(!this.$$parsedNgModel.assign)throw ra("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Be(this.$$element))},$render:T,$isEmpty:function(e){return ke(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,oa),this.$$animate.addClass(this.$$element,ia)):(this.$$animate.removeClass(this.$$element,ia),this.$$animate.addClass(this.$$element,oa))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,ea),this.$$animate.addClass(this.$$element,Jr)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Jr),this.$$animate.addClass(this.$$element,ea),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,ta,na)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,na,ta)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){var e,t,n,i,o,r;P(this.$modelValue)||(e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,o=this.$options.getOption("allowInvalid"),(r=this).$$runValidators(t,e,function(e){o||n===e||(r.$modelValue=e?t:void 0,r.$modelValue!==i&&r.$$writeModelToScope())}))},$$runValidators:function(n,i,t){this.$$currentValidationRunId++;var o,r,a,s=this.$$currentValidationRunId,l=this;function c(e,t){s===l.$$currentValidationRunId&&l.$setValidity(e,t)}function e(e){s===l.$$currentValidationRunId&&t(e)}!function(){var e=l.$$parserName;{if(!ke(l.$$parserValid))return l.$$parserValid||($e(l.$validators,function(e,t){c(t,null)}),$e(l.$asyncValidators,function(e,t){c(t,null)})),c(e,l.$$parserValid),l.$$parserValid;c(e,null)}return 1}()?e(!1):(o=!0,$e(l.$validators,function(e,t){e=Boolean(e(n,i));o=o&&e,c(t,e)}),!o&&($e(l.$asyncValidators,function(e,t){c(t,null)}),1)?e(!1):(r=[],a=!0,$e(l.$asyncValidators,function(e,t){e=e(n,i);if(!j(e))throw ra("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",e);c(t,void 0),r.push(e.then(function(){c(t,!0)},function(){c(t,a=!1)}))}),r.length?l.$$q.all(r).then(function(){e(a)},T):e(!0)))},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,n=this;if(this.$$parserValid=!ke(t)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var e=0;e<this.$parsers.length;e++)if(ke(t=this.$parsers[e](t))){this.$$parserValid=!1;break}P(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,o=this.$options.getOption("allowInvalid");function r(){n.$modelValue!==i&&n.$$writeModelToScope()}this.$$rawModelValue=t,o&&(this.$modelValue=t,r()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(e){o||(n.$modelValue=e?t:void 0,r())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),$e(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce"),n=(w(t[e])?t=t[e]:w(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:w(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce),this);0<t?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,T))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},ar({clazz:aa,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var sa=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:aa,priority:1,compile:function(e){return e.addClass(Jr).addClass(ta).addClass(Xr),{pre:function(e,t,n,i){var o=i[0],r=i[1]||o.$$parentForm,i=i[2];i&&(o.$options=i.$options),o.$$initGetterSetters(),r.$addControl(o),n.$observe("name",function(e){o.$name!==e&&o.$$parentForm.$$renameControl(o,e)}),e.$on("$destroy",function(){o.$$parentForm.$removeControl(o)})},post:function(e,t,n,i){var o=i[0];function r(){o.$setTouched()}o.$$setUpdateOnEvents(),t.on("blur",function(){o.$touched||(a.$$phase?e.$evalAsync(r):e.$apply(r))})}}}}}],la=/(\s+|^)default(\s+|$)/;function ca(e){this.$$options=e}ca.prototype={getOption:function(e){return this.$$options[e]},createChild:function(n){var i=!1;return $e(n=xe({},n),function(e,t){"$inherit"===e?"*"===t?i=!0:(n[t]=this.$$options[t],"updateOn"===t&&(n.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===t&&(n.updateOnDefault=!1,n[t]=Te(e.replace(la,function(){return n.updateOnDefault=!0," "})))},this),i&&(delete n["*"],pa(n,this.$$options)),pa(n,da.$$options),new ca(n)}};function ua(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:da,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}}var da=new ca({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});function pa(n,e){$e(e,function(e,t){D(n[t])||(n[t]=e)})}var ha=Ko({terminal:!0,priority:1e3}),fa=x("ngOptions"),ga=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ma=["$compile","$document","$parse",function(g,m,a){function v(e,t,c){var s=e.match(ga);if(!s)throw fa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Be(t));function u(e,t){return h(e,b(e,t))}var n=s[5]||s[7],i=s[6],e=/ as /.test(s[0])&&s[1],d=s[9],t=a(s[2]?s[1]:n),p=e&&a(e)||t,o=d&&a(d),h=d?function(e,t){return o(c,t)}:function(e){return Jt(e)},f=a(s[2]||s[1]),g=a(s[3]||""),m=a(s[4]||""),v=a(s[8]),r={},b=i?function(e,t){return r[i]=t,r[n]=e,r}:function(e){return r[n]=e,r};function y(e,t,n,i,o){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=o}function w(e){var t;if(!i&&N(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:d,getTrackByValue:u,getWatchables:a(v,function(e){for(var t=[],n=w(e=e||[]),i=n.length,o=0;o<i;o++){var r=e===n?o:n[o],a=e[r],r=b(a,r),a=h(a,r);t.push(a),(s[2]||s[1])&&(a=f(c,r),t.push(a)),s[4]&&(a=m(c,r),t.push(a))}return t}),getOptions:function(){for(var e=[],t={},n=v(c)||[],i=w(n),o=i.length,r=0;r<o;r++){var a=n===i?r:i[r],s=n[a],s=b(s,a),a=p(c,s),l=h(a,s),a=new y(l,a,f(c,s),g(c,s),m(c,s));e.push(a),t[l]=a}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[u(e)]},getViewValueFromOption:function(e){return d?Z(e.viewValue):e.viewValue}}}}}var b=ye.document.createElement("option"),y=ye.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=T},post:function(e,r,t,n){for(var a=n[0],s=n[1],l=t.multiple,i=0,o=r.children(),c=o.length;i<c;i++)if(""===o[i].value){a.hasEmptyOption=!0,a.emptyOption=o.eq(i);break}r.empty();var u,n=!!a.emptyOption,d=(we(b.cloneNode(!1)).val("?"),v(t.ngOptions,r,e)),p=m[0].createDocumentFragment();function h(e,t){var n=b.cloneNode(!1),t=(t.appendChild(n),e),e=n;(t.element=e).disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function f(e){var e=u.getOptionFromViewValue(e),t=e&&e.element;return t&&!t.selected&&(t.selected=!0),e}a.generateUnknownOptionValue=function(e){return"?"},l?(a.writeValue=function(e){var t;u&&(t=e&&e.map(f)||[],u.items.forEach(function(e){e.element.selected&&!K(t,e)&&(e.element.selected=!1)}))},a.readValue=function(){var e=r.val()||[],t=[];return $e(e,function(e){e=u.selectValueMap[e];e&&!e.disabled&&t.push(u.getViewValueFromOption(e))}),t},d.trackBy&&e.$watchCollection(function(){if(Me(s.$viewValue))return s.$viewValue.map(function(e){return d.getTrackByValue(e)})},function(){s.$render()})):(a.writeValue=function(e){var t,n;u&&(t=r[0].options[r[0].selectedIndex],n=u.getOptionFromViewValue(e),t&&t.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(a.removeUnknownOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):a.selectUnknownOrEmptyOption(e))},a.readValue=function(){var e=u.selectValueMap[r.val()];return e&&!e.disabled?(a.unselectEmptyOption(),a.removeUnknownOption(),u.getViewValueFromOption(e)):null},d.trackBy&&e.$watch(function(){return d.getTrackByValue(s.$viewValue)},function(){s.$render()})),n&&(g(a.emptyOption)(e),r.prepend(a.emptyOption),a.emptyOption[0].nodeType===et?(a.hasEmptyOption=!1,a.registerOption=function(e,t){""===t.val()&&(a.hasEmptyOption=!0,a.emptyOption=t,a.emptyOption.removeClass("ng-scope"),s.$render(),t.on("$destroy",function(){var e=a.$isEmptyOptionSelected();a.hasEmptyOption=!1,a.emptyOption=void 0,e&&s.$render()}))}):a.emptyOption.removeClass("ng-scope")),e.$watchCollection(d.getWatchables,function(){var e=u&&a.readValue();if(u)for(var t=u.items.length-1;0<=t;t--){var n=u.items[t];D(n.group)?zt(n.element.parentNode):zt(n.element)}u=d.getOptions();var i={};{var o;u.items.forEach(function(e){var t;D(e.group)?((t=i[e.group])||(t=y.cloneNode(!1),p.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),h(e,t)):h(e,p)}),r[0].appendChild(p),s.$render(),s.$isEmpty(e)||(o=a.readValue(),(d.trackBy||l?Ae(e,o):e===o)||(s.$setViewValue(o),s.$render()))}})}}}}],va=["$locale","$interpolate","$log",function(f,g,m){var v=/{}/g,b=/^when(Minus)?(.+)$/;return{link:function(i,o,r){var a,e=r.count,s=r.$attr.when&&o.attr(r.$attr.when),l=r.offset||0,c=i.$eval(s)||{},u={},t=g.startSymbol(),n=g.endSymbol(),d=t+e+"-"+l+n,p=y.noop;function h(e){o.text(e||"")}$e(r,function(e,t){var n=b.exec(t);n&&(n=(n[1]?"-":"")+M(n[2]),c[n]=o.attr(r.$attr[t]))}),$e(c,function(e,t){u[t]=g(e.replace(v,d))}),i.$watch(e,function(e){var t=parseFloat(e),n=P(t);(t=n||t in c?t:f.pluralCat(t-l))===a||n&&P(a)||(p(),ke(n=u[t])?(null!=e&&m.debug("ngPluralize: no rule defined for '"+t+"' in "+s),p=T,h()):p=i.$watch(n,h),a=t)})}}}],ba=x("ngRef"),ya=["$parse",function(t){return{priority:-1,restrict:"A",compile:function(e,o){var r=Nn(De(e)),a=t(o.ngRef),s=a.assign||function(){throw ba("nonassign",'Expression in ngRef="{0}" is non-assignable!',o.ngRef)};return function(e,t,n){var i;if(n.hasOwnProperty("ngRefRead")){if("$element"===n.ngRefRead)i=t;else if(!(i=t.data("$"+n.ngRefRead+"Controller")))throw ba("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',n.ngRefRead,o.ngRef)}else i=t.data("$"+r+"Controller");s(e,i=i||t),t.on("$destroy",function(){a(e)===i&&s(e,null)})}}}}],wa=["$parse","$animate","$compile",function(a,T,s){function D(e,t,n,i,o,r,a){e[n]=i,o&&(e[o]=r),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))}function A(e,t,n){return Jt(n)}function O(e,t){return t}var R="$$NG_REMOVED",I=x("ngRepeat");return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,t){var $=t.ngRepeat,x=s.$$createComment("end ngRepeat",$),t=$.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!t)throw I("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",$);var n=t[1],i=t[2],k=t[3],o=t[4];if(!(t=n.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw I("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",n);var S,r,E,M=t[3]||t[1],P=t[2];if(!k||/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(k)&&!/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(k))return o&&(S={$id:Jt},r=a(o),E=function(e,t,n,i){return P&&(S[P]=t),S[M]=n,S.$index=i,r(e,S)}),function(b,y,e,t,w){var C=Oe();b.$watchCollection(i,function(e){var n,t,i,o,r,a,s,l,c,u,d,p,h,f,g=y[0],m=Oe();if(k&&(b[k]=e),N(e))c=e,l=E||A;else for(var v in l=E||O,c=[],e)Ce.call(e,v)&&"$"!==v.charAt(0)&&c.push(v);for(o=c.length,d=new Array(o),n=0;n<o;n++)if(r=e===c?n:c[n],a=e[r],s=l(b,r,a,n),C[s])u=C[s],delete C[s],m[s]=u,d[n]=u;else{if(m[s])throw $e(d,function(e){e&&e.scope&&(C[e.id]=e)}),I("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",$,s,a);d[n]={id:s,scope:void 0,clone:void 0},m[s]=!0}for(h in S&&(S[M]=void 0),C){if(p=Ze((u=C[h]).clone),T.leave(p),p[0].parentNode)for(n=0,t=p.length;n<t;n++)p[n][R]=!0;u.scope.$destroy()}for(n=0;n<o;n++)if(r=e===c?n:c[n],a=e[r],(u=d[n]).scope){for(i=g;(i=i.nextSibling)&&i[R];);u.clone[0]!==i&&T.move(Ze(u.clone),null,g),g=(f=u).clone[f.clone.length-1],D(u.scope,n,M,a,P,r,o)}else w(function(e,t){u.scope=t;t=x.cloneNode(!1);e[e.length++]=t,T.enter(e,null,g),g=t,u.clone=e,m[u.id]=u,D(u.scope,n,M,a,P,r,o)});C=m})};throw I("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",k)}}}],Ca="ng-hide",$a="ng-hide-animate",xa=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngShow,function(e){i[e?"removeClass":"addClass"](t,Ca,{tempClasses:$a})})}}}],ka=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngHide,function(e){i[e?"addClass":"removeClass"](t,Ca,{tempClasses:$a})})}}}],Sa=Ko(function(e,n,t){e.$watchCollection(t.ngStyle,function(e,t){t&&e!==t&&$e(t,function(e,t){n.css(t,"")}),e&&n.css(e)})}),Ea=["$animate","$compile",function(c,u){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,t,n,o){var r,n=n.ngSwitch||n.on,a=[],s=[],l=[];e.$watch(n,function(e){for(var t,n;s.length;)c.cancel(s.pop());for(t=0,n=l.length;t<n;++t){var i=Ze(a[t].clone);l[t].$destroy(),(s[t]=c.leave(i)).done(function(t,n){return function(e){!1!==e&&t.splice(n,1)}}(s,t))}a.length=0,l.length=0,(r=o.cases["!"+e]||o.cases["?"])&&$e(r,function(n){n.transclude(function(e,t){l.push(t);t=n.element;e[e.length++]=u.$$createComment("end ngSwitchWhen"),a.push({clone:e}),c.enter(e,t.parent(),t)})})})}}}],Ma=Ko({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,o){$e(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:o,element:t})})}}),Pa=Ko({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,o){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:o,element:t})}}),Ta=x("ngTransclude"),Da=["$compile",function(t){return{restrict:"EAC",compile:function(e){var a=t(e.contents());return e.empty(),function(e,n,t,i,o){if(!o)throw Ta("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Be(n));t.ngTransclude===t.$attr.ngTransclude&&(t.ngTransclude="");t=t.ngTransclude||t.ngTranscludeSlot;function r(){a(e,function(e){n.append(e)})}o(function(e,t){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.nodeType!==Je||i.nodeValue.trim())return 1}}(e)?n.append(e):(r(),t.$destroy())},null,t),t&&!o.isSlotFilled(t)&&r()}}}}],Aa=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(e,t){"text/ng-template"===t.type&&(t=t.id,e=e[0].text,n.put(t,e))}}}],Oa={$setViewValue:T,$render:T};function Ra(e,t){e.prop("selected",t),e.attr("selected",t)}function Ia(){return{restrict:"E",require:["select","?ngModel"],controller:La,priority:1,link:{pre:function(e,i,t,n){var o,r,a=n[0],s=n[1];s?(a.ngModelCtrl=s,i.on("change",function(){a.removeUnknownOption(),e.$apply(function(){s.$setViewValue(a.readValue())})}),t.multiple&&(a.multiple=!0,a.readValue=function(){var t=[];return $e(i.find("option"),function(e){e.selected&&!e.disabled&&(e=e.value,t.push(e in a.selectValueMap?a.selectValueMap[e]:e))}),t},a.writeValue=function(n){$e(i.find("option"),function(e){var t=!!n&&(K(n,e.value)||K(n,a.selectValueMap[e.value]));t!==e.selected&&Ra(we(e),t)})},r=NaN,e.$watch(function(){r!==s.$viewValue||Ae(o,s.$viewValue)||(o=k(s.$viewValue),s.$render()),r=s.$viewValue}),s.$isEmpty=function(e){return!e||0===e.length})):a.registerOption=T},post:function(e,t,n,i){var o,r=i[1];r&&(o=i[0],r.$render=function(){o.writeValue(r.$viewValue)})}}}}var Na,La=["$element","$scope",function(n,t){var s=this,i=new nn,e=(s.selectValueMap={},s.ngModelCtrl=Oa,s.multiple=!1,s.unknownOption=we(ye.document.createElement("option")),s.hasEmptyOption=!1,s.emptyOption=void 0,s.renderUnknownOption=function(e){e=s.generateUnknownOptionValue(e);s.unknownOption.val(e),n.prepend(s.unknownOption),Ra(s.unknownOption,!0),n.val(e)},s.updateUnknownOption=function(e){e=s.generateUnknownOptionValue(e);s.unknownOption.val(e),Ra(s.unknownOption,!0),n.val(e)},s.generateUnknownOptionValue=function(e){return"? "+Jt(e)+" ?"},s.removeUnknownOption=function(){s.unknownOption.parent()&&s.unknownOption.remove()},s.selectEmptyOption=function(){s.emptyOption&&(n.val(""),Ra(s.emptyOption,!0))},s.unselectEmptyOption=function(){s.hasEmptyOption&&Ra(s.emptyOption,!1)},t.$on("$destroy",function(){s.renderUnknownOption=T}),s.readValue=function(){var e=n.val(),e=e in s.selectValueMap?s.selectValueMap[e]:e;return s.hasOption(e)?e:null},s.writeValue=function(e){var t=n[0].options[n[0].selectedIndex];t&&Ra(we(t),!1),s.hasOption(e)?(s.removeUnknownOption(),t=Jt(e),n.val(t in s.selectValueMap?t:e),t=n[0].options[n[0].selectedIndex],Ra(we(t),!0)):s.selectUnknownOrEmptyOption(e)},s.addOption=function(e,t){t[0].nodeType!==et&&(Ke(e,'"option value"'),""===e&&(s.hasEmptyOption=!0,s.emptyOption=t),t=i.get(e)||0,i.set(e,t+1),l())},s.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.delete(e),""===e&&(s.hasEmptyOption=!1,s.emptyOption=void 0)):i.set(e,t-1))},s.hasOption=function(e){return!!i.get(e)},s.$hasEmptyOption=function(){return s.hasEmptyOption},s.$isUnknownOptionSelected=function(){return n[0].options[0]===s.unknownOption[0]},s.$isEmptyOptionSelected=function(){return s.hasEmptyOption&&n[0].options[n[0].selectedIndex]===s.emptyOption[0]},!(s.selectUnknownOrEmptyOption=function(e){null==e&&s.emptyOption?(s.removeUnknownOption(),s.selectEmptyOption()):s.unknownOption.parent().length?s.updateUnknownOption(e):s.renderUnknownOption(e)}));function l(){e||(e=!0,t.$$postDigest(function(){e=!1,s.ngModelCtrl.$render()}))}var o=!1;function c(e){o||(o=!0,t.$$postDigest(function(){t.$$destroyed||(o=!1,s.ngModelCtrl.$setViewValue(s.readValue()),e&&s.ngModelCtrl.$render())}))}s.registerOption=function(e,i,o,t,n){var r,a;o.$attr.ngValue?o.$observe("value",function(e){var t,n=i.prop("selected");D(a)&&(s.removeOption(r),delete s.selectValueMap[a],t=!0),a=Jt(e),r=e,s.selectValueMap[a]=e,s.addOption(e,i),i.attr("value",a),t&&n&&c()}):t?o.$observe("value",function(e){s.readValue();var t,n=i.prop("selected");D(r)&&(s.removeOption(r),t=!0),r=e,s.addOption(e,i),t&&n&&c()}):n?e.$watch(n,function(e,t){o.$set("value",e);var n=i.prop("selected");t!==e&&s.removeOption(t),s.addOption(e,i),t&&n&&c()}):s.addOption(o.value,i),o.$observe("disabled",function(e){("true"===e||e&&i.prop("selected"))&&(s.multiple?c(!0):(s.ngModelCtrl.$setViewValue(null),s.ngModelCtrl.$render()))}),i.on("$destroy",function(){var e=s.readValue(),t=o.value;s.removeOption(t),l(),(s.multiple&&e&&-1!==e.indexOf(t)||e===t)&&c(!0)})}}],_a=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(e,t){var r,a;return D(t.ngValue)||(D(t.value)?r=n(t.value,!0):(a=n(e.text(),!0))||t.$set("value",e.text())),function(e,t,n){var i="$selectController",o=t.parent(),o=o.data(i)||o.parent().data(i);o&&o.registerOption(e,t,n,r,a)}}}}],Ga=["$parse",function(r){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){var o;i&&(o=n.hasOwnProperty("required")||r(n.ngRequired)(e),n.ngRequired||(n.required=!0),i.$validators.required=function(e,t){return!o||!i.$isEmpty(t)},n.$observe("required",function(e){o!==e&&(o=e,i.$validate())}))}}}],Fa=["$parse",function(n){return{restrict:"A",require:"?ngModel",compile:function(e,t){var a,s;return t.ngPattern&&(a=t.ngPattern,s="/"===t.ngPattern.charAt(0)&&h.test(t.ngPattern)?function(){return t.ngPattern}:n(t.ngPattern)),function(e,n,t,i){var o,r;i&&(o=t.pattern,t.ngPattern?o=s(e):a=t.pattern,r=Ua(o,a,n),t.$observe("pattern",function(e){var t=r;r=Ua(e,a,n),(t&&t.toString())!==(r&&r.toString())&&i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||ke(r)||r.test(t)})}}}}],Va=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){var o,r;i&&(o=n.maxlength||a(n.ngMaxlength)(e),r=Ha(o),n.$observe("maxlength",function(e){o!==e&&(r=Ha(e),o=e,i.$validate())}),i.$validators.maxlength=function(e,t){return r<0||i.$isEmpty(t)||t.length<=r})}}}],za=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){var o,r;i&&(o=n.minlength||a(n.ngMinlength)(e),r=Ha(o)||-1,n.$observe("minlength",function(e){o!==e&&(r=Ha(e)||-1,o=e,i.$validate())}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r})}}}];function Ua(e,t,n){if(e){if((e=Ee(e)?new RegExp("^"+e+"$"):e).test)return e;throw x("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,Be(n))}}function Ha(e){e=b(e);return P(e)?-1:e}ye.angular.bootstrap?ye.console&&console.log("WARNING: Tried to load AngularJS more than once."):(be||(o=Q(),(pr=ke(o)?ye.jQuery:o?ye[o]:void 0)&&pr.fn.on?xe((we=pr).fn,{scope:Ht.scope,isolateScope:Ht.isolateScope,controller:Ht.controller,injector:Ht.injector,inheritedData:Ht.inheritedData}):we=s,Na=we.cleanData,we.cleanData=function(e){for(var t,n,i=0;null!=(n=e[i]);i++)(t=(we._data(n)||{}).events)&&t.$destroy&&we(n).triggerHandler("$destroy");Na(e)},y.element=we,be=!0),xe(y,{errorHandlingConfig:n,bootstrap:fe,copy:Z,extend:xe,merge:V,equals:Ae,element:we,forEach:$e,injector:hn,noop:T,bind:He,toJson:te,fromJson:ne,identity:Le,isUndefined:ke,isDefined:D,isString:Ee,isFunction:Pe,isObject:Se,isNumber:w,isElement:Y,isArray:Me,version:ot,isDate:$,callbacks:{$$counter:0},getTestability:me,reloadWithDebugInfo:ge,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:We,$$minErr:x,$$csp:X,$$encodeUriSegment:ce,$$encodeUriQuery:r,$$lowercase:M,$$stringify:Xe,$$uppercase:S}),(m=nt(ye))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:io}),e.provider("$compile",An).directive({a:Zo,input:Ar,textarea:Ar,form:ir,script:Aa,select:Ia,option:_a,ngBind:Rr,ngBindHtml:Nr,ngBindTemplate:Ir,ngClass:Gr,ngClassEven:Vr,ngClassOdd:Fr,ngCloak:zr,ngController:Ur,ngForm:or,ngHide:ka,ngIf:qr,ngInclude:Yr,ngInit:Zr,ngNonBindable:ha,ngPluralize:va,ngRef:ya,ngRepeat:wa,ngShow:xa,ngStyle:Sa,ngSwitch:Ea,ngSwitchWhen:Ma,ngSwitchDefault:Pa,ngOptions:ma,ngTransclude:Da,ngModel:sa,ngList:Wr,ngChange:Lr,pattern:Fa,ngPattern:Fa,required:Ga,ngRequired:Ga,minlength:za,ngMinlength:za,maxlength:Va,ngMaxlength:Va,ngValue:Dr,ngModelOptions:ua}).directive({ngInclude:Kr,input:Tr}).directive(Xo).directive(Hr),e.provider({$anchorScroll:fn,$animate:Sn,$animateCss:kn,$$animateJs:wn,$$animateQueue:Cn,$$AnimateRunner:xn,$$animateAsyncRun:$n,$browser:Mn,$cacheFactory:Pn,$controller:Vn,$document:zn,$$isDocumentHidden:Un,$exceptionHandler:Hn,$filter:Eo,$$forceReflow:Bn,$interpolate:ci,$interval:di,$$intervalFactory:pi,$http:ri,$httpParamSerializer:Qn,$httpParamSerializerJQLike:Jn,$httpBackend:si,$xhrFactory:ai,$jsonpCallbacks:hi,$location:Di,$log:Ai,$parse:Ki,$rootScope:no,$q:Zi,$$q:Xi,$sce:co,$sceDelegate:lo,$sniffer:uo,$$taskTrackerFactory:po,$templateCache:Tn,$templateRequest:go,$$testability:mo,$timeout:bo,$window:xo,$$rAF:to,$$jqLite:Qt,$$Map:on,$$cookieReader:So})}]).info({angularVersion:"1.8.2"}),y.module("ngLocale",[],["$provide",function(e){var r="one",a="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n,i,o=0|e;return e=e,void 0===(t=t)&&(t=Math.min((i=e,-1==(n=(i+="").indexOf("."))?0:i.length-n-1),3)),i=Math.pow(10,t),1==o&&0=={v:t,f:(e*i|0)%i}.v?r:a}})}]),we(function(){he(ye.document,fe)}))}(window),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}')),!function(d,e){"use strict";var J,ee,F=1,te="-add",ne="-remove",ve="ng-",S="ng-animate",V="$$ngAnimateChildren",be=void 0===d.ontransitionend&&void 0!==d.onwebkittransitionend?(J="WebkitTransition","webkitTransitionEnd transitionend"):(J="transition","transitionend"),ye=void 0===d.onanimationend&&void 0!==d.onwebkitanimationend?(ee="WebkitAnimation","webkitAnimationEnd animationend"):(ee="animation","animationend"),i="Duration",we="TimingFunction",r="PlayState",n=ee+"Delay",ie=ee+i,o=J+"Delay",t=J+i,a=e.$$minErr("ng");function g(e,t,n){if(!e)throw a("areq","Argument '{0}' is {1}",t||"?",n||"required")}function E(e,t){return e||t?e?t?(e=ge(e)?e.join(" "):e)+" "+(t=ge(t)?t.join(" "):t):e:t:""}function oe(e,n,i){var o="";return e=ge(e)?e:e&&B(e)&&e.length?e.split(/\s+/):[],fe(e,function(e,t){e&&0<e.length&&(o=o+(0<t?" ":"")+(i?n+e:e+n))}),o}function Y(e){if(e instanceof W)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===F)return e;break;default:return W(p(e))}if(e.nodeType===F)return W(e)}function p(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===F)return n}}function f(a){return function(e,t){var n,i,o,r;t.addClass&&(n=a,i=t.addClass,fe(e,function(e){n.addClass(e,i)}),t.addClass=null),t.removeClass&&(o=a,r=t.removeClass,fe(e,function(e){o.removeClass(e,r)}),t.removeClass=null)}}function re(e){var t;return(e=e||{}).$$prepared||(t=e.domOperation||me,e.domOperation=function(){e.$$domOperationFired=!0,t(),t=me},e.$$prepared=!0),e}function ae(e,t){Ce(e,t),$e(e,t)}function Ce(e,t){t.from&&(e.css(t.from),t.from=null)}function $e(e,t){t.to&&(e.css(t.to),t.to=null)}function z(e,t,n){var o,i,r,a=t.options||{},n=n.options||{},s=(a.addClass||"")+" "+(n.addClass||""),l=(a.removeClass||"")+" "+(n.removeClass||""),l=(o=e.attr("class"),e=s,s=l,i={},o=c(o),e=c(e),fe(e,function(e,t){i[t]=1}),s=c(s),fe(s,function(e,t){i[t]=1===i[t]?null:-1}),r={addClass:"",removeClass:""},fe(i,function(e,t){var n,i;1===e?(n="addClass",i=!o[t]||o[t+ne]):-1===e&&(n="removeClass",i=o[t]||o[t+te]),i&&(r[n].length&&(r[n]+=" "),r[n]+=t)}),r);function c(e){B(e)&&(e=e.split(" "));var t={};return fe(e,function(e){e.length&&(t[e]=!0)}),t}n.preparationClasses&&(a.preparationClasses=U(n.preparationClasses,a.preparationClasses),delete n.preparationClasses);e=a.domOperation!==me?a.domOperation:null;return m(a,n),e&&(a.domOperation=e),l.addClass?a.addClass=l.addClass:a.addClass=null,l.removeClass?a.removeClass=l.removeClass:a.removeClass=null,t.addClass=a.addClass,t.removeClass=a.removeClass,a}function se(e){return e instanceof W?e[0]:e}function le(e,t){var t=t?"paused":"",n=ee+r;return ce(e,[n,t]),[n,t]}function ce(e,t){var n=t[0],t=t[1];e.style[n]=t}function U(e,t){return e?t?e+" "+t:e:t}var ue=function(e,t){t=t?"-"+t+"s":"";return ce(e,[o,t]),[o,t]},s=["$interpolate",function(r){return{link:function(e,t,n){var i=n.ngAnimateChildren;function o(e){t.data(V,e="on"===e||"true"===e)}B(i)&&0===i.length?t.data(V,!0):(o(r(i)(e)),n.$observe("ngAnimateChildren",o))}}}],de="$$animateCss",l={transitionDuration:t,transitionDelay:o,transitionProperty:J+"Property",animationDuration:ie,animationDelay:n,animationIterationCount:ee+"IterationCount"},xe={transitionDuration:t,transitionDelay:o,animationDuration:ie,animationDelay:n};function pe(e,t){return[t?n:o,e+"s"]}function ke(e,t,n){var o=Object.create(null),r=e.getComputedStyle(t)||{};return fe(n,function(e,t){var n,i,e=r[e];e&&(("-"===(n=e.charAt(0))||"+"===n||0<=n)&&(i=0,n=(n=e).split(/\s*,\s*/),fe(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,i=i?Math.max(e,i):e}),e=i),0===e&&(e=null),o[t]=e)}),o}function he(e){return 0===e||null!=e}function Se(e,t){var n=J,e=e+"s";return t?n+=i:e+=" linear all",[n,e]}function Ee(t,n,e){fe(e,function(e){t[e]=K(t[e])?t[e]:n.style.getPropertyValue(e)})}var Me,m,fe,ge,K,h,w,H,B,j,W,me,t=["$animateProvider",function(e){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(H,B,j,W,q,n,Y,t,K){var Z=f(B);var i=[];function X(e){i.push(e),t.waitUntilQuiet(function(){q.flush();for(var e=n(),t=0;t<i.length;t++)i[t](e);i.length=0})}function Q(e,t,n,i){e=e,n=n,i=i,r=l,(o=q.get(n))||"infinite"===(o=ke(H,e,r)).animationIterationCount&&(o.animationIterationCount=1),e=i||0<o.transitionDuration||0<o.animationDuration,q.put(n,o,e);var o,r=o,i=r.animationDelay,n=r.transitionDelay;return r.maxDelay=i&&n?Math.max(i,n):i||n,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}return function(a,e){var s=e||{},l=(s.$$prepared||(s=re(Me(s))),{}),c=se(a);if(!c||!c.parentNode||!K.enabled())return N();var u,i,o,n,d,p,h,f,g=[],t=(a.attr("class"),e={},(t=s)&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e),m=[];if(0===s.duration||!Y.animations&&!Y.transitions)return N();var v=s.event&&ge(s.event)?s.event.join(" "):s.event,e=v&&s.structural,r="",b="",y=(e?r=oe(v,ve,!0):v&&(r=v),s.addClass&&(b+=oe(s.addClass,te)),s.removeClass&&(b.length&&(b+=" "),b+=oe(s.removeClass,ne)),s.applyClassesEarly&&b.length&&Z(a,s),[r,b].join(" ").trim()),r=t.to&&0<Object.keys(t.to).length;if(!(0<(s.keyframeStyle||"").length)&&!r&&!y)return N();var w,C,L,$,x,k,S=q.cacheKey(c,v,s.addClass,s.removeClass);if(q.containsCachedAnimationWithoutDuration(S))return y=null,N();w=0<s.stagger?{transitionDelay:t=parseFloat(s.stagger),animationDelay:t,transitionDuration:0,animationDuration:0}:(t=c,$=y,k=xe,L="stagger-"+(E=S),0<q.count(E)&&((C=q.get(L))||(E=oe($,"-stagger"),B.addClass(t,E),(C=ke(H,t,k)).animationDuration=Math.max(C.animationDuration,0),C.transitionDuration=Math.max(C.transitionDuration,0),B.removeClass(t,E),q.put(L,C,!0))),C||{}),s.$$skipPreparationClasses||B.addClass(a,y),s.transitionStyle&&($=[J,s.transitionStyle],ce(c,$),g.push($)),0<=s.duration&&(x=0<c.style[J].length,k=Se(s.duration,x),ce(c,k),g.push(k)),s.keyframeStyle&&(t=[ee,s.keyframeStyle],ce(c,t),g.push(t));var _=w?0<=s.staggerIndex?s.staggerIndex:q.count(S):0,E=0===_,M=(E&&!s.skipBlocking&&ue(c,9999),Q(c,0,S,!e)),P=M.maxDelay,T=Math.max(P,0),D=M.maxDuration,A={};if(A.hasTransitions=0<M.transitionDuration,A.hasAnimations=0<M.animationDuration,A.hasTransitionAll=A.hasTransitions&&"all"===M.transitionProperty,A.applyTransitionDuration=r&&(A.hasTransitions&&!A.hasTransitionAll||A.hasAnimations&&!A.hasTransitions),A.applyAnimationDuration=s.duration&&A.hasAnimations,A.applyTransitionDelay=he(s.delay)&&(A.applyTransitionDuration||A.hasTransitions),A.applyAnimationDelay=he(s.delay)&&A.hasAnimations,A.recalculateTimingStyles=0<b.length,(A.applyTransitionDuration||A.applyAnimationDuration)&&(D=s.duration?parseFloat(s.duration):D,A.applyTransitionDuration&&(A.hasTransitions=!0,M.transitionDuration=D,x=0<c.style[J+"Property"].length,g.push(Se(D,x))),A.applyAnimationDuration&&(A.hasAnimations=!0,M.animationDuration=D,g.push([ie,D+"s"]))),0===D&&!A.recalculateTimingStyles)return N();var O,G=oe(y,"-active");return null!=s.delay&&("boolean"!=typeof s.delay&&(O=parseFloat(s.delay),T=Math.max(O,0)),A.applyTransitionDelay&&g.push(pe(O)),A.applyAnimationDelay&&g.push(pe(O,!0))),null==s.duration&&0<M.transitionDuration&&(A.recalculateTimingStyles=A.recalculateTimingStyles||E),p=1e3*T,h=1e3*D,s.skipBlocking||(A.blockTransition=0<M.transitionDuration,A.blockKeyframeAnimation=0<M.animationDuration&&0<w.animationDelay&&0===w.animationDuration),s.from&&(s.cleanupStyles&&Ee(l,c,Object.keys(s.from)),Ce(a,s)),A.blockTransition||A.blockKeyframeAnimation?V(D):s.skipBlocking||ue(c,!1),{$$willAnimate:!0,end:R,start:function(){if(!u)return n=new j(d={end:R,cancel:F,resume:null,pause:null}),X(U),n}};function R(){I()}function F(){I(!0)}function I(e){var t;u||o&&i||(i=!(u=!0),y&&!s.$$skipPreparationClasses&&B.removeClass(a,y),G&&B.removeClass(a,G),le(c,!1),ue(c,!1),fe(g,function(e){c.style[e[0]]=""}),Z(a,s),ae(a,s),Object.keys(l).length&&fe(l,function(e,t){e?c.style.setProperty(t,e):c.style.removeProperty(t)}),s.onDone&&s.onDone(),m&&m.length&&a.off(m.join(" "),z),(t=a.data(de))&&(W.cancel(t[0].timer),a.removeData(de)),n&&n.complete(!e))}function V(e){A.blockTransition&&ue(c,e),A.blockKeyframeAnimation&&le(c,!!e)}function N(){return n=new j({end:R,cancel:F}),X(me),I(),{$$willAnimate:!1,start:function(){return n},end:R}}function z(e){e.stopPropagation();var t,e=e.originalEvent||e;e.target===c&&(t=e.$manualTimeStamp||Date.now(),e=parseFloat(e.elapsedTime.toFixed(3)),Math.max(t-f,0)>=p&&D<=e&&(o=!0,I()))}function U(){var e,t;function n(){if(!u){if(V(!1),fe(g,function(e){var t=e[0],e=e[1];c.style[t]=e}),Z(a,s),B.addClass(a,G),A.recalculateTimingStyles){if(c.getAttribute("class"),S=q.cacheKey(c,v,s.addClass,s.removeClass),M=Q(c,0,S,!1),P=M.maxDelay,T=Math.max(P,0),0===(D=M.maxDuration))return void I();A.hasTransitions=0<M.transitionDuration,A.hasAnimations=0<M.animationDuration}A.applyAnimationDelay&&(P="boolean"!=typeof s.delay&&he(s.delay)?parseFloat(s.delay):P,T=Math.max(P,0),M.animationDelay=P,O=pe(P,!0),g.push(O),c.style[O[0]]=O[1]),p=1e3*T,h=1e3*D,s.easing&&(n=s.easing,A.hasTransitions&&(t=J+we,g.push([t,n]),c.style[t]=n),A.hasAnimations&&(t=ee+we,g.push([t,n]),c.style[t]=n)),M.transitionDuration&&m.push(be),M.animationDuration&&m.push(ye),f=Date.now();var e,t=p+1.5*h,n=f+t,i=a.data(de)||[],o=!0;i.length&&((o=n>(e=i[0]).expectedEndTime)?W.cancel(e.timer):i.push(I)),o&&(e=W(r,t,!1),i[0]={timer:e,expectedEndTime:n},i.push(I),a.data(de,i)),m.length&&a.on(m.join(" "),z),s.to&&(s.cleanupStyles&&Ee(l,c,Object.keys(s.to)),$e(a,s))}}function r(){var e=a.data(de);if(e){for(var t=1;t<e.length;t++)e[t]();a.removeData(de)}}u||(c.parentNode?(e=function(e){var t,n;o?i&&e&&(i=!1,I()):(i=!e,M.animationDuration&&(e=le(c,i),i?g.push(e):(e=e,n=(t=g).indexOf(e),0<=e&&t.splice(n,1))))},(t=0<_&&(M.transitionDuration&&0===w.transitionDuration||M.animationDuration&&0===w.animationDuration)&&Math.max(w.animationDelay,w.transitionDelay))?W(n,Math.floor(t*_*1e3),!1):n(),d.resume=function(){e(!0)},d.pause=function(){e(!1)}):I())}}}]}],c=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var v="ng-animate-shim",b="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(d,e,p,t,n,i,o){if(!n.animations&&!n.transitions)return me;var h=o[0].body,n=se(t),f=W((o=n).parentNode&&11===o.parentNode.nodeType||h.contains(n)?n:h);return function(e){if(!e.from||!e.to)return a(e);var t=e.from,n=e.to,e=(e.classes,e.anchors),i=a(t),o=a(n),r=[];return fe(e,function(e){e=function(t,n){var i=W(se(t).cloneNode(!0)),o=g(l(i));t.addClass(v),n.addClass(v),i.addClass("ng-anchor"),f.append(i);var r,e=function(){var e=d(i,{addClass:b,delay:!0,from:s(t)});return e.$$willAnimate?e:null}();if(!e&&!(r=c()))return u();var a=e||r;return{start:function(){var e,t=a.start();return t.done(function(){if(t=null,!r&&(r=c()))return(t=r.start()).done(function(){t=null,u(),e.complete()}),t;u(),e.complete()}),e=new p({end:n,cancel:n});function n(){t&&t.end()}}};function s(e){var n={},i=se(e).getBoundingClientRect();return fe(["width","height","top","left"],function(e){var t=i[e];switch(e){case"top":t+=h.scrollTop;break;case"left":t+=h.scrollLeft}n[e]=Math.floor(t)+"px"}),n}function l(e){return e.attr("class")||""}function c(){var e=g(l(n)),t=m(e,o),e=m(o,e),t=d(i,{to:s(n),addClass:"ng-anchor-in "+t,removeClass:b+" "+e,delay:!0});return t.$$willAnimate?t:null}function u(){i.remove(),t.removeClass(v),n.removeClass(v)}}(e.out,e.in);e&&r.push(e)}),i||o||0!==r.length?{start:function(){var t=[],n=(i&&t.push(i.start()),o&&t.push(o.start()),fe(r,function(e){t.push(e.start())}),new p({end:e,cancel:e}));return p.all(t,function(e){n.complete(e)}),n;function e(){fe(t,function(e){e.end()})}}}:void 0};function g(e){return e.replace(/\bng-\S+\b/g,"")}function m(e,t){return B(e)&&(e=e.split(" ")),B(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function a(e){var t=e.element,n=e.options||{},e=(e.structural&&(n.event=e.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===e.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=U(n.event,n.preparationClasses)),d(t,n));return e.$$willAnimate?e:null}}]}],u=["$animateProvider",function(y){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(m,v,e){var b=f(e);return function(e,t,n,i){var o,r,a,s,l,c=!1,u=(3===arguments.length&&H(n)&&(i=n,n=null),i=re(i),n||(n=e.attr("class")||"",i.addClass&&(n+=" "+i.addClass),i.removeClass&&(n+=" "+i.removeClass)),i.addClass),d=i.removeClass,n=function(e){e=ge(e)?e:e.split(" ");for(var t=[],n={},i=0;i<e.length;i++){var o=e[i],r=y.$$registeredAnimations[o];r&&!n[o]&&(t.push(m.get(r)),n[o]=!0)}return t}(n);if(n.length&&(s="leave"===t?(a="leave","afterLeave"):(a="before"+t.charAt(0).toUpperCase()+t.substr(1),t),"enter"!==t&&"move"!==t&&(o=g(e,t,i,n,a)),r=g(e,t,i,n,s)),o||r)return{$$willAnimate:!0,end:function(){return l?l.end():(h(),(l=new v).complete(!0)),l},start:function(){if(l)return l;l=new v;var t,e=[];return o&&e.push(function(e){t=o(e)}),e.length?e.push(function(e){p(),e(!0)}):p(),r&&e.push(function(e){t=r(e)}),l.setHost({end:function(){i()},cancel:function(){i(!0)}}),v.chain(e,n),l;function n(e){h(),l.complete(e)}function i(e){c||((t||me)(e),n(e))}}};function p(){i.domOperation(),b(e,i)}function h(){c=!0,p(),ae(e,i)}function f(a,s,l,e,t){var n=[];return fe(e,function(e){var r=e[t];r&&n.push(function(){function t(e){n||(n=!0,(o||me)(e),i.complete(!e))}var n=!1,i=new v({end:function(){t()},cancel:function(){t(!0)}}),o=function(e,t,n,i,o){var r;switch(n){case"animate":r=[t,i.from,i.to,o];break;case"setClass":r=[t,u,d,o];break;case"addClass":r=[t,u,o];break;case"removeClass":r=[t,d,o];break;default:r=[t,o]}if(r.push(i),n=e.apply(e,r))if((n=w(n.start)?n.start():n)instanceof v)n.done(o);else if(w(n))return n;return me}(r,a,s,l,function(e){t(!1===e)});return i})}),n}function g(e,t,n,i,o){var r,a,s=f(e,t,n,i,o);if(0===s.length&&("beforeSetClass"===o?(r=f(e,"removeClass",n,i,"beforeRemoveClass"),a=f(e,"addClass",n,i,"beforeAddClass")):"setClass"===o&&(r=f(e,"removeClass",n,i,"removeClass"),a=f(e,"addClass",n,i,"addClass")),r&&(s=s.concat(r)),a&&(s=s.concat(a))),0!==s.length)return function(e){var n=[];return s.length&&fe(s,function(e){n.push(e())}),n.length?v.all(n,e):e(),function(t){fe(n,function(e){t?e.cancel():e.end()})}}}}}]}],v=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(o,r){return function(e){if(!e.from||!e.to)return t(e);var i=t(e.from),o=t(e.to);return i||o?{start:function(){var e=[],t=(i&&e.push(i.start()),o&&e.push(o.start()),r.all(e,function(e){t.complete(e)}),new r({end:n(),cancel:n()}));return t;function n(){return function(){fe(e,function(e){e.end()})}}}}:void 0};function t(e){var t=e.element,n=e.event,i=e.options,e=e.classes;return o(t,n,e,i)}}]}],q="data-ng-animate",Z="$ngAnimatePin",b=["$animateProvider",function(u){var i=" ",o=this.rules={skip:[],cancel:[],join:[]};function L(e){return{addClass:e.addClass,removeClass:e.removeClass,from:e.from,to:e.to}}function r(e,t){var n;if(e&&t)return n=function(e){if(!e)return null;var e=e.split(i),t=Object.create(null);return fe(e,function(e){t[e]=!0}),t}(t),e.split(i).some(function(e){return n[e]})}function _(e,t,n){return o[e].some(function(e){return e(t,n)})}function G(e,t){var n=0<(e.addClass||"").length,e=0<(e.removeClass||"").length;return t?n&&e:n||e}o.join.push(function(e,t){return!e.structural&&G(e)}),o.skip.push(function(e,t){return!e.structural&&!G(e)}),o.skip.push(function(e,t){return"leave"===t.event&&e.structural}),o.skip.push(function(e,t){return t.structural&&2===t.state&&!e.structural}),o.cancel.push(function(e,t){return t.structural&&e.structural}),o.cancel.push(function(e,t){return 2===t.state&&e.structural}),o.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,e=e.removeClass,i=t.addClass,t=t.removeClass;return!(j(n)&&j(e)||j(i)&&j(t))&&(r(n,t)||r(e,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(v,b,y,w,e,C,$,t,n,i,x){var k=new e,S=new e,E=null;function o(e){S.delete(e.target)}function r(){return!0}var a=b.$watch(function(){return 0===t.totalPendingRequests},function(e){e&&(a(),b.$$postDigest(function(){b.$$postDigest(function(){null===E&&(E=!0)})}))}),M=Object.create(null),e=u.customFilter(),s=u.classNameFilter(),P=e||r,T=s?function(e,t){e=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return s.test(e)}:r,D=f(n);function A(e,t){z(e,t,{})}var O=d.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};function l(e,t,n){var i=p(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}function R(e,t){"close"!==e||t.parentNode||c.off(t)}var c={on:function(e,t,n){var i=p(t);M[e]=M[e]||[],M[e].push({node:i,callback:n}),W(t).on("$destroy",function(){k.get(i)||c.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||B(e)){var i=M[e];i&&(M[e]=1===arguments.length?null:l(i,t,n))}else for(var o in t=e,M)M[o]=l(M[o],t)},pin:function(e,t){g(h(e),"element","not an element"),g(h(t),"parentElement","not an element"),e.data(Z,t)},push:function(e,t,n,i){(n=n||{}).domOperation=i;var o=e,r=t,i=n,a=Me(i),c=Y(o),u=se(c),d=u&&u.parentNode,s=(a=re(a),new $),p=function(){var t=!1;return function(e){t?e():b.$$postDigest(function(){t=!0,e()})}}();if(ge(a.addClass)&&(a.addClass=a.addClass.join(" ")),a.addClass&&!B(a.addClass)&&(a.addClass=null),ge(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.removeClass&&!B(a.removeClass)&&(a.removeClass=null),a.from&&!H(a.from)&&(a.from=null),a.to&&!H(a.to)&&(a.to=null),!(E&&u&&P(u,r,i)&&T(u,a)))return m(),s;var l=0<=["enter","move","leave"].indexOf(r),e=(i=x())||S.get(u),t=!e&&k.get(u)||{},n=!!t.state;if(e=e||n&&1===t.state?e:!function(e,t){var n,i=w[0].body,o=se(y),r=e===i||"HTML"===e.nodeName,a=e===o,s=!1,l=S.get(e),c=W.data(e,Z);c&&(t=se(c));for(;t&&(a=a||t===o,t.nodeType===F);){var u=k.get(t)||{};if(!s){var d=S.get(t);if(!0===d&&!1!==l){l=!0;break}!1===d&&(l=!1),s=u.structural}if(!j(n)&&!0!==n||(d=W.data(t,V),K(d)&&(n=d)),s&&!1===n)break;if((r=r||t===i)&&a)break;t=!a&&(c=W.data(t,Z))?se(c):t.parentNode}return(!s||n)&&!0!==l&&a&&r}(u,d))return i&&g(s,r,"start",L(a)),m(),i&&g(s,r,"close",L(a)),s;{var h;l&&(h=(h=u).querySelectorAll("["+q+"]"),fe(h,function(e){var t=parseInt(e.getAttribute(q),10),n=k.get(e);if(n)switch(t){case 2:n.runner.end();case 1:k.delete(e)}}))}if(e={structural:l,element:c,event:r,addClass:a.addClass,removeClass:a.removeClass,close:m,options:a,runner:s},n){if(_("skip",e,t))return 2===t.state?(m(),s):(z(c,t,e),t.runner);i=_("cancel",e,t);if(i)if(2===t.state)t.runner.end();else{if(!t.structural)return z(c,t,e),t.runner;t.close()}else if(_("join",e,t)){if(2!==t.state)return function(e,t,n){var i="";t&&(i=oe(t,ve,!0)),n.addClass&&(i=U(i,oe(n.addClass,te))),(i=n.removeClass?U(i,oe(n.removeClass,ne)):i).length&&(n.preparationClasses=i,e.addClass(i))}(c,l?r:null,a),r=e.event=t.event,a=z(c,t,e),t.runner;A(c,e)}}else A(c,e);if(!(n=(n=e.structural)||("animate"===e.event&&0<Object.keys(e.options.to||{}).length||G(e))))return m(),I(u),s;var f=(t.counter||0)+1;return e.counter=f,N(u,1,e),b.$$postDigest(function(){c=Y(o);var e=!(t=k.get(u)),t=t||{},n=0<(c.parent()||[]).length&&("animate"===t.event||t.structural||G(t));if(e||t.counter!==f||!n)return e&&(D(c,a),ae(c,a)),(e||l&&t.event!==r)&&(a.domOperation(),s.end()),void(n||I(u));r=!t.structural&&G(t,!0)?"setClass":t.event,N(u,2);e=C(c,r,t.options);s.setHost(e),g(s,r,"start",L(a)),e.done(function(e){m(!e);e=k.get(u);e&&e.counter===f&&I(u),g(s,r,"close",L(a))})}),s;function g(e,a,s,l){p(function(){t=d,n=u,o=[],(e=M[i=a])&&fe(e,function(e){(O.call(e.node,n)||"leave"===i&&O.call(e.node,t))&&o.push(e.callback)});var t,n,i,o,e,r=o;r.length?v(function(){fe(r,function(e){e(c,s,l)}),R(s,u)}):R(s,u)}),e.progress(a,s,l)}function m(e){var t,n;t=c,(n=a).preparationClasses&&(t.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(t.removeClass(n.activeClasses),n.activeClasses=null),D(c,a),ae(c,a),a.domOperation(),s.complete(!e)}},enabled:function(e,t){var n,i=arguments.length;return 0===i?t=!!E:h(e)?(n=se(e),1===i?t=!S.get(n):(S.has(n)||W(e).on("$destroy",o),S.set(n,!t))):t=E=!!e,t}};return c;function I(e){e.removeAttribute(q),k.delete(e)}function N(e,t,n){(n=n||{}).state=t,e.setAttribute(q,t);t=k.get(e),t=t?m(t,n):n;k.set(e,t)}}]}],y=["$animateProvider",function(e){var C="ng-animate-ref",$=this.drivers=[],d="$$animationRunner",x="$$animatePrepareClasses";function k(e){return e.data(d)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(g,l,m,c,h,v,b){var y=[],u=f(g);function w(e){for(var r={children:[]},a=new h,t=0;t<e.length;t++){var n=e[t];a.set(n.domNode,e[t]={domNode:n.domNode,element:n.element,fn:n.fn,children:[]})}for(t=0;t<e.length;t++)!function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode;var i=n.parentNode;a.set(n,t);var o;for(;i;){if(o=a.get(i)){o.processed||(o=e(o));break}i=i.parentNode}(o||r).children.push(t);return t}(e[t]);var i,o=r,s=[],l=[];for(i=0;i<o.children.length;i++)l.push(o.children[i]);var c=l.length,u=0,d=[];for(i=0;i<l.length;i++){var p=l[i];c<=0&&(c=u,u=0,s.push(d),d=[]),d.push(p),p.children.forEach(function(e){u++,l.push(e)}),c--}return d.length&&s.push(d),s}return function(t,n,f){f=re(f);var e=0<=["enter","move","leave"].indexOf(n),i=new c({end:function(){s()},cancel:function(){s(!0)}});if(!$.length)return s(),i;var o=E(t.attr("class"),E(f.addClass,f.removeClass)),r=f.tempClasses;return r&&(o+=" "+r,f.tempClasses=null),e&&t.data(x,"ng-"+n+"-prepare"),t.data(d,i),y.push({element:t,classes:o,event:n,structural:e,options:f,beforeStart:function(){r=(r?r+" ":"")+S,g.addClass(t,r);var e=t.data(x);e&&(g.removeClass(t,e),e=null)},close:s}),t.on("$destroy",a),1<y.length||l.$$postDigest(function(){for(var s,l,a,c,u,t=[],e=(fe(y,function(e){k(e.element)?t.push(e):e.close()}),y.length=0,l=[],a={},fe(s=t,function(e,n){var i,o,t=se(e.element),r=e.event,r=0<=["enter","move"].indexOf(r),t=e.structural?(t=(t=t).hasAttribute(C)?[t]:t.querySelectorAll("[ng-animate-ref]"),i=[],fe(t,function(e){var t=e.getAttribute(C);t&&t.length&&i.push(e)}),i):[];t.length?(o=r?"to":"from",fe(t,function(e){var t=e.getAttribute(C);a[t]=a[t]||{},a[t][o]={animationID:n,element:W(e)}})):l.push(e)}),c={},u={},fe(a,function(e,t){var n=e.from,e=e.to;if(!n||!e)return a=(i=(n||e).animationID).toString(),void(c[a]||(c[a]=!0,l.push(s[i])));var i,o=s[n.animationID],r=s[e.animationID],a=n.animationID.toString();u[a]||((i=u[a]={structural:!0,beforeStart:function(){o.beforeStart(),r.beforeStart()},close:function(){o.close(),r.close()},classes:function(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var o=e[i];if("ng-"!==o.substring(0,3))for(var r=0;r<t.length;r++)if(o===t[r]){n.push(o);break}}return n.join(" ")}(o.classes,r.classes),from:o,to:r,anchors:[]}).classes.length?l.push(i):(l.push(o),l.push(r))),u[a].anchors.push({out:n.element,in:e.element})}),l),n=[],i=(fe(e,function(r){var e=(r.from||r).element,t=((t=f.addClass)?t+" ":"")+S,a=b.cacheKey(e[0],r.event,t,f.removeClass);n.push({element:e,domNode:se(e),fn:function(){var e,t,n,i=r.close;function o(e){e=k(e);e&&e.setHost(n)}b.containsCachedAnimationWithoutDuration(a)?i():(r.beforeStart(),(t=k(r.anchors?r.from.element||r.to.element:r.element)&&(e=function(e){for(var t=$.length-1;0<=t;t--){var n=$[t],n=m.get(n)(e);if(n)return n}}(r))?e.start:t)?((e=t()).done(function(e){i(!e)}),n=e,(t=r).from&&t.to?(o(t.from.element),o(t.to.element)):o(t.element)):i())}})}),w(n)),o=0;o<i.length;o++)for(var r=i[o],d=0;d<r.length;d++){var p=r[d],h=p.element;i[o][d]=p.fn,0===o?h.removeData(x):(p=h.data(x))&&g.addClass(h,p)}v(i)}),i;function a(){var e=k(t);!e||"leave"===n&&f.$$domOperationFired||e.end()}function s(e){t.off("$destroy",a),t.removeData(d),u(t,f),ae(t,f),f.domOperation(),r&&g.removeClass(t,r),i.complete(!e)}}}]}];e.module("ngAnimate",[],function(){me=e.noop,Me=e.copy,m=e.extend,W=e.element,fe=e.forEach,ge=e.isArray,B=e.isString,H=e.isObject,j=e.isUndefined,K=e.isDefined,w=e.isFunction,h=e.isElement}).info({angularVersion:"1.8.3"}).directive("ngAnimateSwap",["$animate",function(s){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(e,n,t,i,o){var r,a;e.$watchCollection(t.ngAnimateSwap||t.for,function(e){r&&s.leave(r),a&&(a.$destroy(),a=null),!e&&0!==e||o(function(e,t){r=e,a=t,s.enter(e,null,n)})})}}}]).directive("ngAnimateChildren",s).factory("$$rAFScheduler",["$$rAF",function(n){var i,o;function e(e){i=i.concat(e),r()}return i=e.queue=[],e.waitUntilQuiet=function(e){o&&o(),o=n(function(){o=null,e(),r()})},e;function r(){if(i.length){for(var e=i.shift(),t=0;t<e.length;t++)e[t]();o||n(function(){o||r()})}}}]).provider("$$animateQueue",b).provider("$$animateCache",function(){var r="$$ngAnimateParentKey",a=0,i=Object.create(null);this.$get=[function(){return{cacheKey:function(e,t,n,i){var o=e.parentNode,o=[o[r]||(o[r]=++a),t,e.getAttribute("class")];return n&&o.push(n),i&&o.push(i),o.join(" ")},containsCachedAnimationWithoutDuration:function(e){e=i[e];return e&&!e.isValid||!1},flush:function(){i=Object.create(null)},count:function(e){e=i[e];return e?e.total:0},get:function(e){e=i[e];return e&&e.value},put:function(e,t,n){i[e]?(i[e].total++,i[e].value=t):i[e]={total:1,value:t,isValid:n}}}}]}).provider("$$animation",y).provider("$animateCss",t).provider("$$animateCssDriver",c).provider("$$animateJs",u).provider("$$animateJsDriver",v)}(window,window.angular),!function(w){"use strict";function i(e,t){var r=[],e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,t,n,i){var o="?"===i||"*?"===i,i="*"===i||"*?"===i;return r.push({name:n,optional:o}),t=t||"",(o?"(?:"+t:t+"(?:")+(i?"(.+?)":"([^/]+)")+(o?"?)?":")")}).replace(/([/$*])/g,"\\$1");return t.ignoreTrailingSlashes&&(e=e.replace(/\/+$/,"")+"/*"),{keys:r,regexp:new RegExp("^"+e+"(?:[?#]|$)",t.caseInsensitiveMatch?"i":"")}}var r,a,t,C,n,e=w.module("ngRoute",[]).info({angularVersion:"1.8.3"}).provider("$route",function(){function b(e,t){return w.extend(Object.create(e),t)}r=w.isArray,a=w.isObject,t=w.isDefined,C=w.noop;var y={};this.when=function(e,t){var n,t=function(e,t){if(r(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(a(e))for(var o in t=t||{},e)"$"===o.charAt(0)&&"$"===o.charAt(1)||(t[o]=e[o]);return t||e}(t);return w.isUndefined(t.reloadOnUrl)&&(t.reloadOnUrl=!0),w.isUndefined(t.reloadOnSearch)&&(t.reloadOnSearch=!0),w.isUndefined(t.caseInsensitiveMatch)&&(t.caseInsensitiveMatch=this.caseInsensitiveMatch),y[e]=w.extend(t,{originalPath:e},e&&i(e,t)),e&&(n="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/",y[n]=w.extend({originalPath:e,redirectTo:e},i(n,t))),this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return this.when(null,e="string"==typeof e?{redirectTo:e}:e),this},n=!0,this.eagerInstantiationEnabled=function(e){return t(e)?(n=e,this):n},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(a,s,o,r,l,i,c,e){var u,d,p=!1,h={routes:y,reload:function(){var e={defaultPrevented:!(p=!0),preventDefault:function(){this.defaultPrevented=!0,p=!1}};a.$evalAsync(function(){t(e),e.defaultPrevented||n()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw $("norout","Tried updating route with no current route");e=w.extend({},this.current.params,e),s.path(v(this.current.$$route.originalPath,e)),s.search(e)}};return a.$on("$locationChangeStart",t),a.$on("$locationChangeSuccess",n),h;function t(e){var n,i,t,o,r=h.current;w.forEach(y,function(e,t){!i&&(n=function(e,t){var n=t.keys,i={};if(!t.regexp)return null;var o=t.regexp.exec(e);if(!o)return null;for(var r=1,a=o.length;r<a;++r){var s=n[r-1],l=o[r];s&&l&&(i[s.name]=l)}return i}(s.path(),e))&&((i=b(e,{params:w.extend({},s.search(),n),pathParams:n})).$$route=e)}),u=i||y.null&&b(y.null,{params:{},pathParams:{}}),t=u,o=r,(d=!p&&t&&o&&t.$$route===o.$$route&&(!t.reloadOnUrl||!t.reloadOnSearch&&w.equals(t.pathParams,o.pathParams)))||!r&&!u||a.$broadcast("$routeChangeStart",u,r).defaultPrevented&&e&&e.preventDefault()}function n(){var t,n=h.current,i=u;d?(n.params=i.params,w.copy(n.params,o),a.$broadcast("$routeUpdate",n)):(i||n)&&(p=!1,h.current=i,t=r.resolve(i),e.$$incOutstandingRequestCount("$route"),t.then(f).then(g).then(function(e){return e&&t.then(m).then(function(e){i===h.current&&(i&&(i.locals=e,w.copy(i.params,o)),a.$broadcast("$routeChangeSuccess",i,n))})}).catch(function(e){i===h.current&&a.$broadcast("$routeChangeError",i,n,e)}).finally(function(){e.$$completeOutstandingRequest(C,"$route")}))}function f(e){var t,n,i={route:e,hasRedirection:!1};if(e)if(e.redirectTo)w.isString(e.redirectTo)?(i.path=v(e.redirectTo,e.params),i.search=e.params,i.hasRedirection=!0):(n=s.path(),t=s.search(),n=e.redirectTo(e.pathParams,n,t),w.isDefined(n)&&(i.url=n,i.hasRedirection=!0));else if(e.resolveRedirectTo)return r.resolve(l.invoke(e.resolveRedirectTo)).then(function(e){return w.isDefined(e)&&(i.url=e,i.hasRedirection=!0),i});return i}function g(e){var t,n,i=!0;return e.route!==h.current?i=!1:e.hasRedirection&&(t=s.url(),(n=e.url)?s.url(n).replace():n=s.path(e.path).search(e.search).replace().url(),n!==t&&(i=!1)),i}function m(e){var n;if(e)return n=w.extend({},e.resolve),w.forEach(n,function(e,t){n[t]=w.isString(e)?l.get(e):l.invoke(e,null,null,t)}),e=function(e){var t,n;w.isDefined(t=e.template)?w.isFunction(t)&&(t=t(e.params)):w.isDefined(n=e.templateUrl)&&(w.isFunction(n)&&(n=n(e.params)),w.isDefined(n)&&(e.loadedTemplateUrl=c.valueOf(n),t=i(n)));return t}(e),w.isDefined(e)&&(n.$template=e),r.all(n)}function v(e,n){var i=[];return w.forEach((e||"").split(":"),function(e,t){0===t?i.push(e):(e=(t=e.match(/(\w+)(?:[?*])?(.*)/))[1],i.push(n[e]),i.push(t[2]||""),delete n[e])}),i.join("")}}]}).run(o),$=w.$$minErr("ngRoute");function o(e){n&&e.get("$route")}function s(p,h,f){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,e,t,r){var a,s,n,l=e.autoscroll,c=e.onload||"";function u(){n&&(f.cancel(n),n=null),a&&(a.$destroy(),a=null),s&&((n=f.leave(s)).done(function(e){!1!==e&&(n=null)}),s=null)}function d(){var e,t,n=p.current&&p.current.locals,n=n&&n.$template;w.isDefined(n)?(n=i.$new(),e=p.current,t=r(n,function(e){f.enter(e,null,s||o).done(function(e){!1===e||!w.isDefined(l)||l&&!i.$eval(l)||h()}),u()}),s=t,(a=e.scope=n).$emit("$viewContentLoaded"),a.$eval(c)):u()}i.$on("$routeChangeSuccess",d),d()}}}function l(a,s,l){return{restrict:"ECA",priority:-400,link:function(e,t){var n,i=l.current,o=i.locals,r=(t.html(o.$template),a(t.contents()));i.controller&&(o.$scope=e,n=s(i.controller,o),i.controllerAs&&(e[i.controllerAs]=n),t.data("$ngControllerController",n),t.children().data("$ngControllerController",n)),e[i.resolveAs||"$resolve"]=o,r(e)}}}o.$inject=["$injector"],e.provider("$routeParams",function(){this.$get=function(){return{}}}),e.directive("ngView",s),e.directive("ngView",l),s.$inject=["$route","$anchorScroll","$animate"],l.$inject=["$compile","$controller","$route"]}((window,window.angular)),!function(y,$){"use strict";var w,C,x,k,S,E,M,P,T,D,A=$.$$minErr("$sanitize");$.module("ngSanitize",[]).provider("$sanitize",function(){var t=!1,i=!1,n=(this.$get=["$$sanitizeUri",function(n){return t=!0,i&&C(u,l),function(e){var t=[];return T(e,D(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(e){return S(e)?(i=e,this):i},this.addValidElements=function(e){return t||(k(e)&&(e={htmlElements:e}),g(l,e.svgElements),g(s,e.htmlVoidElements),g(u,e.htmlVoidElements),g(u,e.htmlElements)),this},this.addValidAttrs=function(e){return t||C(p,f(e,!0)),this},w=$.bind,C=$.extend,x=$.forEach,k=$.isArray,S=$.isDefined,E=$.$$lowercase,M=$.noop,T=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var n=m(e);if(!n)return"";var i=5;do{if(0===i)throw A("uinput","Failed to sanitize html because the input is unstable")}while(i--,e=n.innerHTML,n=m(e),e!==n.innerHTML);var o,r=n.firstChild;for(;r;){switch(r.nodeType){case 1:t.start(r.nodeName.toLowerCase(),function(e){for(var t={},n=0,i=e.length;n<i;n++){var o=e[n];t[o.name]=o.value}return t}(r.attributes));break;case 3:t.chars(r.textContent)}if(!((o=r.firstChild)||(1===r.nodeType&&t.end(r.nodeName.toLowerCase()),o=b("nextSibling",r))))for(;null==o&&(r=b("parentNode",r))!==n;)o=b("nextSibling",r),1===r.nodeType&&t.end(r.nodeName.toLowerCase());r=o}for(;r=n.firstChild;)n.removeChild(r)},D=function(e,r){var t=!1,a=w(e,e.push);return{start:function(o,e){o=E(o),(t=!t&&c[o]?o:t)||!0!==u[o]||(a("<"),a(o),x(e,function(e,t){var n=E(t),i="img"===o&&"src"===n||"background"===n;!0!==p[n]||!0===d[n]&&!r(e,i)||(a(" "),a(t),a('="'),a(v(e)),a('"'))}),a(">"))},end:function(e){e=E(e),t||!0!==u[e]||!0===s[e]||(a("</"),a(e),a(">")),e==t&&(t=!1)},chars:function(e){t||a(v(e))}}},P=y.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},/[\uD800-\uDBFF][\uDC00-\uDFFF]/g),o=/([^#-~ |!])/g,s=h("area,br,col,hr,img,wbr"),e=h("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),r=h("rp,rt"),a=C({},r,e),e=C({},e,h("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),r=C({},r,h("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),l=h("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),c=h("script,style"),u=C({},s,e,r,a),d=h("background,cite,href,longdesc,src,xlink:href,xml:base"),e=h("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),r=h("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),p=C({},d,r,e);function h(e,t){return f(e.split(","),t)}function f(e,t){for(var n={},i=0;i<e.length;i++)n[t?E(e[i]):e[i]]=!0;return n}function g(e,t){t&&t.length&&C(e,f(t))}var m=function(n,t){if(function(){try{return o("")}catch(e){return}}())return o;if(!t||!t.implementation)throw A("noinert","Can't create an inert html document");var e=t.implementation.createHTMLDocument("inert"),i=(e.documentElement||e.getDocumentElement()).querySelector("body");return function(e){i.innerHTML=e,t.documentMode&&function e(t){for(;t;){if(t.nodeType===y.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,o=n.length;i<o;i++){var r=n[i],a=r.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(r),i--,o--)}var s=t.firstChild;s&&e(s),t=b("nextSibling",t)}}(i);return i};function o(e){e="<remove></remove>"+e;try{var t=(new n.DOMParser).parseFromString(e,"text/html").body;return t.firstChild.remove(),t}catch(e){return}}}(y,y.document);function v(e){return e.replace(/&/g,"&amp;").replace(n,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(o,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(e,t){e=t[e];if(e&&P.call(t,e))throw A("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return e}}).info({angularVersion:"1.8.3"}),$.module("ngSanitize").filter("linky",["$sanitize",function(f){var g=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,m=/^mailto:/i,v=$.$$minErr("linky"),b=$.isDefined,y=$.isFunction,w=$.isObject,C=$.isString;return function(e,t,n){if(null==e||""===e)return e;if(!C(e))throw v("notstring","Expected string but received: {0}",e);for(var i,o,r,a=y(n)?n:w(n)?function(){return n}:function(){return{}},s=e,l=[];i=s.match(g);){o=i[0],i[2]||i[4]||(o=(i[3]?"http://":"mailto:")+o),r=i.index,h(s.substr(0,r)),p=c=d=u=void 0;var c,u=o,d=i[0].replace(m,""),p=a(u);for(c in l.push("<a "),p)l.push(c+'="'+p[c]+'" ');!b(t)||"target"in p||l.push('target="',t,'" '),l.push('href="',u.replace(/"/g,"&quot;"),'">'),h(d),l.push("</a>"),s=s.substring(r+i[0].length)}return h(s),f(l.join(""));function h(e){var t;e&&l.push((e=e,D(t=[],M).chars(e),t.join("")))}}}])}(window,window.angular),!function(l){"use strict";function e(e,r,t){var a=t.baseHref(),s=e[0];return function(e,t,n){var i,o;s.cookie=(e=e,t=t,i=(n=(n=n)||{}).expires,o=l.isDefined(n.path)?n.path:a,l.isUndefined(t)&&(i="Thu, 01 Jan 1970 00:00:00 GMT",t=""),l.isString(i)&&(i=new Date(i)),4096<(o=(t=(t=(t=(t=(t=encodeURIComponent(e)+"="+encodeURIComponent(t))+(o?";path="+o:"")+(n.domain?";domain="+n.domain:""))+(i?";expires="+i.toUTCString():""))+(n.secure?";secure":""))+(n.samesite?";samesite="+n.samesite:"")).length+1)&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+o+" > 4096 bytes)!"),t)}}l.module("ngCookies",["ng"]).info({angularVersion:"1.8.3"}).provider("$cookies",[function(){var t=this.defaults={};function o(e){return e?l.extend({},t,e):t}this.$get=["$$cookieReader","$$cookieWriter",function(t,i){return{get:function(e){return t()[e]},getObject:function(e){e=this.get(e);return e&&l.fromJson(e)},getAll:function(){return t()},put:function(e,t,n){i(e,t,o(n))},putObject:function(e,t,n){this.put(e,l.toJson(t),n)},remove:function(e,t){i(e,void 0,o(t))}}}]}]),e.$inject=["$document","$log","$browser"],l.module("ngCookies").provider("$$cookieWriter",function(){this.$get=e})}((window,window.angular)),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(h,f,g,e){var m=e.has("$animateCss")?e.get("$animateCss"):null;return{link:function(t,n,e){var i=g(e.expanding),o=g(e.expanded),r=g(e.collapsing),a=g(e.collapsed),s=!1,l={},c={};function u(e){return s?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function d(){n.removeClass("collapsing").addClass("collapse").css(l),o(t)}function p(){n.css(c),n.removeClass("collapsing").addClass("collapse"),a(t)}c=(s=!!("horizontal"in e))?(l={width:""},{width:"0"}):(l={height:""},{height:"0"}),t.$eval(e.uibCollapse)||n.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(l),t.$watch(e.uibCollapse,function(e){e?n.hasClass("collapse")||n.hasClass("in")?f.resolve(r(t)).then(function(){n.css(u(n[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),m?m(n,{removeClass:"in",to:c}).start().finally(p):h.removeClass(n,"in",{to:c}).then(p)},angular.noop):p():n.hasClass("collapse")&&n.hasClass("in")||f.resolve(i(t)).then(function(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),m?m(n,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:u(n[0])}).start().finally(d):h.addClass(n,"in",{css:{overflow:"hidden"},to:u(n[0])}).then(d)},angular.noop)})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,n,i){this.groups=[],this.closeOthers=function(t){(angular.isDefined(n.closeOthers)?e.$eval(n.closeOthers):i.closeOthers)&&angular.forEach(this.groups,function(e){e!==t&&(e.isOpen=!1)})},this.addGroup=function(t){var n=this;this.groups.push(t),t.$on("$destroy",function(e){n.removeGroup(t)})},this.removeGroup=function(e){e=this.groups.indexOf(e);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,n,e,i){n.addClass("panel"),i.addGroup(t),t.openClass=e.openClass||"panel-open",t.panelClass=e.panelClass||"panel-default",t.$watch("isOpen",function(e){n.toggleClass(t.openClass,!!e),e&&i.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)};e="accordiongroup-"+t.$id+"-"+Math.floor(1e4*Math.random());t.headingId=e+"-tab",t.panelId=e+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,o){i.setHeading(o(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,n,t,i){e.$watch(function(){return i[t.uibAccordionTransclude]},function(e){var t;e&&((t=angular.element(n[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"))).html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,i,o){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");t=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(e.$parent):null;t&&o(function(){e.close()},parseInt(t,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(a){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,e){var o=e[0],r=e[1],e=a(i.uibUncheckable);n.find("input").css({display:"none"}),r.$render=function(){n.toggleClass(o.activeClass,angular.equals(r.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){var e;i.disabled||((e=n.hasClass(o.activeClass))&&!angular.isDefined(i.uncheckable)||t.$apply(function(){r.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),r.$render()}))}),i.uibUncheckable&&t.$watch(e,function(e){i.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(n,e,t,i){var o=i[0],r=i[1];function a(){return s(t.btnCheckboxTrue,!0)}function s(e,t){return angular.isDefined(e)?n.$eval(e):t}e.find("input").css({display:"none"}),r.$render=function(){e.toggleClass(o.activeClass,angular.equals(r.$modelValue,a()))},e.on(o.toggleEvent,function(){t.disabled||n.$apply(function(){r.$setViewValue(e.hasClass(o.activeClass)?s(t.btnCheckboxFalse,!1):a()),r.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(i,o,t,e,r){var n,a,s=this,l=s.slides=i.slides=[],c="uib-slideDirection",u=i.active,d=!1;function p(e){for(var t=0;t<l.length;t++)l[t].slide.active=t===e}function h(e){for(var t=0;t<l.length;t++)if(l[t].slide===e)return t}function f(){n&&(t.cancel(n),n=null)}function g(){f();var e=+i.interval;!isNaN(e)&&0<e&&(n=t(m,e))}function m(){var e=+i.interval;a&&!isNaN(e)&&0<e&&l.length?i.next():i.pause()}o.addClass("carousel"),s.addSlide=function(e,t){l.push({slide:e,element:t}),l.sort(function(e,t){return+e.slide.index-+t.slide.index}),e.index!==i.active&&(1!==l.length||angular.isNumber(i.active))||(i.$currentTransition&&(i.$currentTransition=null),u=e.index,i.active=e.index,p(u),s.select(l[h(e)]),1===l.length&&i.play())},s.getCurrentIndex=function(){for(var e=0;e<l.length;e++)if(l[e].slide.index===u)return e},s.next=i.next=function(){var e=(s.getCurrentIndex()+1)%l.length;if(0!=e||!i.noWrap())return s.select(l[e],"next");i.pause()},s.prev=i.prev=function(){var e=s.getCurrentIndex()-1<0?l.length-1:s.getCurrentIndex()-1;if(!i.noWrap()||e!=l.length-1)return s.select(l[e],"prev");i.pause()},s.removeSlide=function(e){e=h(e);l.splice(e,1),0<l.length&&u===e?e>=l.length?(u=l.length-1,p(i.active=u),s.select(l[l.length-1])):(u=e,p(i.active=u),s.select(l[e])):e<u&&(u--,i.active=u),0===l.length&&(u=null,i.active=null)},s.select=i.select=function(e,t){var n=h(e.slide);void 0===t&&(t=n>s.getCurrentIndex()?"next":"prev"),e.slide.index===u||i.$currentTransition||(e=e.slide,n=n,t=t,d||(angular.extend(e,{direction:t}),angular.extend(l[u].slide||{},{direction:t}),r.enabled(o)&&!i.$currentTransition&&l[n].element&&1<s.slides.length&&(l[n].element.data(c,e.direction),t=s.getCurrentIndex(),angular.isNumber(t)&&l[t].element&&l[t].element.data(c,e.direction),i.$currentTransition=!0,r.on("addClass",l[n].element,function(e,t){"close"===t&&(i.$currentTransition=null,r.off("addClass",e))})),i.active=e.index,u=e.index,p(n),g()))},i.indexOfSlide=function(e){return+e.slide.index},i.isActive=function(e){return i.active===e.slide.index},i.isPrevDisabled=function(){return 0===i.active&&i.noWrap()},i.isNextDisabled=function(){return i.active===l.length-1&&i.noWrap()},i.pause=function(){i.noPause||(a=!1,f())},i.play=function(){a||(a=!0,g())},o.on("mouseenter",i.pause),o.on("mouseleave",i.play),i.$on("$destroy",function(){d=!0,f()}),i.$watch("noTransition",function(e){r.enabled(o,!e)}),i.$watch("interval",g),i.$watchCollection("slides",function(e){e.length||(i.$currentTransition=null)}),i.$watch("active",function(e){if(angular.isNumber(e)&&u!==e){for(var t=0;t<l.length;t++)if(l[t].slide.index===e){e=t;break}l[e]&&(p(e),s.select(l[e]),u=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(o){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,t,n,i){t.addClass("item"),i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(e){o[e?"addClass":"removeClass"](t,"active")})}}}]).animation(".item",["$animateCss",function(r){var a="uib-slideDirection";function s(e,t,n){e.removeClass(t),n&&n()}return{beforeAddClass:function(e,t,n){var i,o;if("active"===t)return t=e.data(a),o=s.bind(this,e,(i="next"===t?"left":"right")+" "+t,n),e.addClass(t),r(e,{addClass:i}).start().done(o),function(){};n()},beforeRemoveClass:function(e,t,n){var i;if("active"===t)return t="next"===e.data(a)?"left":"right",i=s.bind(this,e,t,n),r(e,{addClass:t}).start().done(i),function(){};n()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(p,h,n,f,t){var g,m,v=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function i(e){return t(m,{key:e},!0)[0]}function o(e){for(var t,n,i=[],o=0;o<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(o))(o+1>=e.length||"'"!==e.charAt(o+1))&&(i.push(function(e,t,n){return function(){return e.substr(t+1,n-t-1)}}(e,n,o)),n=null);else if(o===e.length)for(;n<e.length;)t=r(e,n),i.push(t),n=t.endIdx;o++}else"'"===e.charAt(o)?(n=o,o++):(t=r(e,o),i.push(t.parser),o=t.endIdx);return i}function r(e,t){for(var n,i=e.substr(t),o=0;o<m.length;o++)if(new RegExp("^"+m[o].key).test(i))return{endIdx:t+(n=m[o]).key.length,parser:n.formatter};return{endIdx:t+1,parser:function(){return i.charAt(0)}}}function a(e){return parseInt(e,10)}function s(e,t){e=e.replace(/:/g,"");e=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(e)?t:e}function l(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function c(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return l(e,n*(s(t,i)-i))}this.init=function(){g=h.id,this.parsers={},this.formatters={},m=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){this.year=(e=+e)<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:h.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=h.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:h.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=h.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:h.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:h.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:h.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var e=e.match(/([+-])(\d{2})(\d{2})/),t=e[1],n=e[2],e=e[3];this.hours+=a(t+n),this.minutes+=a(t+e)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:h.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:h.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:h.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:h.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],1<=angular.version.major&&4<angular.version.minor&&m.push({key:"LLLL",regex:h.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=h.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){e=i(e);return e&&e.apply||null},this.overrideParser=function(e,t){e=i(e);e&&angular.isFunction(t)&&(this.parsers={},e.apply=t)}.bind(this),this.filter=function(n,e){return angular.isDate(n)&&!isNaN(n)&&e?(e=h.DATETIME_FORMATS[e]||e,h.id!==g&&this.init(),this.formatters[e]||(this.formatters[e]=o(e)),this.formatters[e].reduce(function(e,t){return e+t(n)},"")):""},this.parse=function(e,t,n){if(!angular.isString(e)||!t)return e;t=(t=h.DATETIME_FORMATS[t]||t).replace(v,"\\$&"),h.id!==g&&this.init(),this.parsers[t]||(this.parsers[t]=function(o){var r=[],a=o.split(""),e=o.indexOf("'");if(-1<e){var t=!1;o=o.split("");for(var n=e;n<o.length;n++)t?("'"===o[n]&&(n+1<o.length&&"'"===o[n+1]?(o[n+1]="$",a[n+1]=""):(a[n]="",t=!1)),o[n]="$"):"'"===o[n]&&(o[n]="$",t=!(a[n]=""));o=o.join("")}return angular.forEach(m,function(e){var t=o.indexOf(e.key);if(-1<t){o=o.split(""),a[t]="("+e.regex+")",o[t]="$";for(var n=t+1,i=t+e.key.length;n<i;n++)a[n]="",o[n]="$";o=o.join(""),r.push({index:t,key:e.key,apply:e.apply,matcher:e.regex})}}),{regex:new RegExp("^"+a.join("")+"$"),map:f(r,"index")}}(t));var t=this.parsers[t],i=t.regex,o=t.map,r=e.match(i),a=!1;if(r&&r.length){for(var s,l=angular.isDate(n)&&!isNaN(n.getTime())?{year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),milliseconds:n.getMilliseconds()}:(n&&p.warn("dateparser:","baseDate is not a valid date"),{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0}),c=1,u=r.length;c<u;c++){var d=o[c-1];"Z"===d.matcher&&(a=!0),d.apply&&d.apply.call(l,r[c])}t=a?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,e=a?Date.prototype.setUTCHours:Date.prototype.setHours;return function(e,t,n){if(n<1)return;if(1===t&&28<n)return 29===n&&(e%4==0&&e%100!=0||e%400==0);return 3!==t&&5!==t&&8!==t&&10!==t||n<31}(l.year,l.month,l.date)&&(!angular.isDate(n)||isNaN(n.getTime())||a?(s=new Date(0),t.call(s,l.year,l.month,l.date),e.call(s,l.hours||0,l.minutes||0,l.seconds||0,l.milliseconds||0)):(s=new Date(n),t.call(s,l.year,l.month,l.date),e.call(s,l.hours,l.minutes,l.seconds,l.milliseconds))),s}},this.toTimezone=function(e,t){return e&&t?c(e,t):e},this.fromTimezone=function(e,t){return e&&t?c(e,t,!0):e},this.timezoneToOffset=s,this.addDateMinutes=l,this.convertTimezoneToLocal=c}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(d){var r=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,p=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(e,t){var i=[],l=[],c={},t=t.uibIsClass.match(r),u=t[2],n=t[1].split(",");return function(s,e,t){i.push(s),l.push({scope:s,element:e}),n.forEach(function(e,t){var n,i=s,o=e.match(p),r=i.$eval(o[1]),o=o[2],a=c[e];a||(n=function(t){var n=null;l.some(function(e){if(e.scope.$eval(u)===t)return n=e,!0}),a.lastActivated!==n&&(a.lastActivated&&d.removeClass(a.lastActivated.element,r),n&&d.addClass(n.element,r),a.lastActivated=n)},c[e]=a={lastActivated:null,scope:i,watchFn:n,compareWithExp:o,watcher:i.$watch(o,n)}),a.watchFn(i.$eval(o))}),s.$on("$destroy",o)};function o(e){var t,n=e.targetScope,e=i.indexOf(n);i.splice(e,1),l.splice(e,1),i.length?(t=i[0],angular.forEach(c,function(e){e.scope===n&&(e.watcher=t.$watch(e.compareWithExp,e.watchFn),e.scope=t)})):c={}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(o,e,t,n,i,r,a,s,l,c,u,d){var p=this,h={$setViewValue:angular.noop},f={},g=[];e.addClass("uib-datepicker"),t.$set("role","application"),o.datepickerOptions||(o.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":o[t]=o.datepickerOptions[t]||angular.noop;break;case"datepickerMode":o.datepickerMode=(angular.isDefined(o.datepickerOptions.datepickerMode)?o.datepickerOptions:l).datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[t]=angular.isDefined(o.datepickerOptions[t])?i(o.datepickerOptions[t])(o.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[t]=(angular.isDefined(o.datepickerOptions[t])?o.datepickerOptions:l)[t];break;case"startingDay":angular.isDefined(o.datepickerOptions.startingDay)?p.startingDay=o.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?p.startingDay=l.startingDay:p.startingDay=(r.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":o.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?p[t]=d.fromTimezone(new Date(e),f.getOption("timezone")):(c&&a.warn("Literal date support has been deprecated, please switch to date object usage"),p[t]=new Date(s(e,"medium"))):p[t]=l[t]?d.fromTimezone(new Date(l[t]),f.getOption("timezone")):null,p.refreshView()});break;case"maxMode":case"minMode":o.datepickerOptions[t]?o.$watch(function(){return o.datepickerOptions[t]},function(e){p[t]=o[t]=angular.isDefined(e)?e:o.datepickerOptions[t],("minMode"===t&&p.modes.indexOf(o.datepickerOptions.datepickerMode)<p.modes.indexOf(p[t])||"maxMode"===t&&p.modes.indexOf(o.datepickerOptions.datepickerMode)>p.modes.indexOf(p[t]))&&(o.datepickerMode=p[t],o.datepickerOptions.datepickerMode=p[t])}):p[t]=o[t]=l[t]||null}}),o.uniqueId="datepicker-"+o.$id+"-"+Math.floor(1e4*Math.random()),o.disabled=angular.isDefined(t.disabled)||!1,angular.isDefined(t.ngDisabled)&&g.push(o.$parent.$watch(t.ngDisabled,function(e){o.disabled=e,p.refreshView()})),o.isActive=function(e){return 0===p.compare(e.date,p.activeDate)&&(o.activeDateId=e.uid,!0)},this.init=function(e){f=function(e){var t;{var n;angular.version.minor<6?(t=e.$options||o.datepickerOptions.ngModelOptions||l.ngModelOptions||{}).getOption=function(e){return t[e]}:(n=e.$options.getOption("timezone")||(o.datepickerOptions.ngModelOptions?o.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null),t=e.$options.createChild(l.ngModelOptions).createChild(o.datepickerOptions.ngModelOptions).createChild(e.$options).createChild({timezone:n}))}return t}(h=e),o.datepickerOptions.initDate?(p.activeDate=d.fromTimezone(o.datepickerOptions.initDate,f.getOption("timezone"))||new Date,o.$watch("datepickerOptions.initDate",function(e){e&&(h.$isEmpty(h.$modelValue)||h.$invalid)&&(p.activeDate=d.fromTimezone(e,f.getOption("timezone")),p.refreshView())})):p.activeDate=new Date;e=h.$modelValue?new Date(h.$modelValue):new Date;this.activeDate=isNaN(e)?d.fromTimezone(new Date,f.getOption("timezone")):d.fromTimezone(e,f.getOption("timezone")),h.$render=function(){p.render()}},this.render=function(){var e;h.$viewValue&&(e=new Date(h.$viewValue),!isNaN(e)?this.activeDate=d.fromTimezone(e,f.getOption("timezone")):u||a.error('Datepicker directive: "ng-model" value must be a Date object')),this.refreshView()},this.refreshView=function(){var e;this.element&&(o.selectedDt=null,this._refreshView(),o.activeDt&&(o.activeDateId=o.activeDt.uid),e=h.$viewValue?new Date(h.$viewValue):null,e=d.fromTimezone(e,f.getOption("timezone")),h.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e)))},this.createDateObject=function(e,t){var n=h.$viewValue?new Date(h.$viewValue):null,n=d.fromTimezone(n,f.getOption("timezone")),i=new Date,i=d.fromTimezone(i,f.getOption("timezone")),i=this.compare(e,i),t={date:e,label:d.filter(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),past:i<0,current:0===i,future:0<i,customClass:this.customClass(e)||null};return n&&0===this.compare(e,n)&&(o.selectedDt=t),p.activeDate&&0===this.compare(t.date,p.activeDate)&&(o.activeDt=t),t},this.isDisabled=function(e){return o.disabled||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&0<this.compare(e,this.maxDate)||o.dateDisabled&&o.dateDisabled({date:e,mode:o.datepickerMode})},this.customClass=function(e){return o.customClass({date:e,mode:o.datepickerMode})},this.split=function(e,t){for(var n=[];0<e.length;)n.push(e.splice(0,t));return n},o.select=function(e){var t;o.datepickerMode===p.minMode?((t=h.$viewValue?d.fromTimezone(new Date(h.$viewValue),f.getOption("timezone")):new Date(0,0,0,0,0,0,0)).setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t=d.toTimezone(t,f.getOption("timezone")),h.$setViewValue(t),h.$render()):(p.activeDate=e,m(p.modes[p.modes.indexOf(o.datepickerMode)-1]),o.$emit("uib:datepicker.mode")),o.$broadcast("uib:datepicker.focus")},o.move=function(e){var t=p.activeDate.getFullYear()+e*(p.step.years||0),e=p.activeDate.getMonth()+e*(p.step.months||0);p.activeDate.setFullYear(t,e,1),p.refreshView()},o.toggleMode=function(e){e=e||1,o.datepickerMode===p.maxMode&&1===e||o.datepickerMode===p.minMode&&-1===e||(m(p.modes[p.modes.indexOf(o.datepickerMode)+e]),o.$emit("uib:datepicker.mode"))},o.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function m(e){o.datepickerMode=e,o.datepickerOptions.datepickerMode=e}o.$on("uib:datepicker.focus",function(){p.element[0].focus()}),o.keydown=function(e){var t=o.keys[e.which];!t||e.shiftKey||e.altKey||o.disabled||(e.preventDefault(),p.shortcutPropagation||e.stopPropagation(),"enter"===t||"space"===t?p.isDisabled(p.activeDate)||o.select(p.activeDate):!e.ctrlKey||"up"!==t&&"down"!==t?(p.handleKeyDown(t,e),p.refreshView()):o.toggleMode("up"===t?1:-1))},e.on("keydown",function(e){o.$apply(function(){o.keydown(e)})}),o.$on("$destroy",function(){for(;g.length;)g.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(d,e,p){var n=[31,28,31,30,31,30,31,31,30,31,30,31];function o(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?n[t]:29}this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),d.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),o=new Date(e),r=0;r<t;)n=new Date(o),i[r++]=n,o.setDate(o.getDate()+1);return i},this._refreshView=function(){for(var e=this.activeDate.getFullYear(),t=this.activeDate.getMonth(),n=new Date(this.activeDate),e=(n.setFullYear(e,t,1),this.startingDay-n.getDay()),e=0<e?7-e:-e,n=new Date(n),i=(0<e&&n.setDate(1-e),this.getDates(n,42)),o=0;o<42;o++)i[o]=angular.extend(this.createDateObject(i[o],this.formatDay),{secondary:i[o].getMonth()!==t,uid:d.uniqueId+"-"+o});d.labels=new Array(7);for(var r,a,s=0;s<7;s++)d.labels[s]={abbr:p(i[s].date,this.formatDayHeader),full:p(i[s].date,"EEEE")};if(d.title=p(this.activeDate,this.formatDayTitle),d.rows=this.split(i,7),d.showWeeks){d.weekNumbers=[];for(var l=(11-this.startingDay)%7,c=d.rows.length,u=0;u<c;u++)d.weekNumbers.push((r=d.rows[u][l].date,a=void 0,(r=new Date(r)).setDate(r.getDate()+4-(r.getDay()||7)),a=r.getTime(),r.setMonth(0),r.setDate(1),Math.floor(Math.round((a-r)/864e5)/7)+1))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n,i=this.activeDate.getDate();"left"===e?i-=1:"up"===e?i-=7:"right"===e?i+=1:"down"===e?i+=7:"pageup"===e||"pagedown"===e?(n=this.activeDate.getMonth()+("pageup"===e?-1:1),this.activeDate.setMonth(n,1),i=Math.min(o(this.activeDate.getFullYear(),this.activeDate.getMonth()),i)):"home"===e?i=1:"end"===e&&(i=o(this.activeDate.getFullYear(),this.activeDate.getMonth())),this.activeDate.setDate(i)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(o,e,r){this.step={years:1},this.element=e,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var e,t=new Array(12),n=this.activeDate.getFullYear(),i=0;i<12;i++)(e=new Date(this.activeDate)).setFullYear(n,i,1),t[i]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:o.uniqueId+"-"+i});o.title=r(this.activeDate,this.formatMonthTitle),o.rows=this.split(t,this.monthColumns),o.yearHeaderColspan=3<this.monthColumns?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n,i=this.activeDate.getMonth();"left"===e?i-=1:"up"===e?i-=this.monthColumns:"right"===e?i+=1:"down"===e?i+=this.monthColumns:"pageup"===e||"pagedown"===e?(n=this.activeDate.getFullYear()+("pageup"===e?-1:1),this.activeDate.setFullYear(n)):"home"===e?i=0:"end"===e&&(i=11),this.activeDate.setMonth(i)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(o,e,t){var r,a;function s(e){return parseInt((e-1)/a,10)*a+1}this.element=e,this.yearpickerInit=function(){r=this.yearColumns,a=this.yearRows*r,this.step={years:a}},this._refreshView=function(){for(var e,t=new Array(a),n=0,i=s(this.activeDate.getFullYear());n<a;n++)(e=new Date(this.activeDate)).setFullYear(i+n,0,1),t[n]=angular.extend(this.createDateObject(e,this.formatYear),{uid:o.uniqueId+"-"+n});o.title=[t[0].label,t[a-1].label].join(" - "),o.rows=this.split(t,r),o.columns=r},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=r:"right"===e?n+=1:"down"===e?n+=r:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*a:"home"===e?n=s(this.activeDate.getFullYear()):"end"===e&&(n=s(this.activeDate.getFullYear())+a-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var o=i[0],i=i[1];o.init(i)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,i){var o=i[0];i[1].init(o)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,i){var o=i[0];i[1].init(o)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,i){var o=i[0];angular.extend(o,i[1]),o.yearpickerInit(),o.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(l,c){var t,n,u={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},d={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},o=/(HTML|BODY)/;return{getRawNode:function(e){return!e.nodeName&&e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(e){var t,n=(e=this.getRawNode(e)).offsetParent||l[0].documentElement;for(;n&&n!==l[0].documentElement&&(t=n,"static"===(c.getComputedStyle(t).position||"static"));)n=n.offsetParent;return n||l[0].documentElement},scrollbarWidth:function(e){return e?(angular.isUndefined(n)&&((e=l.find("body")).addClass("uib-position-body-scrollbar-measure"),n=c.innerWidth-e[0].clientWidth,n=isFinite(n)?n:0,e.removeClass("uib-position-body-scrollbar-measure")),n):(angular.isUndefined(t)&&(e=angular.element('<div class="uib-position-scrollbar-measure"></div>'),l.find("body").append(e),t=e[0].offsetWidth-e[0].clientWidth,t=isFinite(t)?t:0,e.remove()),t)},scrollbarPadding:function(e){e=this.getRawNode(e);var t=c.getComputedStyle(e),n=this.parseStyle(t.paddingRight),t=this.parseStyle(t.paddingBottom),e=this.scrollParent(e,!1,!0),i=this.scrollbarWidth(o.test(e.tagName));return{scrollbarWidth:i,widthOverflow:e.scrollWidth>e.clientWidth,right:n+i,originalRight:n,heightOverflow:e.scrollHeight>e.clientHeight,bottom:t+i,originalBottom:t}},isScrollable:function(e,t){e=this.getRawNode(e);t=t?u.hidden:u.normal,e=c.getComputedStyle(e);return t.test(e.overflow+e.overflowY+e.overflowX)},scrollParent:function(e,t,n){e=this.getRawNode(e);var i=t?u.hidden:u.normal,o=l[0].documentElement,t=c.getComputedStyle(e);if(n&&i.test(t.overflow+t.overflowY+t.overflowX))return e;var r="absolute"===t.position,a=e.parentElement||o;if(a===o||"fixed"===t.position)return o;for(;a.parentElement&&a!==o;){var s=c.getComputedStyle(a);if(!(r=r&&"static"!==s.position?!1:r)&&i.test(s.overflow+s.overflowY+s.overflowX))break;a=a.parentElement}return a},position:function(e,t){e=this.getRawNode(e);var n=this.offset(e),t=(t&&(t=c.getComputedStyle(e),n.top-=this.parseStyle(t.marginTop),n.left-=this.parseStyle(t.marginLeft)),this.offsetParent(e)),i={top:0,left:0};return t!==l[0].documentElement&&((i=this.offset(t)).top+=t.clientTop-t.scrollTop,i.left+=t.clientLeft-t.scrollLeft),{width:Math.round(angular.isNumber(n.width)?n.width:e.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:e.offsetHeight),top:Math.round(n.top-i.top),left:Math.round(n.left-i.left)}},offset:function(e){var t=(e=this.getRawNode(e)).getBoundingClientRect();return{width:Math.round(angular.isNumber(t.width)?t.width:e.offsetWidth),height:Math.round(angular.isNumber(t.height)?t.height:e.offsetHeight),top:Math.round(t.top+(c.pageYOffset||l[0].documentElement.scrollTop)),left:Math.round(t.left+(c.pageXOffset||l[0].documentElement.scrollLeft))}},viewportOffset:function(e,t,n){n=!1!==n;var i=(e=this.getRawNode(e)).getBoundingClientRect(),o={top:0,left:0,bottom:0,right:0},t=t?l[0].documentElement:this.scrollParent(e),e=t.getBoundingClientRect();return o.top=e.top+t.clientTop,o.left=e.left+t.clientLeft,t===l[0].documentElement&&(o.top+=c.pageYOffset,o.left+=c.pageXOffset),o.bottom=o.top+t.clientHeight,o.right=o.left+t.clientWidth,n&&(e=c.getComputedStyle(t),o.top+=this.parseStyle(e.paddingTop),o.bottom-=this.parseStyle(e.paddingBottom),o.left+=this.parseStyle(e.paddingLeft),o.right-=this.parseStyle(e.paddingRight)),{top:Math.round(i.top-o.top),bottom:Math.round(o.bottom-i.bottom),left:Math.round(i.left-o.left),right:Math.round(o.right-i.right)}},parsePlacement:function(e){var t=d.auto.test(e);return(e=(e=t?e.replace(d.auto,""):e).split("-"))[0]=e[0]||"top",d.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",d.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,t,n,i){e=this.getRawNode(e),t=this.getRawNode(t);var o,r=angular.isDefined(t.offsetWidth)?t.offsetWidth:t.prop("offsetWidth"),a=angular.isDefined(t.offsetHeight)?t.offsetHeight:t.prop("offsetHeight"),s=(n=this.parsePlacement(n),i?this.offset(e):this.position(e)),l={top:0,left:0,placement:""};switch(n[2]&&(e=this.viewportOffset(e,i),i=c.getComputedStyle(t),t=r+Math.round(Math.abs(this.parseStyle(i.marginLeft)+this.parseStyle(i.marginRight))),i=a+Math.round(Math.abs(this.parseStyle(i.marginTop)+this.parseStyle(i.marginBottom))),n[0]="top"===n[0]&&i>e.top&&i<=e.bottom?"bottom":"bottom"===n[0]&&i>e.bottom&&i<=e.top?"top":"left"===n[0]&&t>e.left&&t<=e.right?"right":"right"===n[0]&&t>e.right&&t<=e.left?"left":n[0],n[1]="top"===n[1]&&i-s.height>e.bottom&&i-s.height<=e.top?"bottom":"bottom"===n[1]&&i-s.height>e.top&&i-s.height<=e.bottom?"top":"left"===n[1]&&t-s.width>e.right&&t-s.width<=e.left?"right":"right"===n[1]&&t-s.width>e.left&&t-s.width<=e.right?"left":n[1],"center"===n[1]&&(d.vertical.test(n[0])?(o=s.width/2-r/2,e.left+o<0&&t-s.width<=e.right?n[1]="left":e.right+o<0&&t-s.width<=e.left&&(n[1]="right")):(o=s.height/2-i/2,e.top+o<0&&i-s.height<=e.bottom?n[1]="top":e.bottom+o<0&&i-s.height<=e.top&&(n[1]="bottom")))),n[0]){case"top":l.top=s.top-a;break;case"bottom":l.top=s.top+s.height;break;case"left":l.left=s.left-r;break;case"right":l.left=s.left+s.width}switch(n[1]){case"top":l.top=s.top;break;case"bottom":l.top=s.top+s.height-a;break;case"left":l.left=s.left;break;case"right":l.left=s.left+s.width-r;break;case"center":d.vertical.test(n[0])?l.left=s.left+s.width/2-r/2:l.top=s.top+s.height/2-a/2}return l.top=Math.round(l.top),l.left=Math.round(l.left),l.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],l},adjustTop:function(e,t,n,i){if(-1!==e.indexOf("top")&&n!==i)return{top:t.top-i+"px"}},positionArrow:function(e,t){var n=(e=this.getRawNode(e)).querySelector(".tooltip-inner, .popover-inner");if(n){var i=angular.element(n).hasClass("tooltip-inner"),o=i?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(o){var r={top:"",bottom:"",left:"",right:""};if("center"===(t=this.parsePlacement(t))[1])angular.element(o).css(r);else{var a="border-"+t[0]+"-width",s=c.getComputedStyle(o)[a],a="border-",n=(d.vertical.test(t[0])?a+=t[0]+"-"+t[1]:a+=t[1]+"-"+t[0],a+="-radius",c.getComputedStyle(i?n:e)[a]);switch(t[0]){case"top":r.bottom=i?"0":"-"+s;break;case"bottom":r.top=i?"0":"-"+s;break;case"left":r.right=i?"0":"-"+s;break;case"right":r.left=i?"0":"-"+s}r[t[1]]=n,angular.element(o).css(r)}}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(i,o,n,t,r,e,a,s,l,c,u,d,p,h,N,f){var g,m,v,b,y,w,C,$,x,k,S,E,M=!1,P=[];function T(e){var t=d.parse(e,g,i.date);if(isNaN(t))for(var n=0;n<E.length;n++)if(t=d.parse(e,E[n],i.date),!isNaN(t))return t;return t}function D(e){if(!(e=angular.isNumber(e)?new Date(e):e))return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=T(e);if(!isNaN(t))return d.toTimezone(t,k.getOption("timezone"))}return k.getOption("allowInvalid")?e:void 0}function A(e,t){e=e||t;return!n.ngRequired&&!e||(!(e=angular.isNumber(e)?new Date(e):e)||(!(!angular.isDate(e)||isNaN(e))||!!angular.isString(e)&&!isNaN(T(e))))}function O(e){var t,n;!i.isOpen&&i.disabled||(n=S[0],t=o[0].contains(e.target),n=void 0!==n.contains&&n.contains(e.target),!i.isOpen||t||n||i.$apply(function(){i.isOpen=!1}))}function R(e){27===e.which&&i.isOpen?(e.preventDefault(),e.stopPropagation(),i.$apply(function(){i.isOpen=!1}),o[0].focus()):40!==e.which||i.isOpen||(e.preventDefault(),e.stopPropagation(),i.$apply(function(){i.isOpen=!0}))}function I(){var e,t;i.isOpen&&(e=angular.element(S[0].querySelector(".uib-datepicker-popup")),t=n.popupPlacement||p.placement,t=c.positionElements(o,e,t,v),e.css({top:t.top+"px",left:t.left+"px"}),e.hasClass("uib-position-measure")&&e.removeClass("uib-position-measure"))}this.init=function(e){if(k=function(e){var t;angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null}).getOption=function(e){return t[e]}:t=e.$options;return t}(x=e),m=angular.isDefined(n.closeOnDateSelection)?i.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,v=angular.isDefined(n.datepickerAppendToBody)?i.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,b=angular.isDefined(n.onOpenFocus)?i.$parent.$eval(n.onOpenFocus):p.onOpenFocus,C=(angular.isDefined(n.datepickerPopupTemplateUrl)?n:p).datepickerPopupTemplateUrl,y=(angular.isDefined(n.datepickerTemplateUrl)?n:p).datepickerTemplateUrl,E=angular.isDefined(n.altInputFormats)?i.$parent.$eval(n.altInputFormats):p.altInputFormats,i.showButtonBar=angular.isDefined(n.showButtonBar)?i.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(g=p.html5Types[n.type],M=!0):(g=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){e=e||p.datepickerPopup;if(e!==g&&(g=e,x.$modelValue=null,!g))throw new Error("uibDatepickerPopup must have a date format specified.")})),!g)throw new Error("uibDatepickerPopup must have a date format specified.");if(M&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(w=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":C}),(C=angular.element(w.children()[0])).attr("template-url",y),i.datepickerOptions||(i.datepickerOptions={}),M&&"month"===n.type&&(i.datepickerOptions.datepickerMode="month",i.datepickerOptions.minMode="month"),C.attr("datepicker-options","datepickerOptions"),M?x.$formatters.push(function(e){return i.date=d.fromTimezone(e,k.getOption("timezone")),e}):(x.$$parserName="date",x.$validators.date=A,x.$parsers.unshift(D),x.$formatters.push(function(e){return x.$isEmpty(e)?i.date=e:(angular.isNumber(e)&&(e=new Date(e)),i.date=d.fromTimezone(e,k.getOption("timezone")),d.filter(i.date,g))})),x.$viewChangeListeners.push(function(){i.date=T(x.$viewValue)}),o.on("keydown",R),S=t(w)(i),w.remove(),v?s.find("body").append(S):o.after(S),i.$on("$destroy",function(){for(!0!==i.isOpen||l.$$phase||i.$apply(function(){i.isOpen=!1}),S.remove(),o.off("keydown",R),s.off("click",O),$&&$.off("scroll",I),angular.element(a).off("resize",I);P.length;)P.shift()()})},i.getText=function(e){return i[e+"Text"]||p[e+"Text"]},i.isDisabled=function(e){"today"===e&&(e=d.fromTimezone(new Date,k.getOption("timezone")));var t={};return angular.forEach(["minDate","maxDate"],function(e){i.datepickerOptions[e]?angular.isDate(i.datepickerOptions[e])?t[e]=new Date(i.datepickerOptions[e]):(f&&r.warn("Literal date support has been deprecated, please switch to date object usage"),t[e]=new Date(u(i.datepickerOptions[e],"medium"))):t[e]=null}),i.datepickerOptions&&t.minDate&&i.compare(e,t.minDate)<0||t.maxDate&&0<i.compare(e,t.maxDate)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.dateSelection=function(e){i.date=e;e=i.date?d.filter(i.date,g):null;o.val(e),x.$setViewValue(e),m&&(i.isOpen=!1,o[0].focus())},i.keydown=function(e){27===e.which&&(e.stopPropagation(),i.isOpen=!1,o[0].focus())},i.select=function(e,t){t.stopPropagation(),"today"===e&&(t=new Date,angular.isDate(i.date)?(e=new Date(i.date)).setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):(e=d.fromTimezone(t,k.getOption("timezone"))).setHours(0,0,0,0)),i.dateSelection(e)},i.close=function(e){e.stopPropagation(),i.isOpen=!1,o[0].focus()},i.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&P.push(i.$parent.$watch(e(n.ngDisabled),function(e){i.disabled=e})),i.$watch("isOpen",function(e){e?i.disabled?i.isOpen=!1:h(function(){I(),b&&i.$broadcast("uib:datepicker.focus"),s.on("click",O);var e=n.popupPlacement||p.placement;v||c.parsePlacement(e)[2]?($=$||angular.element(c.scrollParent(o)))&&$.on("scroll",I):$=null,angular.element(a).on("resize",I)},0,!1):(s.off("click",O),$&&$.off("scroll",I),angular.element(a).off("resize",I))}),i.$on("uib:datepicker.mode",function(){h(I,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,i){var o=i[0];i[1].init(o)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(r){return function(n,i){var o;return function(){var e=this,t=Array.prototype.slice.call(arguments);o&&r.cancel(o),o=r(function(){n.apply(e,t)},i)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var i={};return{entries:function(){return Object.keys(i).map(function(e){return{key:e,value:i[e]}})},get:function(e){return i[e]},hasKey:function(e){return!!i[e]},keys:function(){return Object.keys(i)},put:function(e,t){i[e]||(i[e]=[]),i[e].push(t)},remove:function(e,t){var n=i[e];n&&(-1!==(t=n.indexOf(t))&&n.splice(t,1),n.length||delete i[e])}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(o,n,e){var r=null,a=e.createNew(),s=(this.isOnlyOpen=function(n,e){e=a.get(e);if(e&&e.reduce(function(e,t){return t.scope===n?t:e},{}))return 1===e.length;return!1},this.open=function(e,t,n){var i;r||o.on("click",s),r&&r!==e&&(r.isOpen=!1),r=e,!n||(i=a.get(n))&&-1!==i.map(function(e){return e.scope}).indexOf(e)||a.put(n,{scope:e})},this.close=function(n,e,t){var i;r===n&&(o.off("click",s),o.off("keydown",this.keybindFilter),r=null),t&&(i=a.get(t))&&(i=i.reduce(function(e,t){return t.scope===n?t:e},{}))&&a.remove(t,i)},function(e){var t;r&&r.isOpen&&(e&&"disabled"===r.getAutoClose()||e&&3===e.which||(t=r.getToggleElement(),e&&t&&t[0].contains(e.target)||(t=r.getDropdownElement(),e&&"outsideClick"===r.getAutoClose()&&t&&t[0].contains(e.target)||(r.focusToggleElement(),r.isOpen=!1,n.$$phase||r.$apply()))))});this.keybindFilter=function(e){var t,n;r&&(t=r.getDropdownElement(),n=r.getToggleElement(),t=t&&t[0].contains(e.target),n=n&&n[0].contains(e.target),27===e.which?(e.stopPropagation(),r.focusToggleElement(),s()):r.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&r.isOpen&&(t||n)&&(e.preventDefault(),e.stopPropagation(),r.focusDropdownEntry(e.which)))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(c,u,d,p,e,h,f,g,m,v,b){var y,t,w=this,C=c.$new(),$=e.appendToOpenClass,x=e.openClass,k=angular.noop,S=d.onToggle?p(d.onToggle):angular.noop,n=!1,E=m.find("body");function M(){u.append(w.dropdownMenu)}u.addClass("dropdown"),this.init=function(){d.isOpen&&(t=p(d.isOpen),k=t.assign,c.$watch(t,function(e){C.isOpen=!!e})),n=angular.isDefined(d.keyboardNav)},this.toggle=function(e){return C.isOpen=arguments.length?!!e:!C.isOpen,angular.isFunction(k)&&k(C,C.isOpen),C.isOpen},this.isOpen=function(){return C.isOpen},C.getToggleElement=function(){return w.toggleElement},C.getAutoClose=function(){return d.autoClose||"always"},C.getElement=function(){return u},C.isKeynavEnabled=function(){return n},C.focusDropdownEntry=function(e){var t=(w.dropdownMenu?angular.element(w.dropdownMenu):u.find("ul").eq(0)).find("a");switch(e){case 40:angular.isNumber(w.selectedOption)?w.selectedOption=w.selectedOption===t.length-1?w.selectedOption:w.selectedOption+1:w.selectedOption=0;break;case 38:angular.isNumber(w.selectedOption)?w.selectedOption=0===w.selectedOption?0:w.selectedOption-1:w.selectedOption=t.length-1}t[w.selectedOption].focus()},C.getDropdownElement=function(){return w.dropdownMenu},C.focusToggleElement=function(){w.toggleElement&&w.toggleElement[0].focus()},C.$watch("isOpen",function(e,t){var n,i,o=null,r=!1,a=(!angular.isDefined(d.dropdownAppendTo)||(a=p(d.dropdownAppendTo)(C))&&(o=angular.element(a)),(o=(r=angular.isDefined(d.dropdownAppendToBody)&&!1!==p(d.dropdownAppendToBody)(C)?!0:r)&&!o?E:o)&&w.dropdownMenu&&(e?(o.append(w.dropdownMenu),u.on("$destroy",M)):(u.off("$destroy",M),M())),o&&w.dropdownMenu&&(n={top:(l=g.positionElements(u,w.dropdownMenu,"bottom-left",!(a=0))).top+"px",display:e?"block":"none"},(s=w.dropdownMenu.hasClass("dropdown-menu-right"))?(n.left="auto",(i=g.scrollbarPadding(o)).heightOverflow&&i.scrollbarWidth&&(a=i.scrollbarWidth),n.right=window.innerWidth-a-(l.left+u.prop("offsetWidth"))+"px"):(n.left=l.left+"px",n.right="auto"),r||(i=g.offset(o),n.top=l.top-i.top+"px",s?n.right=window.innerWidth-(l.left-i.left+u.prop("offsetWidth"))+"px":n.left=l.left-i.left+"px"),w.dropdownMenu.css(n)),o||u),r=o?$:x,s=a.hasClass(r),l=h.isOnlyOpen(c,o);s===!e&&f[o?l?"removeClass":"addClass":e?"addClass":"removeClass"](a,r).then(function(){angular.isDefined(e)&&e!==t&&S(c,{open:!!e})}),e?(w.dropdownMenuTemplateUrl?b(w.dropdownMenuTemplateUrl).then(function(e){y=C.$new(),v(e.trim())(y,function(e){w.dropdownMenu.replaceWith(e),w.dropdownMenu=e,m.on("keydown",h.keybindFilter)})}):m.on("keydown",h.keybindFilter),C.focusToggleElement(),h.open(C,u,o)):(h.close(C,u,o),w.dropdownMenuTemplateUrl&&(y&&y.$destroy(),i=angular.element('<ul class="dropdown-menu"></ul>'),w.dropdownMenu.replaceWith(i),w.dropdownMenu=i),w.selectedOption=null),angular.isFunction(k)&&k(c,e)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){i&&!angular.isDefined(n.dropdownNested)&&(t.addClass("dropdown-menu"),(n=n.templateUrl)&&(i.dropdownMenuTemplateUrl=n),i.dropdownMenu||(i.dropdownMenu=t))}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,n,i,o){var e;o&&(n.addClass("dropdown-toggle"),(o.toggleElement=n).on("click",e=function(e){e.preventDefault(),n.hasClass("disabled")||i.disabled||t.$apply(function(){o.toggle()})}),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(o.isOpen,function(e){n.attr("aria-expanded",!!e)}),t.$on("$destroy",function(){n.off("click",e)}))}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var i=[];return{add:function(e,t){i.push({key:e,value:t})},get:function(e){for(var t=0;t<i.length;t++)if(e===i[t].key)return i[t]},keys:function(){for(var e=[],t=0;t<i.length;t++)e.push(i[t].key);return e},top:function(){return i[i.length-1]},remove:function(e){for(var t=-1,n=0;n<i.length;n++)if(e===i[n].key){t=n;break}return i.splice(t,1)[0]},removeTop:function(){return i.pop()},length:function(){return i.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(r,a){var s=e.resolver?r.get(e.resolver):null;return{resolve:function(e,t,n,i){if(s)return s.resolve(e,t,n,i);var o=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?o.push(a.resolve(r.invoke(e))):angular.isString(e)?o.push(a.resolve(r.get(e))):o.push(a.resolve(e))}),a.all(o).then(function(n){var i={},o=0;return angular.forEach(e,function(e,t){i[t]=n[o++]}),i})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(r,e,t){return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),n}};function n(n,i,o){o.modalInClass&&(r.addClass(i,o.modalInClass),n.$on(t.NOW_CLOSING_EVENT,function(e,t){t=t();n.modalOptions.animation?r.removeClass(i,o.modalInClass).then(t):t()}))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(o,r,a,s){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(t,n,i){n.addClass(i.windowTopClass||""),t.size=i.size,t.close=function(e){var t=o.getTop();t&&t.value.backdrop&&"static"!==t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),o.dismiss(t.key,"backdrop click"))},n.on("click",t.close),t.$isRendered=!0;var e=r.defer();t.$$postDigest(function(){e.resolve()}),e.promise.then(function(){var e=null;i.modalInClass&&(e=a(n,{addClass:i.modalInClass}).start(),t.$on(o.NOW_CLOSING_EVENT,function(e,t){t=t();a(n,{removeClass:i.modalInClass}).start().then(t)})),r.when(e).then(function(){var e=o.getTop();e&&o.modalRendered(e.key),s[0].activeElement&&n[0].contains(s[0].activeElement)||(n[0].querySelector("[autofocus]")||n[0]).focus()})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(r){return{link:function(e,t,n,i,o){o(e.$parent,function(e){t.empty(),r.enter(e,t)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(s,e,a,l,c,u,t,n,d){var p,h,f,g="modal-open",m=n.createNew(),v=t.createNew(),b={NOW_CLOSING_EVENT:"modal.stack.now-closing"},y=0,w=null,C="data-bootstrap-modal-aria-hidden-count",$=/[A-Z]/g;function x(){for(var e=-1,t=m.keys(),n=0;n<t.length;n++)m.get(t[n]).value.backdrop&&(e=n);return e=-1<e&&e<y?y:e}function i(n,e){var i=m.get(n).value,o=i.appendTo;m.remove(n),(w=m.top())&&(y=parseInt(w.value.modalDomEl.attr("index"),10)),r(i.modalDomEl,i.modalScope,function(){var e=i.openedClass||g,t=(v.remove(e,n),v.hasKey(e));o.toggleClass(e,t),!t&&f&&f.heightOverflow&&f.scrollbarWidth&&(f.originalRight?o.css({paddingRight:f.originalRight+"px"}):o.css({paddingRight:""}),f=null),k(!0)},i.closedDeferred),p&&-1===x()&&(r(p,h,function(){0}),h=p=void 0),e&&e.focus?e.focus():o.focus&&o.focus()}function k(e){var t;0<m.length()&&(t=m.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function r(e,t,n,i){var o,r=null;function a(){a.done||(a.done=!0,s.leave(e).then(function(){n&&n(),e.remove(),i&&i.resolve()}),t.$destroy())}t.$broadcast(b.NOW_CLOSING_EVENT,function(){return o||(o=u.defer(),r=o.promise),function(){o.resolve()}}),u.when(r).then(a)}function o(e){if(e.isDefaultPrevented())return e;var t=m.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),c.$apply(function(){b.dismiss(t.key,"escape key press")}));break;case 9:var n=b.loadFocusElementList(t),i=!1;e.shiftKey?(b.isFocusInFirstItem(e,n)||b.isModalFocused(e,t))&&(i=b.focusLastFocusableElement(n)):b.isFocusInLastItem(e,n)&&(i=b.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function S(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function E(){Array.prototype.forEach.call(document.querySelectorAll("["+C+"]"),function(e){var t=parseInt(e.getAttribute(C),10)-1;e.setAttribute(C,t),t||(e.removeAttribute(C),e.removeAttribute("aria-hidden"))})}return c.$watch(x,function(e){h&&(h.index=e)}),a.on("keydown",o),c.$on("$destroy",function(){a.off("keydown",o)}),b.open=function(e,t){var n,i=a[0].activeElement,o=t.openedClass||g,e=(k(!1),w=m.top(),m.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,closedDeferred:t.closedDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass,windowTopClass:t.windowTopClass,animation:t.animation,appendTo:t.appendTo}),v.put(o,e),t.appendTo),r=x(),r=(0<=r&&!p&&((h=c.$new(!0)).modalOptions=t,h.index=r,(p=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),t.backdropClass&&p.addClass(t.backdropClass),t.animation&&p.attr("modal-animation","true"),l(p)(h),s.enter(p,e),d.isScrollable(e)&&(f=d.scrollbarPadding(e)).heightOverflow&&f.scrollbarWidth&&e.css({paddingRight:f.right+"px"})),t.component?(n=document.createElement(t.component.name.replace($,function(e,t){return(t?"-":"")+e.toLowerCase()})),(n=angular.element(n)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):n=t.content,y=w?parseInt(w.value.modalDomEl.attr("index"),10)+1:0,angular.element('<div uib-modal-window="modal-window"></div>'));r.attr({class:"modal","template-url":t.windowTemplateUrl,"window-top-class":t.windowTopClass,role:"dialog","aria-labelledby":t.ariaLabelledBy,"aria-describedby":t.ariaDescribedBy,size:t.size,index:y,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(n),t.windowClass&&r.addClass(t.windowClass),t.animation&&r.attr("modal-animation","true"),e.addClass(o),t.scope&&(t.scope.$$topModalIndex=y),s.enter(l(r)(t.scope),e),m.top().value.modalDomEl=r,m.top().value.modalOpener=i,function e(t){if(!t||"BODY"===t[0].tagName)return;n(t).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(C),10);n=n||(t?1:0),e.setAttribute(C,n+1),e.setAttribute("aria-hidden","true")});return e(t.parent());function n(t){var e=t.parent()?t.parent().children():[];return Array.prototype.filter.call(e,function(e){return e!==t[0]})}}(r)},b.close=function(e,t){var n=m.get(e);return E(),n&&S(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),i(e,n.value.modalOpener),!0):!n},b.dismiss=function(e,t){var n=m.get(e);return E(),n&&S(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),i(e,n.value.modalOpener),!0):!n},b.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},b.getTop=function(){return m.top()},b.modalRendered=function(e){e=m.get(e);e&&e.value.renderDeferred.resolve()},b.focusFirstFocusableElement=function(e){return 0<e.length&&(e[0].focus(),!0)},b.focusLastFocusableElement=function(e){return 0<e.length&&(e[e.length-1].focus(),!0)},b.isModalFocused=function(e,t){if(e&&t){t=t.value.modalDomEl;if(t&&t.length)return(e.target||e.srcElement)===t[0]}return!1},b.isFocusInFirstItem=function(e,t){return 0<t.length&&(e.target||e.srcElement)===t[0]},b.isFocusInLastItem=function(e,t){return 0<t.length&&(e.target||e.srcElement)===t[t.length-1]},b.loadFocusElementList=function(e){if(e){var e=e.value.modalDomEl;if(e&&e.length)return(e=e[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]"))&&Array.prototype.filter.call(e,function(e){return!!((e=e).offsetWidth||e.offsetHeight||e.getClientRects().length)})}},b}]).provider("$uibModal",function(){var b={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(f,o,r,a,g,s,m){var e={};var v=null;return e.getPromiseChain=function(){return v},e.open=function(l){var e,t,n,c=o.defer(),u=o.defer(),d=o.defer(),p=o.defer(),h={result:c.promise,opened:u.promise,closed:d.promise,rendered:p.promise,close:function(e){return m.close(h,e)},dismiss:function(e){return m.dismiss(h,e)}};if((l=angular.extend({},b.options,l)).resolve=l.resolve||{},l.appendTo=l.appendTo||r.find("body").eq(0),!l.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(l.component||l.template||l.templateUrl)return e=l.component?o.when(s.resolve(l.resolve,{},null,null)):o.all([(t=l).template?o.when(t.template):a(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl),s.resolve(l.resolve,{},null,null)]),n=v=o.all([v]).then(i,i).then(function(o){var e,t=l.scope||f,r=t.$new(),n=(r.$close=h.close,r.$dismiss=h.dismiss,r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")}),{scope:r,deferred:c,renderDeferred:p,closedDeferred:d,animation:l.animation,backdrop:l.backdrop,keyboard:l.keyboard,backdropClass:l.backdropClass,windowTopClass:l.windowTopClass,windowClass:l.windowClass,windowTemplateUrl:l.windowTemplateUrl,ariaLabelledBy:l.ariaLabelledBy,ariaDescribedBy:l.ariaDescribedBy,size:l.size,openedClass:l.openedClass,appendTo:l.appendTo}),i={},a={};function s(n,e,t,i){n.$scope=r,n.$scope.$resolve={},t?n.$scope.$uibModalInstance=h:n.$uibModalInstance=h;t=e?o[1]:o;angular.forEach(t,function(e,t){i&&(n[t]=e),n.$scope.$resolve[t]=e})}l.component?(s(i,!1,!0,!1),i.name=l.component,n.component=i):l.controller&&(s(a,!0,!1,!0),i=g(l.controller,a,!0,l.controllerAs),l.controllerAs&&l.bindToController&&((e=i.instance).$close=r.$close,e.$dismiss=r.$dismiss,angular.extend(e,{$resolve:a.$scope.$resolve},t)),e=i(),angular.isFunction(e.$onInit)&&e.$onInit()),l.component||(n.content=o[0]),m.open(h,n),u.resolve(!0)},function(e){u.reject(e),c.reject(e)}).finally(function(){v===n&&(v=null)}),h;function i(){return e}throw new Error("One of component or template or templateUrl options is required.")},e}]};return b}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(n,i,o){n.setNumPages=o.numPages?e(o.numPages).assign:angular.noop,n.ngModelCtrl={$setViewValue:angular.noop},n._watchers=[],n.init=function(e,t){n.ngModelCtrl=e,n.config=t,e.$render=function(){n.render()},o.itemsPerPage?n._watchers.push(i.$parent.$watch(o.itemsPerPage,function(e){n.itemsPerPage=parseInt(e,10),i.totalPages=n.calculateTotalPages(),n.updatePage()})):n.itemsPerPage=t.itemsPerPage,i.$watch("totalItems",function(e,t){!angular.isDefined(e)&&e===t||(i.totalPages=n.calculateTotalPages(),n.updatePage())})},n.calculateTotalPages=function(){var e=n.itemsPerPage<1?1:Math.ceil(i.totalItems/n.itemsPerPage);return Math.max(e||0,1)},n.render=function(){i.page=parseInt(n.ngModelCtrl.$viewValue,10)||1},i.selectPage=function(e,t){t&&t.preventDefault(),(!i.ngDisabled||!t)&&i.page!==e&&0<e&&e<=i.totalPages&&(t&&t.target&&t.target.blur(),n.ngModelCtrl.$setViewValue(e),n.ngModelCtrl.$render())},i.getText=function(e){return i[e+"Text"]||n.config[e+"Text"]},i.noPrevious=function(){return 1===i.page},i.noNext=function(){return i.page===i.totalPages},n.updatePage=function(){n.setNumPages(i.$parent,i.totalPages),i.page>i.totalPages?i.selectPage(i.totalPages):n.ngModelCtrl.$render()},i.$on("$destroy",function(){for(;n._watchers.length;)n._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(o){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(e,t,n,i){t.addClass("pager");t=i[0],i=i[1];i&&t.init(i,o)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(t,n,e,i,o){var r=this,l=angular.isDefined(n.maxSize)?t.$parent.$eval(n.maxSize):o.maxSize,c=angular.isDefined(n.rotate)?t.$parent.$eval(n.rotate):o.rotate,u=angular.isDefined(n.forceEllipses)?t.$parent.$eval(n.forceEllipses):o.forceEllipses,d=angular.isDefined(n.boundaryLinkNumbers)?t.$parent.$eval(n.boundaryLinkNumbers):o.boundaryLinkNumbers,p=angular.isDefined(n.pageLabel)?function(e){return t.$parent.$eval(n.pageLabel,{$page:e})}:angular.identity;function h(e,t,n){return{number:e,text:t,active:n}}t.boundaryLinks=angular.isDefined(n.boundaryLinks)?t.$parent.$eval(n.boundaryLinks):o.boundaryLinks,t.directionLinks=angular.isDefined(n.directionLinks)?t.$parent.$eval(n.directionLinks):o.directionLinks,n.$set("role","menu"),i.create(this,t,n),n.maxSize&&r._watchers.push(t.$parent.$watch(e(n.maxSize),function(e){l=parseInt(e,10),r.render()}));var a=this.render;this.render=function(){a(),0<t.page&&t.page<=t.totalPages&&(t.pages=function(e,t){var n=[],i=1,o=t,r=angular.isDefined(l)&&l<t;r&&(c?t<(o=(i=Math.max(e-Math.floor(l/2),1))+l-1)&&(i=(o=t)-l+1):(i=(Math.ceil(e/l)-1)*l+1,o=Math.min(i+l-1,t)));for(var a=i;a<=o;a++){var s=h(a,p(a),a===e);n.push(s)}return r&&0<l&&(!c||u||d)&&(1<i&&((!d||3<i)&&(r=h(i-1,"...",!1),n.unshift(r)),d&&(3===i&&(r=h(2,"2",!1),n.unshift(r)),i=h(1,"1",!1),n.unshift(i))),o<t&&((!d||o<t-2)&&(r=h(o+1,"...",!1),n.push(r)),d&&(o===t-2&&(i=h(t-1,t-1,!1),n.push(i)),r=h(t,t,!1),n.push(r)))),n}(t.page,t.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,o){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,t,n,i){t.addClass("pagination");t=i[0],i=i[1];i&&t.init(i,o)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var s={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},l={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},c={};this.options=function(e){angular.extend(c,e)},this.setTriggers=function(e){angular.extend(l,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,r,U,H,B,a,t,j,n){var W=n.createNew();function i(e){27===e.which&&(e=W.top())&&e.value.close()}return H.on("keyup",i),t.$on("$destroy",function(){H.off("keyup",i)}),function(G,F,n,V){function z(e){var e=(e||V.trigger||n).split(" "),t=e.map(function(e){return l[e]||e});return{show:e,hide:t}}V=angular.extend({},s,c,V);var e=G.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}),t=a.startSymbol(),i=a.endSymbol(),o="<div "+e+'-popup uib-title="'+t+"title"+i+'" '+(V.useContentExp?'content-exp="contentExp()" ':'content="'+t+"content"+i+'" ')+'origin-scope="origScope" class="uib-position-measure '+F+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var _=r(o);return function(n,o,i,L){function t(){r&&r.html()&&(c=c||U(function(){var e=B.positionElements(o,r,g.placement,p),t=angular.isDefined(r.offsetHeight)?r.offsetHeight:r.prop("offsetHeight"),n=p?B.offset(o):B.position(o),i=(r.css({top:e.top+"px",left:e.left+"px"}),e.placement.split("-"));r.hasClass(i[0])||(r.removeClass(d.split("-")[0]),r.addClass(i[0])),r.hasClass(V.placementClassPrefix+e.placement)||(r.removeClass(V.placementClassPrefix+d),r.addClass(V.placementClassPrefix+e.placement)),u=U(function(){var e=angular.isDefined(r.offsetHeight)?r.offsetHeight:r.prop("offsetHeight"),e=B.adjustTop(i,n,t,e);e&&r.css(e),u=null},0,!1),r.hasClass("uib-position-measure")?(B.positionArrow(r,e.placement),r.removeClass("uib-position-measure")):d!==e.placement&&B.positionArrow(r,e.placement),d=e.placement,c=null},0,!1))}var r,e,a,s,l,c,u,d,p=!!angular.isDefined(V.appendToBody)&&V.appendToBody,h=z(void 0),f=angular.isDefined(i[F+"Enable"]),g=n.$new(!0),m=!1,v=!!angular.isDefined(i[F+"IsOpen"])&&j(i[F+"IsOpen"]),b=!!V.useContentExp&&j(i[G]),y=[];function w(){(g.isOpen?$:C)()}function C(){var e,t;f&&!n.$eval(i[F+"Enable"])||(E(),g.title=i[F+"Title"],g.content=b?b(n):i[G],g.popupClass=i[F+"Class"],g.placement=angular.isDefined(i[F+"Placement"])?i[F+"Placement"]:V.placement,e=B.parsePlacement(g.placement),d=e[1]?e[0]+"-"+e[1]:e[0],e=parseInt(i[F+"PopupDelay"],10),t=parseInt(i[F+"PopupCloseDelay"],10),g.popupDelay=isNaN(e)?V.popupDelay:e,g.popupCloseDelay=isNaN(t)?V.popupCloseDelay:t,g.popupDelay?s=s||U(x,g.popupDelay,!1):x())}function $(){k(),g.popupCloseDelay?l=l||U(S,g.popupCloseDelay,!1):S()}function x(){if(k(),E(),!g.content)return angular.noop;r||(e=g.$new(),r=_(e,function(e){p?H.find("body").append(e):o.after(e)}),W.add(g,{close:S}),y.length=0,b?(y.push(n.$watch(b,function(e){!(g.content=e)&&g.isOpen&&S()})),y.push(e.$watch(function(){m||(m=!0,e.$$postDigest(function(){m=!1,g&&g.isOpen&&t()}))}))):y.push(i.$observe(G,function(e){(!(g.content=e)&&g.isOpen?S:t)()})),y.push(i.$observe(F+"Title",function(e){g.title=e,g.isOpen&&t()})),y.push(i.$observe(F+"Placement",function(e){g.placement=e||V.placement,g.isOpen&&t()}))),g.$evalAsync(function(){P(g.isOpen=!0),t()})}function k(){s&&(U.cancel(s),s=null),c&&(U.cancel(c),c=null)}function S(){g&&g.$evalAsync(function(){g&&(P(g.isOpen=!1),g.animation?a=a||U(M,150,!1):M())})}function E(){l&&(U.cancel(l),l=null),a&&(U.cancel(a),a=null)}function M(){k(),E(),y.length&&(angular.forEach(y,function(e){e()}),y.length=0),r&&(r.remove(),r=null,u&&U.cancel(u)),W.remove(g),e&&(e.$destroy(),e=null)}function P(e){v&&angular.isFunction(v.assign)&&v.assign(n,e)}function T(e){g&&g.isOpen&&r&&(o[0].contains(e.target)||r[0].contains(e.target)||$())}function D(e){27===e.which&&$()}g.origScope=n,g.isOpen=!1,g.contentExp=function(){return g.content},i.$observe("disabled",function(e){e&&k(),e&&g.isOpen&&S()}),v&&n.$watch(v,function(e){g&&!e===g.isOpen&&w()});function A(){h.show.forEach(function(e){"outsideClick"===e?o.off("click",w):(o.off(e,C),o.off(e,w)),o.off("keypress",D)}),h.hide.forEach(function(e){"outsideClick"===e?H.off("click",T):o.off(e,$)})}var O,R,I;O=[],R=[],I=n.$eval(i[F+"Trigger"]),A(),"none"!==(h=angular.isObject(I)?(Object.keys(I).forEach(function(e){O.push(e),R.push(I[e])}),{show:O,hide:R}):z(I)).show&&h.show.forEach(function(e,t){"outsideClick"===e?(o.on("click",w),H.on("click",T)):e===h.hide[t]?o.on(e,w):e&&(o.on(e,C),o.on(h.hide[t],$)),o.on("keypress",D)});var N=n.$eval(i[F+"Animation"]),N=(g.animation=angular.isDefined(N)?!!N:V.animation,F+"AppendToBody"),N=N in i&&void 0===i[N]||n.$eval(i[N]),p=angular.isDefined(N)?N:p;n.$on("$destroy",function(){A(),M(),g=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(u,i,d,p){return{link:function(e,o,t){function r(){n&&(n.remove(),n=null),a&&(a.$destroy(),a=null),s&&(u.leave(s).then(function(){n=null}),n=s,s=null)}var a,n,s,l=e.$eval(t.tooltipTemplateTranscludeScope),c=0;e.$watch(i.parseAsResourceUrl(t.uibTooltipTemplateTransclude),function(n){var i=++c;n?(p(n,!0).then(function(e){var t;i===c&&(t=l.$new(),e=d(e)(t,function(e){r(),u.enter(e,o)}),s=e,(a=t).$emit("$includeContentLoaded",n))},function(){i===c&&(r(),e.$emit("$includeContentError",n))}),e.$emit("$includeContentRequested",n)):r()}),e.$on("$destroy",r)}}}]).directive("uibTooltipClasses",["$uibPosition",function(o){return{restrict:"A",link:function(e,t,n){var i;e.placement&&(i=o.parsePlacement(e.placement),t.addClass(i[0])),e.popupClass&&t.addClass(e.popupClass),e.animation&&t.addClass(n.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;function r(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}this.bars=[],e.max=r(),this.addBar=function(t,e,n){o||e.css({transition:"none"}),this.bars.push(t),t.max=r(),t.title=n&&angular.isDefined(n.title)?n.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);100<e&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){i.bars.forEach(function(e){e.max=r(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(t,n,i){var o={$setViewValue:angular.noop},r=this;this.init=function(e){(o=e).$render=this.render,o.$formatters.push(function(e){return e=angular.isNumber(e)&&e<<0!==e?Math.round(e):e}),this.stateOn=angular.isDefined(n.stateOn)?t.$parent.$eval(n.stateOn):i.stateOn,this.stateOff=angular.isDefined(n.stateOff)?t.$parent.$eval(n.stateOff):i.stateOff,this.enableReset=angular.isDefined(n.enableReset)?t.$parent.$eval(n.enableReset):i.enableReset;e=angular.isDefined(n.titles)?t.$parent.$eval(n.titles):i.titles,this.titles=angular.isArray(e)&&0<e.length?e:i.titles,e=angular.isDefined(n.ratingStates)?t.$parent.$eval(n.ratingStates):new Array(angular.isDefined(n.max)?t.$parent.$eval(n.max):i.max);t.range=this.buildTemplateObjects(e)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},t.rate=function(e){!t.readonly&&0<=e&&e<=t.range.length&&(e=r.enableReset&&o.$viewValue===e?0:e,o.$setViewValue(e),o.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=o.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=o.$viewValue,t.title=r.getTitle(t.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,i){var o=i[0],i=i[1];o.init(i)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var i,o,r=this;function a(e){for(var t=0;t<r.tabs.length;t++)if(r.tabs[t].index===e)return t}r.tabs=[],r.select=function(e,t){if(!o){var n=a(i),n=r.tabs[n];if(n){if(n.tab.onDeselect({$event:t,$selectedIndex:e}),t&&t.isDefaultPrevented())return;n.tab.active=!1}n=r.tabs[e];n?(n.tab.onSelect({$event:t}),n.tab.active=!0,r.active=n.index,i=n.index):!n&&angular.isDefined(i)&&(r.active=null,i=null)}},r.addTab=function(e){r.tabs.push({tab:e,index:e.index}),r.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index!==r.active&&(angular.isDefined(r.active)||1!==r.tabs.length)||(e=a(e.index),r.select(e))},r.removeTab=function(e){for(var t,n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===e){t=i;break}r.tabs[t].index===r.active&&(n=t===r.tabs.length-1?t-1:t+1%r.tabs.length,r.select(n)),r.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==i&&r.select(a(e))}),e.$on("$destroy",function(){o=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(r){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(i,e,t,o,n){i.disabled=!1,t.disable&&i.$parent.$watch(r(t.disable),function(e){i.disabled=!!e}),angular.isUndefined(t.index)&&(o.tabs&&o.tabs.length?i.index=Math.max.apply(null,o.tabs.map(function(e){return e.index}))+1:i.index=0),angular.isUndefined(t.classes)&&(i.classes=""),i.select=function(e){if(!i.disabled){for(var t,n=0;n<o.tabs.length;n++)if(o.tabs[n].tab===i){t=n;break}o.select(t,e)}},o.addTab(i),i.$on("$destroy",function(){o.removeTab(i)}),i.$transcludeFn=n}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function(e,n,t){var i=e.$eval(t.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){var t;(t=e).tagName&&(t.hasAttribute("uib-tab-heading")||t.hasAttribute("data-uib-tab-heading")||t.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===t.tagName.toLowerCase()||"data-uib-tab-heading"===t.tagName.toLowerCase()||"x-uib-tab-heading"===t.tagName.toLowerCase()||"uib:tab-heading"===t.tagName.toLowerCase())?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(o,e,i,t,n,r,a){var s,l,c,u,d,p=new Date,h=[],f={$setViewValue:angular.noop},g=angular.isDefined(i.meridians)?o.$parent.$eval(i.meridians):a.meridians||r.DATETIME_FORMATS.AMPMS,m=!angular.isDefined(i.padHours)||o.$parent.$eval(i.padHours),v=(o.tabindex=angular.isDefined(i.tabindex)?i.tabindex:0,e.removeAttr("tabindex"),this.init=function(e,t){(f=e).$render=this.render,f.$formatters.unshift(function(e){return e?new Date(e):null});var e=t.eq(0),n=t.eq(1),t=t.eq(2);s=e.controller("ngModel"),l=n.controller("ngModel"),c=t.controller("ngModel"),(angular.isDefined(i.mousewheel)?o.$parent.$eval(i.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(e,n,t),(angular.isDefined(i.arrowkeys)?o.$parent.$eval(i.arrowkeys):a.arrowkeys)&&this.setupArrowkeyEvents(e,n,t),o.readonlyInput=angular.isDefined(i.readonlyInput)?o.$parent.$eval(i.readonlyInput):a.readonlyInput,this.setupInputEvents(e,n,t)},a.hourStep),b=(i.hourStep&&h.push(o.$parent.$watch(t(i.hourStep),function(e){v=+e})),a.minuteStep),y=(i.minuteStep&&h.push(o.$parent.$watch(t(i.minuteStep),function(e){b=+e})),h.push(o.$parent.$watch(t(i.min),function(e){e=new Date(e);u=isNaN(e)?void 0:e})),h.push(o.$parent.$watch(t(i.max),function(e){e=new Date(e);d=isNaN(e)?void 0:e})),!1),w=(i.ngDisabled&&h.push(o.$parent.$watch(t(i.ngDisabled),function(e){y=e})),o.noIncrementHours=function(){var e=P(p,60*v);return y||d<e||e<p&&e<u},o.noDecrementHours=function(){var e=P(p,60*-v);return y||e<u||p<e&&d<e},o.noIncrementMinutes=function(){var e=P(p,b);return y||d<e||e<p&&e<u},o.noDecrementMinutes=function(){var e=P(p,-b);return y||e<u||p<e&&d<e},o.noIncrementSeconds=function(){var e=T(p,w);return y||d<e||e<p&&e<u},o.noDecrementSeconds=function(){var e=T(p,-w);return y||e<u||p<e&&d<e},o.noToggleMeridian=function(){return p.getHours()<12?y||P(p,720)>d:y||P(p,-720)<u},a.secondStep);function C(){var e=+o.hours;if((o.showMeridian?0<e&&e<13:0<=e&&e<24)&&""!==o.hours)return o.showMeridian&&(12===e&&(e=0),o.meridian===g[1]&&(e+=12)),e}function $(){var e=+o.minutes;if(0<=e&&e<60&&""!==o.minutes)return e}function x(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function k(e){S(),f.$setViewValue(new Date(p)),E(e)}function S(){s&&s.$setValidity("hours",!0),l&&l.$setValidity("minutes",!0),c&&c.$setValidity("seconds",!0),f.$setValidity("time",!0),o.invalidHours=!1,o.invalidMinutes=!1,o.invalidSeconds=!1}function E(e){var t,n,i;f.$modelValue?(t=p.getHours(),n=p.getMinutes(),i=p.getSeconds(),o.showMeridian&&(t=0===t||12===t?12:t%12),o.hours="h"===e?t:x(t,!m),"m"!==e&&(o.minutes=x(n)),o.meridian=p.getHours()<12?g[0]:g[1],"s"!==e&&(o.seconds=x(i)),o.meridian=p.getHours()<12?g[0]:g[1]):(o.hours=null,o.minutes=null,o.seconds=null,o.meridian=g[0])}function M(e){p=T(p,e),k()}function P(e,t){return T(e,60*t)}function T(e,t){t=new Date(e.getTime()+1e3*t),e=new Date(e);return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds()),e}function D(){return(null===o.hours||""===o.hours)&&(null===o.minutes||""===o.minutes)&&(!o.showSeconds||o.showSeconds&&(null===o.seconds||""===o.seconds))}i.secondStep&&h.push(o.$parent.$watch(t(i.secondStep),function(e){w=+e})),o.showSeconds=a.showSeconds,i.showSeconds&&h.push(o.$parent.$watch(t(i.showSeconds),function(e){o.showSeconds=!!e})),o.showMeridian=a.showMeridian,i.showMeridian&&h.push(o.$parent.$watch(t(i.showMeridian),function(e){var t;o.showMeridian=!!e,f.$error.time?(e=C(),t=$(),angular.isDefined(e)&&angular.isDefined(t)&&(p.setHours(e),k())):E()})),this.setupMousewheelEvents=function(e,t,n){function i(e){var t=(e=e.originalEvent?e.originalEvent:e).wheelDelta||-e.deltaY;return e.detail||0<t}e.on("mousewheel wheel",function(e){y||o.$apply(i(e)?o.incrementHours():o.decrementHours()),e.preventDefault()}),t.on("mousewheel wheel",function(e){y||o.$apply(i(e)?o.incrementMinutes():o.decrementMinutes()),e.preventDefault()}),n.on("mousewheel wheel",function(e){y||o.$apply(i(e)?o.incrementSeconds():o.decrementSeconds()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,t,n){e.on("keydown",function(e){y||(38===e.which?(e.preventDefault(),o.incrementHours(),o.$apply()):40===e.which&&(e.preventDefault(),o.decrementHours(),o.$apply()))}),t.on("keydown",function(e){y||(38===e.which?(e.preventDefault(),o.incrementMinutes(),o.$apply()):40===e.which&&(e.preventDefault(),o.decrementMinutes(),o.$apply()))}),n.on("keydown",function(e){y||(38===e.which?(e.preventDefault(),o.incrementSeconds(),o.$apply()):40===e.which&&(e.preventDefault(),o.decrementSeconds(),o.$apply()))})},this.setupInputEvents=function(e,t,n){if(o.readonlyInput)return o.updateHours=angular.noop,o.updateMinutes=angular.noop,void(o.updateSeconds=angular.noop);function i(e,t,n){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(e)&&(o.invalidHours=e,s&&s.$setValidity("hours",!1)),angular.isDefined(t)&&(o.invalidMinutes=t,l&&l.$setValidity("minutes",!1)),angular.isDefined(n)&&(o.invalidSeconds=n,c&&c.$setValidity("seconds",!1))}o.updateHours=function(){var e=C(),t=$();f.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(p.setHours(e),p.setMinutes(t),p<u||d<p?i(!0):k("h")):i(!0)},e.on("blur",function(e){f.$setTouched(),D()?S():null===o.hours||""===o.hours?i(!0):!o.invalidHours&&o.hours<10&&o.$apply(function(){o.hours=x(o.hours,!m)})}),o.updateMinutes=function(){var e=$(),t=C();f.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(p.setHours(t),p.setMinutes(e),p<u||d<p?i(void 0,!0):k("m")):i(void 0,!0)},t.on("blur",function(e){f.$setTouched(),D()?S():null===o.minutes?i(void 0,!0):!o.invalidMinutes&&o.minutes<10&&o.$apply(function(){o.minutes=x(o.minutes)})}),o.updateSeconds=function(){var e=0<=(e=+o.seconds)&&e<60?e:void 0;f.$setDirty(),angular.isDefined(e)?(p.setSeconds(e),k("s")):i(void 0,void 0,!0)},n.on("blur",function(e){D()?S():!o.invalidSeconds&&o.seconds<10&&o.$apply(function(){o.seconds=x(o.seconds)})})},this.render=function(){var e=f.$viewValue;isNaN(e)?(f.$setValidity("time",!1),n.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):((p=e?e:p)<u||d<p?(f.$setValidity("time",!1),o.invalidHours=!0,o.invalidMinutes=!0):S(),E())},o.showSpinners=angular.isDefined(i.showSpinners)?o.$parent.$eval(i.showSpinners):a.showSpinners,o.incrementHours=function(){o.noIncrementHours()||M(60*v*60)},o.decrementHours=function(){o.noDecrementHours()||M(60*-v*60)},o.incrementMinutes=function(){o.noIncrementMinutes()||M(60*b)},o.decrementMinutes=function(){o.noDecrementMinutes()||M(60*-b)},o.incrementSeconds=function(){o.noIncrementSeconds()||M(w)},o.decrementSeconds=function(){o.noDecrementSeconds()||M(-w)},o.toggleMeridian=function(){var e=$(),t=C();o.noToggleMeridian()||(angular.isDefined(e)&&angular.isDefined(t)?M(720*(p.getHours()<12?60:-60)):o.meridian=o.meridian===g[0]?g[1]:g[0])},o.blur=function(){f.$setTouched()},o.$on("$destroy",function(){for(;h.length;)h.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(n){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(e,t){return t.templateUrl||n.templateUrl},link:function(e,t,n,i){var o=i[0],i=i[1];i&&o.init(i,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(n){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(e){var t=e.match(i);if(t)return{itemName:t[3],source:n(t[4]),viewMapper:n(t[2]||t[1]),modelMapper:n(t[1])};throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+e+'".')}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(s,l,a,L,t,_,c,e,n,G,u,i,o){var d,p,h,f,r,g,m,F=[9,13,27,38,40],v=s.$eval(a.typeaheadMinLength),b=(v||0===v||(v=1),s.$watch(a.typeaheadMinLength,function(e){v=e||0===e?e:1}),s.$eval(a.typeaheadWaitMs)||0),y=!1!==s.$eval(a.typeaheadEditable),w=(s.$watch(a.typeaheadEditable,function(e){y=!1!==e}),t(a.typeaheadLoading).assign||angular.noop),V=a.typeaheadShouldSelect?t(a.typeaheadShouldSelect):function(e,t){t=t.$event;return 13===t.which||9===t.which},z=t(a.typeaheadOnSelect),U=!!angular.isDefined(a.typeaheadSelectOnBlur)&&s.$eval(a.typeaheadSelectOnBlur),C=t(a.typeaheadNoResults).assign||angular.noop,$=a.typeaheadInputFormatter?t(a.typeaheadInputFormatter):void 0,x=!!a.typeaheadAppendToBody&&s.$eval(a.typeaheadAppendToBody),k=a.typeaheadAppendTo?s.$eval(a.typeaheadAppendTo):null,H=!1!==s.$eval(a.typeaheadFocusFirst),B=!!a.typeaheadSelectOnExact&&s.$eval(a.typeaheadSelectOnExact),j=t(a.typeaheadIsOpen).assign||angular.noop,S=s.$eval(a.typeaheadShowHint)||!1,E=t(a.ngModel),W=t(a.ngModel+"($$$p)"),M=o.parse(a.uibTypeahead),P=s.$new(),o=s.$on("$destroy",function(){P.$destroy()}),T=(P.$on("$destroy",o),"typeahead-"+P.$id+"-"+Math.floor(1e4*Math.random())),D=(l.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":T}),S&&((r=angular.element("<div></div>")).css("position","relative"),l.after(r),(g=l.clone()).attr("placeholder",""),g.attr("tabindex","-1"),g.val(""),g.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),l.css({position:"relative","vertical-align":"top","background-color":"transparent"}),g.attr("id")&&g.removeAttr("id"),r.append(g),g.after(l)),angular.element("<div uib-typeahead-popup></div>")),q=(D.attr({id:T,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(a.typeaheadTemplateUrl)&&D.attr("template-url",a.typeaheadTemplateUrl),angular.isDefined(a.typeaheadPopupTemplateUrl)&&D.attr("popup-template-url",a.typeaheadPopupTemplateUrl),function(){S&&g.val("")}),A=function(){P.matches=[],P.activeIdx=-1,l.attr("aria-expanded",!1),q()},O=function(e){return T+"-option-"+e},Y=(P.$watch("activeIdx",function(e){e<0?l.removeAttr("aria-activedescendant"):l.attr("aria-activedescendant",O(e))}),function(e,t){return!!(P.matches.length>t&&e)&&e.toUpperCase()===P.matches[t].label.toUpperCase()}),R=function(o,r){var a={$viewValue:o};w(s,!0),C(s,!1),_.when(M.source(s,a)).then(function(e){var t=o===d.$viewValue;if(t&&h)if(e&&0<e.length){P.activeIdx=H?0:-1,C(s,!1);for(var n,i=P.matches.length=0;i<e.length;i++)a[M.itemName]=e[i],P.matches.push({id:O(i),label:M.viewMapper(P,a),model:e[i]});P.query=o,Z(),l.attr("aria-expanded",!0),B&&1===P.matches.length&&Y(o,0)&&(angular.isNumber(P.debounceUpdate)||angular.isObject(P.debounceUpdate)?u(function(){P.select(0,r)},angular.isNumber(P.debounceUpdate)?P.debounceUpdate:P.debounceUpdate.default):P.select(0,r)),S&&(n=P.matches[0].label,angular.isString(o)&&0<o.length&&n.slice(0,o.length).toUpperCase()===o.toUpperCase()?g.val(o+n.slice(o.length)):g.val(""))}else A(),C(s,!0);t&&w(s,!1)},function(){A(),w(s,!1),C(s,!0)})},K=(x&&(angular.element(n).on("resize",I),e.find("body").on("scroll",I)),u(function(){P.matches.length&&Z(),P.moveInProgress=!1},200));function I(){P.moveInProgress||(P.moveInProgress=!0,P.$digest()),K()}function Z(){P.position=x?i.offset(l):i.position(l),P.position.top+=l.prop("offsetHeight")}P.moveInProgress=!1,P.query=void 0;function X(){m&&c.cancel(m)}function Q(e){l[0]!==e.target&&3!==e.which&&0!==P.matches.length&&(A(),G.$$phase||s.$digest())}A(),P.assignIsOpen=function(e){j(s,e)},P.select=function(e,t){var n,i,o,r={};f=!0,r[M.itemName]=e=P.matches[e].model,n=M.modelMapper(s,r),i=s,o=n,angular.isFunction(E(s))&&p.getOption("getterSetter")?W(i,{$$$p:o}):E.assign(i,o),d.$setValidity("editable",!0),d.$setValidity("parse",!0),z(s,{$item:e,$model:n,$label:M.viewMapper(s,r),$event:t}),A(),!1!==P.$eval(a.typeaheadFocusOnSelect)&&c(function(){l[0].focus()},0,!1)},l.on("keydown",function(e){if(0!==P.matches.length&&-1!==F.indexOf(e.which)){var t,n=V(s,{$event:e});if(-1===P.activeIdx&&n||9===e.which&&e.shiftKey)return A(),void P.$digest();switch(e.preventDefault(),e.which){case 27:e.stopPropagation(),A(),s.$digest();break;case 38:P.activeIdx=(0<P.activeIdx?P.activeIdx:P.matches.length)-1,P.$digest(),(t=D[0].querySelectorAll(".uib-typeahead-match")[P.activeIdx]).parentNode.scrollTop=t.offsetTop;break;case 40:P.activeIdx=(P.activeIdx+1)%P.matches.length,P.$digest(),(t=D[0].querySelectorAll(".uib-typeahead-match")[P.activeIdx]).parentNode.scrollTop=t.offsetTop;break;default:n&&P.$apply(function(){angular.isNumber(P.debounceUpdate)||angular.isObject(P.debounceUpdate)?u(function(){P.select(P.activeIdx,e)},angular.isNumber(P.debounceUpdate)?P.debounceUpdate:P.debounceUpdate.default):P.select(P.activeIdx,e)})}}}),l.on("focus",function(e){h=!0,0!==v||d.$viewValue||c(function(){R(d.$viewValue,e)},0)}),l.on("blur",function(e){U&&P.matches.length&&-1!==P.activeIdx&&!f&&(f=!0,P.$apply(function(){angular.isObject(P.debounceUpdate)&&angular.isNumber(P.debounceUpdate.blur)?u(function(){P.select(P.activeIdx,e)},P.debounceUpdate.blur):P.select(P.activeIdx,e)})),!y&&d.$error.editable&&(d.$setViewValue(),P.$apply(function(){d.$setValidity("editable",!0),d.$setValidity("parse",!0)}),l.val("")),f=h=!1});e.on("click",Q),s.$on("$destroy",function(){e.off("click",Q),(x||k)&&N.remove(),x&&(angular.element(n).off("resize",I),e.find("body").off("scroll",I)),D.remove(),S&&r.remove()});var N=L(D)(P);x?e.find("body").append(N):k?angular.element(k).eq(0).append(N):l.after(N),this.init=function(e){p=function(e){var t;angular.version.minor<6?(t=e.$options||{}).getOption=function(e){return t[e]}:t=e.$options;return t}(d=e),P.debounceUpdate=t(p.getOption("debounce"))(s),d.$parsers.unshift(function(e){var t;return h=!0,0===v||e&&e.length>=v?0<b?(X(),t=e,m=c(function(){R(t)},b)):R(e):(w(s,!1),X(),A()),y?e:e?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),null)}),d.$formatters.push(function(e){var t,n={};return y||d.$setValidity("editable",!0),$?(n.$model=e,$(s,n)):(n[M.itemName]=e,t=M.viewMapper(s,n),n[M.itemName]=void 0,t!==M.viewMapper(s,n)?t:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,i){i[1].init(i[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(o){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(i,e,t){i.templateUrl=t.templateUrl,i.isOpen=function(){var e=0<i.matches.length;return i.assignIsOpen({isOpen:e}),e},i.isActive=function(e){return i.active===e},i.selectActive=function(e){i.active=e},i.selectMatch=function(e,t){var n=i.debounce();angular.isNumber(n)||angular.isObject(n)?o(function(){i.select({activeIdx:e,evt:t})},angular.isNumber(n)?n:n.default):i.select({activeIdx:e,evt:t})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(i,o,r){return{scope:{index:"=",match:"=",query:"="},link:function(t,n,e){e=r(e.templateUrl)(t.$parent)||"uib/template/typeahead/typeahead-match.html";i(e).then(function(e){e=angular.element(e.trim());n.replaceWith(e),o(e)(t)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(n,e,i){var o;return o=e.has("$sanitize"),function(e,t){return!o&&/<.*>/g.test(e)&&i.warn("Unsafe use of typeahead please use ngSanitize"),e=t?(""+e).replace(new RegExp(t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):e,e=o?e:n.trustAsHtml(e)}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){angular.$$csp().noInlineStyle||angular.$$uibCarouselCss||angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){angular.$$csp().noInlineStyle||angular.$$uibDatepickerCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){angular.$$csp().noInlineStyle||angular.$$uibPositionCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){angular.$$csp().noInlineStyle||angular.$$uibDatepickerpopupCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTooltipCss||angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTimepickerCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTypeaheadCss||angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(f,L){function _(e,t){return t.toUpperCase()}var e=[],u=e.slice,G=e.concat,F=e.push,o=e.indexOf,n={},V=n.toString,z=n.hasOwnProperty,g={},m=f.document,C=function(e,t){return new C.fn.init(e,t)},U=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,H=/^-ms-/,B=/-([\da-z])/gi;function j(e){var t="length"in e&&e.length,n=C.type(e);return"function"!==n&&!C.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e))}C.fn=C.prototype={jquery:"2.1.4",constructor:C,selector:"",length:0,toArray:function(){return u.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:u.call(this)},pushStack:function(e){e=C.merge(this.constructor(),e);return e.prevObject=this,e.context=this.context,e},each:function(e,t){return C.each(this,e,t)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:F,sort:e.sort,splice:e.splice},C.extend=C.fn.extend=function(){var e,t,n,i,o,r=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[a]||{},a++),"object"==typeof r||C.isFunction(r)||(r={}),a===s&&(r=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)o=r[t],r!==(n=e[t])&&(l&&n&&(C.isPlainObject(n)||(i=C.isArray(n)))?(o=i?(i=!1,o&&C.isArray(o)?o:[]):o&&C.isPlainObject(o)?o:{},r[t]=C.extend(l,o,n)):void 0!==n&&(r[t]=n));return r},C.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===C.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!C.isArray(e)&&0<=e-parseFloat(e)+1},isPlainObject:function(e){return"object"===C.type(e)&&!e.nodeType&&!C.isWindow(e)&&!(e.constructor&&!z.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[V.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=C.trim(e))&&(1===e.indexOf("use strict")?((t=m.createElement("script")).text=e,m.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(H,"ms-").replace(B,_)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,o=e.length,r=j(e);if(n){if(r)for(;i<o&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(r)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(U,"")},makeArray:function(e,t){t=t||[];return null!=e&&(j(Object(e))?C.merge(t,"string"==typeof e?[e]:e):F.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:o.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,a=!n;o<r;o++)!t(e[o],o)!=a&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,r=e.length,a=[];if(j(e))for(;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return G.apply([],a)},guid:1,proxy:function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),C.isFunction(e))return n=u.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(u.call(arguments)))}).guid=e.guid=e.guid||C.guid++,i},now:Date.now,support:g}),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var e=function(n){function d(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function L(){f()}var e,p,w,r,_,h,G,F,C,c,u,f,$,t,g,m,i,o,v,y="sizzle"+ +new Date,b=n.document,x=0,V=0,z=ue(),U=ue(),H=ue(),B=function(e,t){return e===t&&(u=!0),0},j={}.hasOwnProperty,a=[],W=a.pop,q=a.push,k=a.push,Y=a.slice,S=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",s="[\\x20\\t\\r\\n\\f]",l="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Z=l.replace("w","w#"),X="\\["+s+"*("+l+")(?:"+s+"*([*^$|!~]?=)"+s+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Z+"))|)"+s+"*\\]",Q=":("+l+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+X+")*)|.*)\\)|)",J=new RegExp(s+"+","g"),E=new RegExp("^"+s+"+|((?:^|[^\\\\])(?:\\\\.)*)"+s+"+$","g"),ee=new RegExp("^"+s+"*,"+s+"*"),te=new RegExp("^"+s+"*([>+~]|"+s+")"+s+"*"),ne=new RegExp("="+s+"*([^\\]'\"]*?)"+s+"*\\]","g"),ie=new RegExp(Q),oe=new RegExp("^"+Z+"$"),M={ID:new RegExp("^#("+l+")"),CLASS:new RegExp("^\\.("+l+")"),TAG:new RegExp("^("+l.replace("w","w*")+")"),ATTR:new RegExp("^"+X),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+s+"*(even|odd|(([+-]|)(\\d*)n|)"+s+"*(?:([+-]|)"+s+"*(\\d+)|))"+s+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+s+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+s+"*((?:-\\d)?\\d*)"+s+"*\\)|)(?=[^-]|$)","i")},re=/^(?:input|select|textarea|button)$/i,ae=/^h\d$/i,P=/^[^{]+\{\s*\[native \w/,se=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,le=/[+~]/,ce=/'|\\/g,T=new RegExp("\\\\([\\da-f]{1,6}"+s+"?|("+s+")|.)","ig");try{k.apply(a=Y.call(b.childNodes),b.childNodes),a[b.childNodes.length].nodeType}catch(e){k={apply:a.length?function(e,t){q.apply(e,Y.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function D(e,t,n,i){var o,r,a,s,l,c,u;if((t?t.ownerDocument||t:b)!==$&&f(t),n=n||[],o=(t=t||$).nodeType,"string"!=typeof e||!e||1!==o&&9!==o&&11!==o)return n;if(!i&&g){if(11!==o&&(c=se.exec(e)))if(u=c[1]){if(9===o){if(!(s=t.getElementById(u))||!s.parentNode)return n;if(s.id===u)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(u))&&v(t,s)&&s.id===u)return n.push(s),n}else{if(c[2])return k.apply(n,t.getElementsByTagName(e)),n;if((u=c[3])&&p.getElementsByClassName)return k.apply(n,t.getElementsByClassName(u)),n}if(p.qsa&&(!m||!m.test(e))){if(l=s=y,c=t,u=1!==o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(a=h(e),(s=t.getAttribute("id"))?l=s.replace(ce,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",r=a.length;r--;)a[r]=l+I(a[r]);c=le.test(e)&&he(t.parentNode)||t,u=a.join(",")}if(u)try{return k.apply(n,c.querySelectorAll(u)),n}catch(e){}finally{s||t.removeAttribute("id")}}}return F(e.replace(E,"$1"),t,n,i)}function ue(){var n=[];function i(e,t){return n.push(e+" ")>w.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function A(e){return e[y]=!0,e}function O(e){var t=$.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function de(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function pe(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function R(a){return A(function(r){return r=+r,A(function(e,t){for(var n,i=a([],e.length,r),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=D.support={},_=D.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},f=D.setDocument=function(e){var l=e?e.ownerDocument||e:b;return l!==$&&9===l.nodeType&&l.documentElement?(t=($=l).documentElement,(e=l.defaultView)&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",L,!1):e.attachEvent&&e.attachEvent("onunload",L)),g=!_(l),p.attributes=O(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=O(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=P.test(l.getElementsByClassName),p.getById=O(function(e){return t.appendChild(e).id=y,!l.getElementsByName||!l.getElementsByName(y).length}),p.getById?(w.find.ID=function(e,t){if(void 0!==t.getElementById&&g)return(t=t.getElementById(e))&&t.parentNode?[t]:[]},w.filter.ID=function(e){var t=e.replace(T,d);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(T,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}}),w.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},w.find.CLASS=p.getElementsByClassName&&function(e,t){if(g)return t.getElementsByClassName(e)},i=[],m=[],(p.qsa=P.test(l.querySelectorAll))&&(O(function(e){t.appendChild(e).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+s+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+s+"*(?:value|"+K+")"),e.querySelectorAll("[id~="+y+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+y+"+*").length||m.push(".#.+[+~]")}),O(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+s+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(p.matchesSelector=P.test(o=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.msMatchesSelector))&&O(function(e){p.disconnectedMatch=o.call(e,"div"),o.call(e,"[s!='']:x"),i.push("!=",Q)}),m=m.length&&new RegExp(m.join("|")),i=i.length&&new RegExp(i.join("|")),e=P.test(t.compareDocumentPosition),v=e||P.test(t.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},B=e?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===b&&v(b,e)?-1:t===l||t.ownerDocument===b&&v(b,t)?1:c?S(c,e)-S(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!o||!r)return e===l?-1:t===l?1:o?-1:r?1:c?S(c,e)-S(c,t):0;if(o===r)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?pe(a[i],s[i]):a[i]===b?-1:s[i]===b?1:0},l):$},D.matches=function(e,t){return D(e,null,null,t)},D.matchesSelector=function(e,t){if((e.ownerDocument||e)!==$&&f(e),t=t.replace(ne,"='$1']"),p.matchesSelector&&g&&(!i||!i.test(t))&&(!m||!m.test(t)))try{var n=o.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<D(t,$,null,[e]).length},D.contains=function(e,t){return(e.ownerDocument||e)!==$&&f(e),v(e,t)},D.attr=function(e,t){(e.ownerDocument||e)!==$&&f(e);var n=w.attrHandle[t.toLowerCase()],n=n&&j.call(w.attrHandle,t.toLowerCase())?n(e,t,!g):void 0;return void 0!==n?n:p.attributes||!g?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},D.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},D.uniqueSort=function(e){var t,n=[],i=0,o=0;if(u=!p.detectDuplicates,c=!p.sortStable&&e.slice(0),e.sort(B),u){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return c=null,e},r=D.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(w=D.selectors={cacheLength:50,createPseudo:A,match:M,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(T,d),e[3]=(e[3]||e[4]||e[5]||"").replace(T,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||D.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&D.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return M.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ie.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(T,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+s+")"+e+"("+s+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=D.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(J," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,f,g){var m="nth"!==h.slice(0,3),v="last"!==h.slice(-4),b="of-type"===e;return 1===f&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,o,r,a,s,l,c=m!=v?"nextSibling":"previousSibling",u=e.parentNode,d=b&&e.nodeName.toLowerCase(),p=!n&&!b;if(u){if(m){for(;c;){for(r=e;r=r[c];)if(b?r.nodeName.toLowerCase()===d:1===r.nodeType)return!1;l=c="only"===h&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&p){for(s=(i=(o=u[y]||(u[y]={}))[h]||[])[0]===x&&i[1],a=i[0]===x&&i[2],r=s&&u.childNodes[s];r=++s&&r&&r[c]||(a=s=0)||l.pop();)if(1===r.nodeType&&++a&&r===e){o[h]=[x,s,a];break}}else if(p&&(i=(e[y]||(e[y]={}))[h])&&i[0]===x)a=i[1];else for(;(r=++s&&r&&r[c]||(a=s=0)||l.pop())&&((b?r.nodeName.toLowerCase()!==d:1!==r.nodeType)||!++a||(p&&((r[y]||(r[y]={}))[h]=[x,a]),r!==e)););return(a-=g)===f||a%f==0&&0<=a/f}}},PSEUDO:function(e,r){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||D.error("unsupported pseudo: "+e);return a[y]?a(r):1<a.length?(t=[e,e,"",r],w.setFilters.hasOwnProperty(e.toLowerCase())?A(function(e,t){for(var n,i=a(e,r),o=i.length;o--;)e[n=S(e,i[o])]=!(t[n]=i[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:A(function(e){var i=[],o=[],s=G(e.replace(E,"$1"));return s[y]?A(function(e,t,n,i){for(var o,r=s(e,null,i,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return i[0]=e,s(i,null,n,o),i[0]=null,!o.pop()}}),has:A(function(t){return function(e){return 0<D(t,e).length}}),contains:A(function(t){return t=t.replace(T,d),function(e){return-1<(e.textContent||e.innerText||r(e)).indexOf(t)}}),lang:A(function(n){return oe.test(n||"")||D.error("unsupported lang: "+n),n=n.replace(T,d).toLowerCase(),function(e){var t;do{if(t=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===t},focus:function(e){return e===$.activeElement&&(!$.hasFocus||$.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ae.test(e.nodeName)},input:function(e){return re.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:R(function(){return[0]}),last:R(function(e,t){return[t-1]}),eq:R(function(e,t,n){return[n<0?n+t:n]}),even:R(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:R(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:R(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:R(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function fe(){}function I(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ge(a,e,t){var s=e.dir,l=t&&"parentNode"===s,c=V++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var i,o,r=[x,c];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((i=(o=e[y]||(e[y]={}))[s])&&i[0]===x&&i[1]===c)return r[2]=i[2];if((o[s]=r)[2]=a(e,t,n))return!0}}}function me(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function N(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)!(r=e[s])||n&&!n(r,i,o)||(a.push(r),c&&t.push(s));return a}function ve(h,f,g,m,v,e){return m&&!m[y]&&(m=ve(m)),v&&!v[y]&&(v=ve(v,e)),A(function(e,t,n,i){var o,r,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,o=t.length;i<o;i++)D(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),d=!h||!e&&f?u:N(u,s,h,n,i),p=g?v||(e?h:c||m)?[]:t:d;if(g&&g(d,p,n,i),m)for(o=N(p,l),m(o,[],n,i),r=o.length;r--;)(a=o[r])&&(p[l[r]]=!(d[l[r]]=a));if(e){if(v||h){if(v){for(o=[],r=p.length;r--;)(a=p[r])&&o.push(d[r]=a);v(null,p=[],o,i)}for(r=p.length;r--;)(a=p[r])&&-1<(o=v?S(e,a):s[r])&&(e[o]=!(t[o]=a))}}else p=N(p===t?p.splice(c,p.length):p),v?v(null,t,p,i):k.apply(t,p)})}function be(m,v){function e(e,t,n,i,o){var r,a,s,l=0,c="0",u=e&&[],d=[],p=C,h=e||y&&w.find.TAG("*",o),f=x+=null==p?1:Math.random()||.1,g=h.length;for(o&&(C=t!==$&&t);c!==g&&null!=(r=h[c]);c++){if(y&&r){for(a=0;s=m[a++];)if(s(r,t,n)){i.push(r);break}o&&(x=f)}b&&((r=!s&&r)&&l--,e&&u.push(r))}if(l+=c,b&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=W.call(i));d=N(d)}k.apply(i,d),o&&!e&&0<d.length&&1<l+v.length&&D.uniqueSort(i)}return o&&(x=f,C=p),u}var b=0<v.length,y=0<m.length;return b?A(e):e}return fe.prototype=w.filters=w.pseudos,w.setFilters=new fe,h=D.tokenize=function(e,t){var n,i,o,r,a,s,l,c=U[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=w.preFilter;a;){for(r in n&&!(i=ee.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=te.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(E," ")}),a=a.slice(n.length)),w.filter)!(i=M[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?D.error(e):U(e,s).slice(0)},G=D.compile=function(e,t){var n,i=[],o=[],r=H[e+" "];if(!r){for(n=(t=t||h(e)).length;n--;)((r=function e(t){for(var i,n,o,r=t.length,a=w.relative[t[0].type],s=a||w.relative[" "],l=a?1:0,c=ge(function(e){return e===i},s,!0),u=ge(function(e){return-1<S(i,e)},s,!0),d=[function(e,t,n){return e=!a&&(n||t!==C)||((i=t).nodeType?c:u)(e,t,n),i=null,e}];l<r;l++)if(n=w.relative[t[l].type])d=[ge(me(d),n)];else{if((n=w.filter[t[l].type].apply(null,t[l].matches))[y]){for(o=++l;o<r&&!w.relative[t[o].type];o++);return ve(1<l&&me(d),1<l&&I(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(E,"$1"),n,l<o&&e(t.slice(l,o)),o<r&&e(t=t.slice(o)),o<r&&I(t))}d.push(n)}return me(d)}(t[n]))[y]?i:o).push(r);(r=H(e,be(o,i))).selector=e}return r},F=D.select=function(e,t,n,i){var o,r,a,s,l,c="function"==typeof e&&e,u=!i&&h(e=c.selector||e);if(n=n||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(a=r[0]).type&&p.getById&&9===t.nodeType&&g&&w.relative[r[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(T,d),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=M.needsContext.test(e)?0:r.length;o--&&(a=r[o],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(T,d),le.test(r[0].type)&&he(t.parentNode)||t))){if(r.splice(o,1),e=i.length&&I(r))break;return k.apply(n,i),n}}return(c||G(e,u))(i,t,!g,n,le.test(e)&&he(t.parentNode)||t),n},p.sortStable=y.split("").sort(B).join("")===y,p.detectDuplicates=!!u,f(),p.sortDetached=O(function(e){return 1&e.compareDocumentPosition($.createElement("div"))}),O(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&O(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),O(function(e){return null==e.getAttribute("disabled")})||de(K,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),D}(f),W=(C.find=e,C.expr=e.selectors,C.expr[":"]=C.expr.pseudos,C.unique=e.uniqueSort,C.text=e.getText,C.isXMLDoc=e.isXML,C.contains=e.contains,C.expr.match.needsContext),q=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Y=/^.[^:#\[\.,]*$/;function K(e,n,i){if(C.isFunction(n))return C.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return C.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(Y.test(n))return C.filter(n,e,i);n=C.filter(n,e)}return C.grep(e,function(e){return 0<=o.call(n,e)!==i})}C.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n=this.length,i=[],o=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<n;t++)if(C.contains(o[t],this))return!0}));for(t=0;t<n;t++)C.find(e,o[t],i);return(i=this.pushStack(1<n?C.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(K(this,e||[],!1))},not:function(e){return this.pushStack(K(this,e||[],!0))},is:function(e){return!!K(this,"string"==typeof e&&W.test(e)?C(e):e||[],!1).length}});var r,Z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,X=((C.fn.init=function(e,t){var n,i;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):C.isFunction(e)?void 0!==r.ready?r.ready(e):e(C):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),C.makeArray(e,this));if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:Z.exec(e))||!n[1]&&t)return(!t||t.jquery?t||r:this.constructor(t)).find(e);if(n[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:m,!0)),q.test(n[1])&&C.isPlainObject(t))for(n in t)C.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=m.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=m,this.selector=e,this}).prototype=C.fn,r=C(m),/^(?:parents|prev(?:Until|All))/),Q={children:!0,contents:!0,next:!0,prev:!0};function J(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.extend({dir:function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&C(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,r=[],a=W.test(e)||"string"!=typeof e?C(e,t||this.context):0;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?C.unique(r):r)},index:function(e){return e?"string"==typeof e?o.call(C(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.unique(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return C.dir(e,"parentNode")},parentsUntil:function(e,t,n){return C.dir(e,"parentNode",n)},next:function(e){return J(e,"nextSibling")},prev:function(e){return J(e,"previousSibling")},nextAll:function(e){return C.dir(e,"nextSibling")},prevAll:function(e){return C.dir(e,"previousSibling")},nextUntil:function(e,t,n){return C.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return C.dir(e,"previousSibling",n)},siblings:function(e){return C.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return C.sibling(e.firstChild)},contents:function(e){return e.contentDocument||C.merge([],e.childNodes)}},function(i,o){C.fn[i]=function(e,t){var n=C.map(this,o,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=C.filter(t,n)),1<this.length&&(Q[i]||C.unique(n),X.test(i)&&n.reverse()),this.pushStack(n)}});var t,$=/\S+/g,ee={};function i(){m.removeEventListener("DOMContentLoaded",i,!1),f.removeEventListener("load",i,!1),C.ready()}C.Callbacks=function(o){var e,n;o="string"==typeof o?ee[o]||(n=ee[e=o]={},C.each(e.match($)||[],function(e,t){n[t]=!0}),n):C.extend({},o);function i(e){for(t=o.memory&&e,r=!0,c=s||0,s=0,l=u.length,a=!0;u&&c<l;c++)if(!1===u[c].apply(e[0],e[1])&&o.stopOnFalse){t=!1;break}a=!1,u&&(d?d.length&&i(d.shift()):t?u=[]:p.disable())}var t,r,a,s,l,c,u=[],d=!o.once&&[],p={add:function(){var e;return u&&(e=u.length,function i(e){C.each(e,function(e,t){var n=C.type(t);"function"===n?o.unique&&p.has(t)||u.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),a?l=u.length:t&&(s=e,i(t))),this},remove:function(){return u&&C.each(arguments,function(e,t){for(var n;-1<(n=C.inArray(t,u,n));)u.splice(n,1),a&&(n<=l&&l--,n<=c&&c--)}),this},has:function(e){return e?-1<C.inArray(e,u):!(!u||!u.length)},empty:function(){return u=[],l=0,this},disable:function(){return u=d=t=void 0,this},disabled:function(){return!u},lock:function(){return d=void 0,t||p.disable(),this},locked:function(){return!d},fireWith:function(e,t){return!u||r&&!d||(t=[e,(t=t||[]).slice?t.slice():t],a?d.push(t):i(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},C.extend({Deferred:function(e){var r=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",C.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return C.Deferred(function(i){C.each(r,function(e,t){var n=C.isFunction(o[e])&&o[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&C.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===a?i.promise():this,n?[e]:arguments)})}),o=null}).promise()},promise:function(e){return null!=e?C.extend(e,a):a}},s={};return a.pipe=a.then,C.each(r,function(e,t){var n=t[2],i=t[3];a[t[1]]=n.add,i&&n.add(function(){o=i},r[1^e][2].disable,r[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?u.call(arguments):e,i===o?c.notifyWith(n,i):--l||c.resolveWith(n,i)}}var o,n,i,r=0,a=u.call(arguments),s=a.length,l=1!==s||e&&C.isFunction(e.promise)?s:0,c=1===l?e:C.Deferred();if(1<s)for(o=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)a[r]&&C.isFunction(a[r].promise)?a[r].promise().done(t(r,i,a)).fail(c.reject).progress(t(r,n,o)):--l;return l||c.resolveWith(i,a),c.promise()}}),C.fn.ready=function(e){return C.ready.promise().done(e),this},C.extend({isReady:!1,readyWait:1,holdReady:function(e){e?C.readyWait++:C.ready(!0)},ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||(t.resolveWith(m,[C]),C.fn.triggerHandler&&(C(m).triggerHandler("ready"),C(m).off("ready")))}}),C.ready.promise=function(e){return t||(t=C.Deferred(),"complete"===m.readyState?setTimeout(C.ready):(m.addEventListener("DOMContentLoaded",i,!1),f.addEventListener("load",i,!1))),t.promise(e)},C.ready.promise();var s=C.access=function(e,t,n,i,o,r,a){var s=0,l=e.length,c=null==n;if("object"===C.type(n))for(s in o=!0,n)C.access(e,t,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,C.isFunction(i)||(a=!0),t=c?a?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(C(e),n)}):t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):r};function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=C.expando+a.uid++}C.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=C.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var n={},i=t[this.expando];if(!i){i=a.uid++;try{n[this.expando]={value:i},Object.defineProperties(t,n)}catch(e){n[this.expando]=i,C.extend(t,n)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,n){var i,e=this.key(e),o=this.cache[e];if("string"==typeof t)o[t]=n;else if(C.isEmptyObject(o))C.extend(this.cache[e],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){e=this.cache[this.key(e)];return void 0===t?e:e[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,C.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,e=this.key(e),o=this.cache[e];if(void 0===t)this.cache[e]={};else{n=(i=C.isArray(t)?t.concat(t.map(C.camelCase)):(e=C.camelCase(t),t in o?[t,e]:(i=e)in o?[i]:i.match($)||[])).length;for(;n--;)delete o[i[n]]}},hasData:function(e){return!C.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var v=new a,l=new a,te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ne=/([A-Z])/g;function ie(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ne,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:te.test(n)?C.parseJSON(n):n)}catch(e){}l.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return l.hasData(e)||v.hasData(e)},data:function(e,t,n){return l.access(e,t,n)},removeData:function(e,t){l.remove(e,t)},_data:function(e,t,n){return v.access(e,t,n)},_removeData:function(e,t){v.remove(e,t)}}),C.fn.extend({data:function(i,e){var t,n,o,r=this[0],a=r&&r.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){l.set(this,i)}):s(this,function(t){var e,n=C.camelCase(i);if(r&&void 0===t)return void 0!==(e=l.get(r,i))||void 0!==(e=l.get(r,n))||void 0!==(e=ie(r,n,void 0))?e:void 0;this.each(function(){var e=l.get(this,n);l.set(this,n,t),-1!==i.indexOf("-")&&void 0!==e&&l.set(this,i,t)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=l.get(r),1===r.nodeType&&!v.get(r,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(n=a[t].name).indexOf("data-")&&(n=C.camelCase(n.slice(5)),ie(r,n,o[n]));v.set(r,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){l.remove(this,e)})}}),C.extend({queue:function(e,t,n){var i;if(e)return i=v.get(e,t=(t||"fx")+"queue"),n&&(!i||C.isArray(n)?i=v.access(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,o=n.shift(),r=C._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,function(){C.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v.get(e,n)||v.access(e,n,{empty:C.Callbacks("once memory").add(function(){v.remove(e,[t+"queue",n])})})}}),C.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===n?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||r.resolveWith(a,[a])}var i,o=1,r=C.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=v.get(a[s],e+"queueHooks"))&&i.empty&&(o++,i.empty.add(n));return n(),r.promise(t)}});function b(e,t){return"none"===C.css(e=t||e,"display")||!C.contains(e.ownerDocument,e)}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,c=["Top","Right","Bottom","Left"],oe=/^(?:checkbox|radio)$/i,y=(A=m.createDocumentFragment().appendChild(m.createElement("div")),(D=m.createElement("input")).setAttribute("type","radio"),D.setAttribute("checked","checked"),D.setAttribute("name","t"),A.appendChild(D),g.checkClone=A.cloneNode(!0).cloneNode(!0).lastChild.checked,A.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!A.cloneNode(!0).lastChild.defaultValue,"undefined"),re=(g.focusinBubbles="onfocusin"in f,/^key/),ae=/^(?:mouse|pointer|contextmenu)|click/,se=/^(?:focusinfocus|focusoutblur)$/,le=/^([^.]*)(?:\.(.+)|)$/;function d(){return!0}function p(){return!1}function ce(){try{return m.activeElement}catch(e){}}C.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,u,d,p,h,f=v.get(t);if(f)for(n.handler&&(n=(r=n).handler,o=r.selector),n.guid||(n.guid=C.guid++),(s=f.events)||(s=f.events={}),(a=f.handle)||(a=f.handle=function(e){return typeof C!=y&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match($)||[""]).length;l--;)d=h=(p=le.exec(e[l])||[])[1],p=(p[2]||"").split(".").sort(),d&&(c=C.event.special[d]||{},d=(o?c.delegateType:c.bindType)||d,c=C.event.special[d]||{},h=C.extend({type:d,origType:h,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:p.join(".")},r),(u=s[d])||((u=s[d]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(d,a,!1)),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),o?u.splice(u.delegateCount++,0,h):u.push(h),C.event.global[d]=!0)},remove:function(e,t,n,i,o){var r,a,s,l,c,u,d,p,h,f,g,m=v.hasData(e)&&v.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match($)||[""]).length;c--;)if(h=g=(s=le.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(d=C.event.special[h]||{},p=l[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=p.length;r--;)u=p[r],!o&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(r,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,m.handle)||C.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)C.event.remove(e,h+t[c],n,i,!0);C.isEmptyObject(l)&&(delete m.handle,v.remove(e,"events"))}},trigger:function(e,t,n,i){var o,r,a,s,l,c,u=[n||m],d=z.call(e,"type")?e.type:e,p=z.call(e,"namespace")?e.namespace.split("."):[],h=r=n=n||m;if(3!==n.nodeType&&8!==n.nodeType&&!se.test(d+C.event.triggered)&&(0<=d.indexOf(".")&&(d=(p=d.split(".")).shift(),p.sort()),s=d.indexOf(":")<0&&"on"+d,(e=e[C.expando]?e:new C.Event(d,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[d]||{},i||!c.trigger||!1!==c.trigger.apply(n,t))){if(!i&&!c.noBubble&&!C.isWindow(n)){for(a=c.delegateType||d,se.test(a+d)||(h=h.parentNode);h;h=h.parentNode)u.push(h),r=h;r===(n.ownerDocument||m)&&u.push(r.defaultView||r.parentWindow||f)}for(o=0;(h=u[o++])&&!e.isPropagationStopped();)e.type=1<o?a:c.bindType||d,(l=(v.get(h,"events")||{})[e.type]&&v.get(h,"handle"))&&l.apply(h,t),(l=s&&h[s])&&l.apply&&C.acceptData(h)&&(e.result=l.apply(h,t),!1===e.result&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(u.pop(),t)||!C.acceptData(n)||s&&C.isFunction(n[d])&&!C.isWindow(n)&&((r=n[s])&&(n[s]=null),n[C.event.triggered=d](),C.event.triggered=void 0,r&&(n[s]=r)),e.result}},dispatch:function(e){e=C.event.fix(e);var t,n,i,o,r,a=u.call(arguments),s=(v.get(this,"events")||{})[e.type]||[],l=C.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(r=C.event.handlers.call(this,e,s),t=0;(i=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(o=((C.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(e.result=o)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],n=0;n<s;n++)void 0===i[o=(r=t[n]).selector+" "]&&(i[o]=r.needsContext?0<=C(o,this).index(l):C.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=(i=e.target.ownerDocument||m).documentElement,i=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[C.expando])return e;var t,n,i,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=ae.test(o)?this.mouseHooks:re.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new C.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=m),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ce()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ce()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&C.nodeName(this,"input"))return this.click(),!1},_default:function(e){return C.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){e=C.extend(new C.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?C.event.trigger(e,null,t):C.event.dispatch.call(t,e),e.isDefaultPrevented()&&n.preventDefault()}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?d:p):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){C.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||C.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),g.focusinBubbles||C.each({focus:"focusin",blur:"focusout"},function(n,i){function o(e){C.event.simulate(i,e.target,C.event.fix(e),!0)}C.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=v.access(e,i);t||e.addEventListener(n,o,!0),v.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=v.access(e,i)-1;t?v.access(e,i,t):(e.removeEventListener(n,o,!0),v.remove(e,i))}}}),C.fn.extend({on:function(e,t,n,i,o){var r,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],o);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=p;else if(!i)return this;return 1===o&&(r=i,(i=function(e){return C().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=C.guid++)),this.each(function(){C.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=p),this.each(function(){C.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this},trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}});var ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,de=/<([\w:]+)/,pe=/<|&#?\w+;/,he=/<(?:script|style|link)/i,fe=/checked\s*(?:[^=]|=\s*.checked.)/i,ge=/^$|\/(?:java|ecma)script/i,me=/^true\/(.*)/,ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,h={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){return C.nodeName(e,"table")&&C.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ye(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function we(e){var t=me.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Ce(e,t){for(var n=0,i=e.length;n<i;n++)v.set(e[n],"globalEval",!t||v.get(t[n],"globalEval"))}function $e(e,t){var n,i,o,r,a,s;if(1===t.nodeType){if(v.hasData(e)&&(r=v.access(e),a=v.set(t,r),s=r.events))for(o in delete a.handle,a.events={},s)for(n=0,i=s[o].length;n<i;n++)C.event.add(t,o,s[o][n]);l.hasData(e)&&(r=l.access(e),a=C.extend({},r),l.set(t,a))}}function w(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&C.nodeName(e,t)?C.merge([e],n):n}h.optgroup=h.option,h.tbody=h.tfoot=h.colgroup=h.caption=h.thead,h.th=h.td,C.extend({clone:function(e,t,n){var i,o,r,a,s,l,c,u=e.cloneNode(!0),d=C.contains(e.ownerDocument,e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(a=w(u),i=0,o=(r=w(e)).length;i<o;i++)s=r[i],l=a[i],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&oe.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(r=r||w(e),a=a||w(u),i=0,o=r.length;i<o;i++)$e(r[i],a[i]);else $e(e,u);return 0<(a=w(u,"script")).length&&Ce(a,!d&&w(e,"script")),u},buildFragment:function(e,t,n,i){for(var o,r,a,s,l,c=t.createDocumentFragment(),u=[],d=0,p=e.length;d<p;d++)if((o=e[d])||0===o)if("object"===C.type(o))C.merge(u,o.nodeType?[o]:o);else if(pe.test(o)){for(r=r||c.appendChild(t.createElement("div")),a=(de.exec(o)||["",""])[1].toLowerCase(),a=h[a]||h._default,r.innerHTML=a[1]+o.replace(ue,"<$1></$2>")+a[2],l=a[0];l--;)r=r.lastChild;C.merge(u,r.childNodes),(r=c.firstChild).textContent=""}else u.push(t.createTextNode(o));for(c.textContent="",d=0;o=u[d++];)if((!i||-1===C.inArray(o,i))&&(s=C.contains(o.ownerDocument,o),r=w(c.appendChild(o),"script"),s&&Ce(r),n))for(l=0;o=r[l++];)ge.test(o.type||"")&&n.push(o);return c},cleanData:function(e){for(var t,n,i,o,r=C.event.special,a=0;void 0!==(n=e[a]);a++){if(C.acceptData(n)&&(o=n[v.expando])&&(t=v.cache[o])){if(t.events)for(i in t.events)r[i]?C.event.remove(n,i):C.removeEvent(n,i,t.handle);v.cache[o]&&delete v.cache[o]}delete l.cache[n[l.expando]]}}}),C.fn.extend({text:function(e){return s(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||be(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=be(this,e)).insertBefore(e,t.firstChild)})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?C.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||C.cleanData(w(n)),n.parentNode&&(t&&C.contains(n.ownerDocument,n)&&Ce(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return s(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!he.test(e)&&!h[(de.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ue,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,C.cleanData(w(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=G.apply([],n);var e,t,o,r,a,s,l=0,c=this.length,u=this,d=c-1,p=n[0],h=C.isFunction(p);if(h||1<c&&"string"==typeof p&&!g.checkClone&&fe.test(p))return this.each(function(e){var t=u.eq(e);h&&(n[0]=p.call(this,e,t.html())),t.domManip(n,i)});if(c&&(t=(e=C.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(r=(o=C.map(w(e,"script"),ye)).length;l<c;l++)a=e,l!==d&&(a=C.clone(a,!0,!0),r&&C.merge(o,w(a,"script"))),i.call(this[l],a,l);if(r)for(s=o[o.length-1].ownerDocument,C.map(o,we),l=0;l<r;l++)a=o[l],ge.test(a.type||"")&&!v.access(a,"globalEval")&&C.contains(s,a)&&(a.src?C._evalUrl&&C._evalUrl(a.src):C.globalEval(a.textContent.replace(ve,"")))}return this}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){C.fn[e]=function(e){for(var t,n=[],i=C(e),o=i.length-1,r=0;r<=o;r++)t=r===o?this:this.clone(!0),C(i[r])[a](t),F.apply(n,t.get());return this.pushStack(n)}});var xe,ke={};function Se(e,t){e=C(t.createElement(e)).appendTo(t.body),t=f.getDefaultComputedStyle&&(t=f.getDefaultComputedStyle(e[0]))?t.display:C.css(e[0],"display");return e.detach(),t}function Ee(e){var t=m,n=ke[e];return n||("none"!==(n=Se(e,t))&&n||((t=(xe=(xe||C("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=Se(e,t),xe.detach()),ke[e]=n),n}function x(e){return(e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView:f).getComputedStyle(e,null)}var Me,Pe,k,S,E,Te=/^margin/,De=new RegExp("^("+e+")(?!px)[a-z%]+$","i");function M(e,t,n){var i,o,r=e.style;return(n=n||x(e))&&(o=n.getPropertyValue(t)||n[t]),n&&(""!==o||C.contains(e.ownerDocument,e)||(o=C.style(e,t)),De.test(o)&&Te.test(t)&&(e=r.width,t=r.minWidth,i=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=n.width,r.width=e,r.minWidth=t,r.maxWidth=i)),void 0!==o?o+"":o}function Ae(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function Oe(){E.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",E.innerHTML="",k.appendChild(S);var e=f.getComputedStyle(E,null);Me="1%"!==e.top,Pe="4px"===e.width,k.removeChild(S)}k=m.documentElement,S=m.createElement("div"),(E=m.createElement("div")).style&&(E.style.backgroundClip="content-box",E.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===E.style.backgroundClip,S.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",S.appendChild(E),f.getComputedStyle&&C.extend(g,{pixelPosition:function(){return Oe(),Me},boxSizingReliable:function(){return null==Pe&&Oe(),Pe},reliableMarginRight:function(){var e,t=E.appendChild(m.createElement("div"));return t.style.cssText=E.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",E.style.width="1px",k.appendChild(S),e=!parseFloat(f.getComputedStyle(t,null).marginRight),k.removeChild(S),E.removeChild(t),e}})),C.swap=function(e,t,n,i){var o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in n=n.apply(e,i||[]),t)e.style[o]=r[o];return n};var Re=/^(none|table(?!-c[ea]).+)/,Ie=new RegExp("^("+e+")(.*)$","i"),Ne=new RegExp("^([+-])=("+e+")","i"),Le={position:"absolute",visibility:"hidden",display:"block"},_e={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];function Fe(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,o=Ge.length;o--;)if((t=Ge[o]+n)in e)return t;return i}function Ve(e,t,n){var i=Ie.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function ze(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=C.css(e,n+c[r],!0,o)),i?("content"===n&&(a-=C.css(e,"padding"+c[r],!0,o)),"margin"!==n&&(a-=C.css(e,"border"+c[r]+"Width",!0,o))):(a+=C.css(e,"padding"+c[r],!0,o),"padding"!==n&&(a+=C.css(e,"border"+c[r]+"Width",!0,o)));return a}function Ue(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=x(e),a="border-box"===C.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(((o=M(e,t,r))<0||null==o)&&(o=e.style[t]),De.test(o))return o;i=a&&(g.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+ze(e,t,n||(a?"border":"content"),i,r)+"px"}function He(e,t){for(var n,i,o,r=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(r[a]=v.get(i,"olddisplay"),n=i.style.display,t?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&b(i)&&(r[a]=v.access(i,"olddisplay",Ee(i.nodeName)))):(o=b(i),"none"===n&&o||v.set(i,"olddisplay",o?n:C.css(i,"display"))));for(a=0;a<s;a++)!(i=e[a]).style||t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none");return e}function P(e,t,n,i,o){return new P.prototype.init(e,t,n,i,o)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=M(e,"opacity"))?"1":t}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=C.camelCase(t),l=e.style;if(t=C.cssProps[s]||(C.cssProps[s]=Fe(l,s)),a=C.cssHooks[t]||C.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:l[t];"string"===(r=typeof n)&&(o=Ne.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(C.css(e,t)),r="number"),null!=n&&n==n&&("number"!==r||C.cssNumber[s]||(n+="px"),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var o,r=C.camelCase(t);return t=C.cssProps[r]||(C.cssProps[r]=Fe(e.style,r)),"normal"===(o=void 0===(o=(r=C.cssHooks[t]||C.cssHooks[r])&&"get"in r?r.get(e,!0,n):o)?M(e,t,i):o)&&t in _e&&(o=_e[t]),""===n||n?(r=parseFloat(o),!0===n||C.isNumeric(r)?r||0:o):o}}),C.each(["height","width"],function(e,o){C.cssHooks[o]={get:function(e,t,n){if(t)return Re.test(C.css(e,"display"))&&0===e.offsetWidth?C.swap(e,Le,function(){return Ue(e,o,n)}):Ue(e,o,n)},set:function(e,t,n){var i=n&&x(e);return Ve(0,t,n?ze(e,o,n,"border-box"===C.css(e,"boxSizing",!1,i),i):0)}}}),C.cssHooks.marginRight=Ae(g.reliableMarginRight,function(e,t){if(t)return C.swap(e,{display:"inline-block"},M,[e,"marginRight"])}),C.each({margin:"",padding:"",border:"Width"},function(o,r){C.cssHooks[o+r]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+c[t]+r]=i[t]||i[t-2]||i[0];return n}},Te.test(o)||(C.cssHooks[o+r].set=Ve)}),C.fn.extend({css:function(e,t){return s(this,function(e,t,n){var i,o,r={},a=0;if(C.isArray(t)){for(i=x(e),o=t.length;a<o;a++)r[t[a]]=C.css(e,t[a],!1,i);return r}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,1<arguments.length)},show:function(){return He(this,!0)},hide:function(){return He(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){b(this)?C(this).show():C(this).hide()})}}),((C.Tween=P).prototype={constructor:P,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(C.cssNumber[n]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return(e&&e.get?e:P.propHooks._default).get(this)},run:function(e){var t,n=P.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:P.propHooks._default).set(this),this}}).init.prototype=P.prototype,(P.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[C.cssProps[e.prop]]||C.cssHooks[e.prop])?C.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},C.fx=P.prototype.init,C.fx.step={};var T,Be,D,A,je=/^(?:toggle|show|hide)$/,We=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),qe=/queueHooks$/,Ye=[function(t,e,n){var i,o,r,a,s,l,c,u=this,d={},p=t.style,h=t.nodeType&&b(t),f=v.get(t,"fxshow");n.queue||(null==(s=C._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,C.queue(t,"fx").length||s.empty.fire()})}));1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=C.css(t,"display"),"inline"===("none"===c?v.get(t,"olddisplay")||Ee(t.nodeName):c)&&"none"===C.css(t,"float")&&(p.display="inline-block"));n.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],je.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!f||void 0===f[i])continue;h=!0}d[i]=f&&f[i]||C.style(t,i)}else c=void 0;if(C.isEmptyObject(d))"inline"===("none"===c?Ee(t.nodeName):c)&&(p.display=c);else for(i in f?"hidden"in f&&(h=f.hidden):f=v.access(t,"fxshow",{}),r&&(f.hidden=!h),h?C(t).show():u.done(function(){C(t).hide()}),u.done(function(){for(var e in v.remove(t,"fxshow"),d)C.style(t,e,d[e])}),d)a=Xe(h?f[i]:0,i,u),i in f||(f[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],O={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),t=We.exec(t),o=t&&t[3]||(C.cssNumber[e]?"":"px"),r=(C.cssNumber[e]||"px"!==o&&+i)&&We.exec(C.css(n.elem,e)),a=1,s=20;if(r&&r[3]!==o)for(o=o||r[3],t=t||[],r=+i||1;r/=a=a||".5",C.style(n.elem,e,r+o),a!==(a=n.cur()/i)&&1!==a&&--s;);return t&&(r=n.start=+r||+i||0,n.unit=o,n.end=t[1]?r+(t[1]+1)*t[2]:+t[2]),n}]};function Ke(){return setTimeout(function(){T=void 0}),T=C.now()}function Ze(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=c[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function Xe(e,t,n){for(var i,o=(O[t]||[]).concat(O["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function Qe(o,e,t){var n,r,i,a,s,l,c,u=0,d=Ye.length,p=C.Deferred().always(function(){delete h.elem}),h=function(){if(r)return!1;for(var e=T||Ke(),e=Math.max(0,f.startTime+f.duration-e),t=1-(e/f.duration||0),n=0,i=f.tweens.length;n<i;n++)f.tweens[n].run(t);return p.notifyWith(o,[f,t,e]),t<1&&i?e:(p.resolveWith(o,[f]),!1)},f=p.promise({elem:o,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:T||Ke(),duration:t.duration,tweens:[],createTween:function(e,t){t=C.Tween(o,f.opts,e,t,f.opts.specialEasing[e]||f.opts.easing);return f.tweens.push(t),t},stop:function(e){var t=0,n=e?f.tweens.length:0;if(r)return this;for(r=!0;t<n;t++)f.tweens[t].run(1);return e?p.resolveWith(o,[f,e]):p.rejectWith(o,[f,e]),this}}),g=f.props,m=g,v=f.opts.specialEasing;for(i in m)if(s=v[a=C.camelCase(i)],l=m[i],C.isArray(l)&&(s=l[1],l=m[i]=l[0]),i!==a&&(m[a]=l,delete m[i]),(c=C.cssHooks[a])&&"expand"in c)for(i in l=c.expand(l),delete m[a],l)i in m||(m[i]=l[i],v[i]=s);else v[a]=s;for(;u<d;u++)if(n=Ye[u].call(f,o,g,f.opts))return n;return C.map(g,Xe,f),C.isFunction(f.opts.start)&&f.opts.start.call(o,f),C.fx.timer(C.extend(h,{elem:o,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}C.Animation=C.extend(Qe,{tweener:function(e,t){for(var n,i=0,o=(e=C.isFunction(e)?(t=e,["*"]):e.split(" ")).length;i<o;i++)n=e[i],O[n]=O[n]||[],O[n].unshift(t)},prefilter:function(e,t){t?Ye.unshift(e):Ye.push(e)}}),C.speed=function(e,t,n){var i=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||C.isFunction(e)&&e,duration:e,easing:n&&t||t&&!C.isFunction(t)&&t};return i.duration=C.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in C.fx.speeds?C.fx.speeds[i.duration]:C.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){C.isFunction(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(b).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function o(){var e=Qe(this,C.extend({},t),a);(r||v.get(this,"finish"))&&e.stop(!0)}var r=C.isEmptyObject(t),a=C.speed(e,n,i);return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(o,e,r){function a(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof o&&(r=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=C.timers,i=v.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&qe.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||C.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=v.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],o=C.timers,r=n?n.length:0;for(t.finish=!0,C.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,i){var o=C.fn[i];C.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(Ze(i,!0),e,t,n)}}),C.each({slideDown:Ze("show"),slideUp:Ze("hide"),slideToggle:Ze("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){C.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(T=C.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),T=void 0},C.fx.timer=function(e){C.timers.push(e),e()?C.fx.start():C.timers.pop()},C.fx.interval=13,C.fx.start=function(){Be=Be||setInterval(C.fx.tick,C.fx.interval)},C.fx.stop=function(){clearInterval(Be),Be=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(i,e){return i=C.fx&&C.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},D=m.createElement("input"),A=m.createElement("select"),e=A.appendChild(m.createElement("option")),D.type="checkbox",g.checkOn=""!==D.value,g.optSelected=e.selected,A.disabled=!0,g.optDisabled=!e.disabled,(D=m.createElement("input")).value="t",D.type="radio",g.radioValue="t"===D.value;var Je,R=C.expr.attrHandle,et=(C.fn.extend({attr:function(e,t){return s(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute==y?C.prop(e,t,n):(1===r&&C.isXMLDoc(e)||(t=t.toLowerCase(),i=C.attrHooks[t]||(C.expr.match.bool.test(t)?Je:void 0)),void 0===n?!(i&&"get"in i&&null!==(o=i.get(e,t)))&&null==(o=C.find.attr(e,t))?void 0:o:null!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void C.removeAttr(e,t))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match($);if(r&&1===e.nodeType)for(;n=r[o++];)i=C.propFix[n]||n,C.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){var n;if(!g.radioValue&&"radio"===t&&C.nodeName(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}}}),Je={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var r=R[t]||C.find.attr;R[t]=function(e,t,n){var i,o;return n||(o=R[t],R[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,R[t]=o),i}}),/^(?:input|select|textarea|button)$/i),tt=(C.fn.extend({prop:function(e,t){return s(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!C.isXMLDoc(e))&&(t=C.propFix[t]||t,o=C.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||et.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),g.optSelected||(C.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),/[\t\r\n\f]/g),nt=(C.fn.extend({addClass:function(t){var e,n,i,o,r,a,s="string"==typeof t&&t,l=0,c=this.length;if(C.isFunction(t))return this.each(function(e){C(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match($)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(tt," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=C.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,o,r,a,s=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(C.isFunction(t))return this.each(function(e){C(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match($)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(tt," "):"")){for(r=0;o=e[r++];)for(;0<=i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");a=t?C.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(o,t){var r=typeof o;return"boolean"==typeof t&&"string"==r?t?this.addClass(o):this.removeClass(o):C.isFunction(o)?this.each(function(e){C(this).toggleClass(o.call(this,e,this.className,t),t)}):this.each(function(){if("string"==r)for(var e,t=0,n=C(this),i=o.match($)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else r!=y&&"boolean"!=r||(this.className&&v.set(this,"__className__",this.className),this.className=!this.className&&!1!==o&&v.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(tt," ").indexOf(t))return!0;return!1}}),/\r/g),it=(C.fn.extend({val:function(t){var n,e,i,o=this[0];return arguments.length?(i=C.isFunction(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,C(this).val()):t)?e="":"number"==typeof e?e+="":C.isArray(e)&&(e=C.map(e,function(e){return null==e?"":e+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):o?(n=C.valHooks[o.type]||C.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(nt,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:C.trim(C.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,r=o?null:[],a=o?i+1:n.length,s=i<0?a:o?i:0;s<a;s++)if(((t=n[s]).selected||s===i)&&(g.optDisabled?!t.disabled:null===t.getAttribute("disabled"))&&(!t.parentNode.disabled||!C.nodeName(t.parentNode,"optgroup"))){if(t=C(t).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,r=C.makeArray(t),a=o.length;a--;)((i=o[a]).selected=0<=C.inArray(i.value,r))&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(C.isArray(t))return e.checked=0<=C.inArray(C(e).val(),t)}},g.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){C.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),C.now()),ot=/\?/,rt=(C.parseJSON=function(e){return JSON.parse(e+"")},C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t},/#.*$/),at=/([?&])_=[^&]*/,st=/^(.*?):[ \t]*([^\r\n]*)$/gm,lt=/^(?:GET|HEAD)$/,ct=/^\/\//,ut=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,dt={},pt={},ht="*/".concat("*"),ft=f.location.href,I=ut.exec(ft.toLowerCase())||[];function gt(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,o=e.toLowerCase().match($)||[];if(C.isFunction(t))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function mt(t,i,o,r){var a={},s=t===pt;function l(e){var n;return a[e]=!0,C.each(t[e]||[],function(e,t){t=t(i,o,r);return"string"!=typeof t||s||a[t]?s?!(n=t):void 0:(i.dataTypes.unshift(t),l(t),!1)}),n}return l(i.dataTypes[0])||!a["*"]&&l("*")}function vt(e,t){var n,i,o=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i=i||{})[n]=t[n]);return i&&C.extend(!0,e,i),e}C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ft,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(I[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?vt(vt(e,C.ajaxSettings),t):vt(C.ajaxSettings,e)},ajaxPrefilter:gt(dt),ajaxTransport:gt(pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,c,u,n,d,p,i,h=C.ajaxSetup({},t=t||{}),f=h.context||h,g=h.context&&(f.nodeType||f.jquery)?C(f):C.event,m=C.Deferred(),v=C.Callbacks("once memory"),b=h.statusCode||{},o={},r={},y=0,a="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!n)for(n={};t=st.exec(u);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?u:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=r[n]=r[n]||e,o[e]=t),this},overrideMimeType:function(e){return y||(h.mimeType=e),this},statusCode:function(e){if(e)if(y<2)for(var t in e)b[t]=[b[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){e=e||a;return l&&l.abort(e),s(0,e),this}};if(m.promise(w).complete=v.add,w.success=w.done,w.error=w.fail,h.url=((e||h.url||ft)+"").replace(rt,"").replace(ct,I[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=C.trim(h.dataType||"*").toLowerCase().match($)||[""],null==h.crossDomain&&(e=ut.exec(h.url.toLowerCase()),h.crossDomain=!(!e||e[1]===I[1]&&e[2]===I[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(I[3]||("http:"===I[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=C.param(h.data,h.traditional)),mt(dt,h,t,w),2===y)return w;for(i in(p=C.event&&h.global)&&0==C.active++&&C.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!lt.test(h.type),c=h.url,h.hasContent||(h.data&&(c=h.url+=(ot.test(c)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=at.test(c)?c.replace(at,"$1_="+it++):c+(ot.test(c)?"&":"?")+"_="+it++)),h.ifModified&&(C.lastModified[c]&&w.setRequestHeader("If-Modified-Since",C.lastModified[c]),C.etag[c]&&w.setRequestHeader("If-None-Match",C.etag[c])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ht+"; q=0.01":""):h.accepts["*"]),h.headers)w.setRequestHeader(i,h.headers[i]);if(h.beforeSend&&(!1===h.beforeSend.call(f,w,h)||2===y))return w.abort();for(i in a="abort",{success:1,error:1,complete:1})w[i](h[i]);if(l=mt(pt,h,t,w)){w.readyState=1,p&&g.trigger("ajaxSend",[w,h]),h.async&&0<h.timeout&&(d=setTimeout(function(){w.abort("timeout")},h.timeout));try{y=1,l.send(o,s)}catch(e){if(!(y<2))throw e;s(-1,e)}}else s(-1,"No Transport");function s(e,t,n,i){var o,r,a,s=t;2!==y&&(y=2,d&&clearTimeout(d),l=void 0,u=i||"",w.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}a=a||o}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}(h,w,n)),a=function(e,t,n,i){var o,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(h,a,w,i),i?(h.ifModified&&((n=w.getResponseHeader("Last-Modified"))&&(C.lastModified[c]=n),(n=w.getResponseHeader("etag"))&&(C.etag[c]=n)),204===e||"HEAD"===h.type?s="nocontent":304===e?s="notmodified":(s=a.state,o=a.data,i=!(r=a.error))):(r=s,!e&&s||(s="error",e<0&&(e=0))),w.status=e,w.statusText=(t||s)+"",i?m.resolveWith(f,[o,s,w]):m.rejectWith(f,[w,s,r]),w.statusCode(b),b=void 0,p&&g.trigger(i?"ajaxSuccess":"ajaxError",[w,h,i?o:r]),v.fireWith(f,[w,s]),p&&(g.trigger("ajaxComplete",[w,h]),--C.active||C.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,o){C[o]=function(e,t,n,i){return C.isFunction(t)&&(i=i||n,n=t,t=void 0),C.ajax({url:e,type:o,dataType:i,data:t,success:n})}}),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(t){var e;return C.isFunction(t)?this.each(function(e){C(this).wrapAll(t.call(this,e))}):(this[0]&&(e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(n){return C.isFunction(n)?this.each(function(e){C(this).wrapInner(n.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=C.isFunction(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){C.nodeName(this,"body")||C(this).replaceWith(this.childNodes)}).end()}}),C.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},C.expr.filters.visible=function(e){return!C.expr.filters.hidden(e)};var bt=/%20/g,yt=/\[\]$/,wt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,$t=/^(?:input|select|textarea|keygen)/i;C.param=function(e,t){function n(e,t){t=C.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var i,o=[];if(void 0===t&&(t=C.ajaxSettings&&C.ajaxSettings.traditional),C.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,o,r){if(C.isArray(e))C.each(e,function(e,t){o||yt.test(i)?r(i,t):n(i+"["+("object"==typeof t?e:"")+"]",t,o,r)});else if(o||"object"!==C.type(e))r(i,e);else for(var t in e)n(i+"["+t+"]",e[t],o,r)}(i,e[i],t,n);return o.join("&").replace(bt,"+")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&$t.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!oe.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:C.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:n.replace(wt,"\r\n")}}).get()}}),C.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xt=0,kt={},St={0:200,1223:204},N=C.ajaxSettings.xhr(),Et=(f.attachEvent&&f.attachEvent("onunload",function(){for(var e in kt)kt[e]()}),g.cors=!!N&&"withCredentials"in N,g.ajax=N=!!N,C.ajaxTransport(function(r){var a;if(g.cors||N&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr(),o=++xt;if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(delete kt[o],a=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?t(i.status,i.statusText):t(St[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=a(),i.onerror=a("error"),a=kt[o]=a("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(n){var i,o;if(n.crossDomain)return{send:function(e,t){i=C("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){i.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),m.head.appendChild(i[0])},abort:function(){o&&o()}}}),[]),Mt=/(=)\?(?=&|$)|\?\?/,Pt=(C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Et.pop()||C.expando+"_"+it++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,r,a=!1!==e.jsonp&&(Mt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Mt,"$1"+i):!1!==e.jsonp&&(e.url+=(ot.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||C.error(i+" was not called"),r[0]},e.dataTypes[0]="json",o=f[i],f[i]=function(){r=arguments},n.always(function(){f[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Et.push(i)),r&&C.isFunction(o)&&o(r[0]),r=o=void 0}),"script"}),C.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||m;var i=q.exec(e),n=!n&&[];return i?[t.createElement(i[1])]:(i=C.buildFragment([e],t,n),n&&n.length&&C(n).remove(),C.merge([],i.childNodes))},C.fn.load),Tt=(C.fn.load=function(e,t,n){if("string"!=typeof e&&Pt)return Pt.apply(this,arguments);var i,o,r,a=this,s=e.indexOf(" ");return 0<=s&&(i=C.trim(e.slice(s)),e=e.slice(0,s)),C.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<a.length&&C.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,r||[e.responseText,t,e])}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.expr.filters.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},f.document.documentElement);function Dt(e){return C.isWindow(e)?e:9===e.nodeType&&e.defaultView}C.offset={setOffset:function(e,t,n){var i,o,r,a,s=C.css(e,"position"),l=C(e),c={};"static"===s&&(e.style.position="relative"),r=l.offset(),i=C.css(e,"top"),a=C.css(e,"left"),s=("absolute"===s||"fixed"===s)&&-1<(i+a).indexOf("auto")?(o=(s=l.position()).top,s.left):(o=parseFloat(i)||0,parseFloat(a)||0),null!=(t=C.isFunction(t)?t.call(e,n,r):t).top&&(c.top=t.top-r.top+o),null!=t.left&&(c.left=t.left-r.left+s),"using"in t?t.using.call(e,c):l.css(c)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n=this[0],i={top:0,left:0},o=n&&n.ownerDocument;return o?(e=o.documentElement,C.contains(e,n)?(typeof n.getBoundingClientRect!=y&&(i=n.getBoundingClientRect()),n=Dt(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):void 0},position:function(){var e,t,n,i;if(this[0])return n=this[0],i={top:0,left:0},"fixed"===C.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),(i=C.nodeName(e[0],"html")?i:e.offset()).top+=C.css(e[0],"borderTopWidth",!0),i.left+=C.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-C.css(n,"marginTop",!0),left:t.left-i.left-C.css(n,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Tt;e&&!C.nodeName(e,"html")&&"static"===C.css(e,"position");)e=e.offsetParent;return e||Tt})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r="pageYOffset"===o;C.fn[t]=function(e){return s(this,function(e,t,n){var i=Dt(e);if(void 0===n)return i?i[o]:e[t];i?i.scrollTo(r?f.pageXOffset:n,r?n:f.pageYOffset):e[t]=n},t,e,arguments.length,null)}}),C.each(["top","left"],function(e,n){C.cssHooks[n]=Ae(g.pixelPosition,function(e,t){if(t)return t=M(e,n),De.test(t)?C(e).position()[n]+"px":t})}),C.each({Height:"height",Width:"width"},function(r,a){C.each({padding:"inner"+r,content:a,"":"outer"+r},function(i,e){C.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),o=i||(!0===e||!0===t?"margin":"border");return s(this,function(e,t,n){var i;return C.isWindow(e)?e.document.documentElement["client"+r]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+r],i["scroll"+r],e.body["offset"+r],i["offset"+r],i["client"+r])):void 0===n?C.css(e,t,o):C.style(e,t,n,o)},a,n?e:void 0,n,null)}})}),C.fn.size=function(){return this.length},C.fn.andSelf=C.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var At=f.jQuery,Ot=f.$;return C.noConflict=function(e){return f.$===C&&(f.$=Ot),e&&f.jQuery===C&&(f.jQuery=At),C},typeof L==y&&(f.jQuery=f.$=C),C}),!function(){"use strict";function e(e){e.interceptors.push("angularDateInterceptor")}angular.module("angularDateInterceptor",[]).service("angularDateInterceptor",function(){var o=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/;function r(i){angular.isObject(i)&&angular.forEach(i,function(e,t){var n;n=e,angular.isString(n)&&o.test(n)?i[t]=new Date(e):angular.isObject(e)&&r(e)})}this.response=function(e){return r(e.data),e}}).config(e),e.$inject=["$httpProvider"]}(),!function(n,a){"use strict";var o=n.isDefined,u=n.isUndefined,i=n.isFunction,l=n.isString,s=n.isNumber,c=n.isObject,d=n.isArray,p=n.forEach,r=n.extend,h=n.copy,f=n.equals;function g(t){return d(t)?t:Object.keys(t).map(function(e){return t[e]})}function m(t,n){return-1==Object.keys(t).map(function(e){return n[e]!==a&&n[e]==t[e]}).indexOf(!1)}function v(e,t){if(""===t)return e;var n=e.indexOf(t.charAt(0));return-1!==n&&v(e.substr(n+1),t.substr(1))}function b(e,t,n){var i=0;return e.filter(function(e){e=o(n)?i<t&&n(e):i<t;return i=e?i+1:i,e})}function y(e,t,n){return n.round(e*n.pow(10,t))/n.pow(10,t)}function e(){return function(e,t){return t<e}}function t(){return function(e,t){return t<=e}}function w(){return function(e,t){return e<t}}function C(){return function(e,t){return e<=t}}function $(){return function(e,t){return e==t}}function x(){return function(e,t){return e!=t}}function k(){return function(e,t){return e===t}}function S(){return function(e,t){return e!==t}}function E(n){return function(e,t){return e=c(e)?g(e):e,!(!d(e)||u(t))&&e.some(function(e){return c(e)||i(t)?n(t)(e):e===t})}}function M(o){return function(e,t){if(e=c(e)?g(e):e,!d(e))return e;var n=[],i=o(t);return u(t)?e.filter(function(e,t,n){return n.indexOf(e)===t}):e.filter(function(e){e=i(e);return!function(e,t){if(u(t))return;return e.some(function(e){return f(e,t)})}(n,e)&&(n.push(e),!0)})}}String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),n.module("a8m.angular",[]).filter("isUndefined",function(){return function(e){return n.isUndefined(e)}}).filter("isDefined",function(){return function(e){return n.isDefined(e)}}).filter("isFunction",function(){return function(e){return n.isFunction(e)}}).filter("isString",function(){return function(e){return n.isString(e)}}).filter("isNumber",function(){return function(e){return n.isNumber(e)}}).filter("isArray",function(){return function(e){return n.isArray(e)}}).filter("isObject",function(){return function(e){return n.isObject(e)}}).filter("isEqual",function(){return function(e,t){return n.equals(e,t)}}),n.module("a8m.conditions",[]).filter({isGreaterThan:e,">":e,isGreaterThanOrEqualTo:t,">=":t,isLessThan:w,"<":w,isLessThanOrEqualTo:C,"<=":C,isEqualTo:$,"==":$,isNotEqualTo:x,"!=":x,isIdenticalTo:k,"===":k,isNotIdenticalTo:S,"!==":S}),n.module("a8m.is-null",[]).filter("isNull",function(){return function(e){return null===e}}),n.module("a8m.after-where",[]).filter("afterWhere",function(){return function(e,t){if(e=c(e)?g(e):e,!d(e)||u(t))return e;var n=e.map(function(e){return m(t,e)}).indexOf(!0);return e.slice(-1===n?0:n)}}),n.module("a8m.after",[]).filter("after",function(){return function(e,t){return e=c(e)?g(e):e,d(e)?e.slice(t):e}}),n.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(e,t){if(e=c(e)?g(e):e,!d(e)||u(t))return e;var n=e.map(function(e){return m(t,e)}).indexOf(!0);return e.slice(0,-1===n?e.length:++n)}}),n.module("a8m.before",[]).filter("before",function(){return function(e,t){return e=c(e)?g(e):e,d(e)?e.slice(0,t&&--t):e}}),n.module("a8m.concat",[]).filter("concat",[function(){return function(e,t){return u(t)?e:d(e)?c(t)?e.concat(g(t)):e.concat(t):c(e)?(n=g(e),c(t)?n.concat(g(t)):n.concat(t)):e;var n}}]),n.module("a8m.contains",[]).filter({contains:["$parse",E],some:["$parse",E]}),n.module("a8m.count-by",[]).filter("countBy",["$parse",function(r){return function(e,t){var n,i={},o=r(t);return e=c(e)?g(e):e,!d(e)||u(t)?e:(e.forEach(function(e){n=o(e),i[n]||(i[n]=0),i[n]++}),i)}}]),n.module("a8m.defaults",[]).filter("defaults",["$parse",function(o){return function(e,i){if(e=c(e)?g(e):e,!d(e)||!c(i))return e;var t=function t(n,i,o){return i=i||[],Object.keys(n).forEach(function(e){c(n[e])&&!d(n[e])?t(n[e],i,o&&o+"."+e||e):i.push(o?o+"."+e:e)}),i}(i);return e.forEach(function(n){t.forEach(function(e){var e=o(e),t=e.assign;u(e(n))&&t(n,e(i))})}),e}}]),n.module("a8m.every",[]).filter("every",["$parse",function(n){return function(e,t){return e=c(e)?g(e):e,!(d(e)&&!u(t))||e.every(function(e){return c(e)||i(t)?n(t)(e):e===t})}}]),n.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(r){return function(e,t,n){var o;return n=l(n)||s(n)?String(n).toLowerCase():a,e=c(e)?g(e):e,!d(e)||u(n)?e:e.filter(function(i){return t.some(function(e){return o=~e.indexOf("+")?e.replace(new RegExp("\\s","g"),"").split("+").reduce(function(e,t,n){return 1===n?r(e)(i)+" "+r(t)(i):e+" "+r(t)(i)}):r(e)(i),!(!l(o)&&!s(o))&&String(o).toLowerCase().contains(n)})})}}]),n.module("a8m.first",[]).filter("first",["$parse",function(o){return function(e){var t,n,i;return e=c(e)?g(e):e,d(e)?(i=Array.prototype.slice.call(arguments,1),t=s(i[0])?i[0]:1,n=s(i[0])?s(i[1])?a:i[1]:i[0],i.length?b(e,t,n&&o(n)):e[0]):e}}]),n.module("a8m.flatten",[]).filter("flatten",function(){return function(e,t){return t=t||!1,e=c(e)?g(e):e,d(e)?t?[].concat.apply([],e):function e(t,n){n=n||0;if(n>=t.length)return t;if(d(t[n]))return e(t.slice(0,n).concat(t[n],t.slice(n+1)),n);return e(t,n+1)}(e,0):e}}),n.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(s){return function(e,t,n,i){var o,r,a=i||!1;return e=c(e)?g(e):e,!d(e)||u(t)||u(n)?e:(r=s(t),e.filter(function(e){return o=r(e),!!l(o)&&(o=a?o:o.toLowerCase(),n=a?n:n.toLowerCase(),!1!==v(o,n))}))}}]),n.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(e,r,t){var a=t||!1;return e=c(e)?g(e):e,!d(e)||u(r)?e:(r=a?r:r.toLowerCase(),e.filter(function(e){return l(e)?!1!==v(e=a?e:e.toLowerCase(),r):!!c(e)&&(t=e,n=r,0<Object.keys(t).filter(function(e){return i=t[e],!!o||!!l(i)&&(i=a?i:i.toLowerCase(),o=!1!==v(i,n))}).length);var t,n,i,o}))}}),n.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(r,a){return function(e,t){if(!c(e)||u(t))return e;var n,i,o,t=r(t);return a.isMemoized("groupBy",arguments)||a.memoize("groupBy",arguments,this,(n=t,o={},p(e,function(e){i=n(e),o[i]||(o[i]=[]),o[i].push(e)}),o))}}]),n.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(e){return c(e)?!g(e).length:!e.length}}),n.module("a8m.join",[]).filter("join",function(){return function(e,t){return u(e)||!d(e)?e:(u(t)&&(t=" "),e.join(t))}}),n.module("a8m.last",[]).filter("last",["$parse",function(o){return function(e){var t,n,i,e=h(e),e=c(e)?g(e):e;return d(e)?(i=Array.prototype.slice.call(arguments,1),t=s(i[0])?i[0]:1,n=s(i[0])?s(i[1])?a:i[1]:i[0],i.length?b(e.reverse(),t,n&&o(n)).reverse():e[e.length-1]):e}}]),n.module("a8m.map",[]).filter("map",["$parse",function(n){return function(e,t){return e=c(e)?g(e):e,!d(e)||u(t)?e:e.map(function(e){return n(t)(e)})}}]),n.module("a8m.omit",[]).filter("omit",["$parse",function(n){return function(e,t){return e=c(e)?g(e):e,!d(e)||u(t)?e:e.filter(function(e){return!n(t)(e)})}}]),n.module("a8m.pick",[]).filter("pick",["$parse",function(n){return function(e,t){return e=c(e)?g(e):e,!d(e)||u(t)?e:e.filter(function(e){return n(t)(e)})}}]),n.module("a8m.remove-with",[]).filter("removeWith",function(){return function(e,t){return u(t)?e:(e=c(e)?g(e):e).filter(function(e){return!m(t,e)})}}),n.module("a8m.remove",[]).filter("remove",function(){return function(e){e=c(e)?g(e):e;var n=Array.prototype.slice.call(arguments,1);return d(e)?e.filter(function(t){return!n.some(function(e){return f(e,t)})}):e}}),n.module("a8m.reverse",[]).filter("reverse",[function(){return function(e){return e=c(e)?g(e):e,l(e)?e.split("").reverse().join(""):d(e)?e.slice().reverse():e}}]),n.module("a8m.search-field",[]).filter("searchField",["$parse",function(o){return function(e){e=c(e)?g(e):e;var n,i=Array.prototype.slice.call(arguments,1);return d(e)&&i.length?e.map(function(t){return n=i.map(function(e){return o(e)(t)}).join(" "),r(t,{searchField:n})}):e}}]),n.module("a8m.to-array",[]).filter("toArray",function(){return function(t,e){return c(t)?e?Object.keys(t).map(function(e){return r(t[e],{$key:e})}):g(t):t}}),n.module("a8m.unique",[]).filter({unique:["$parse",M],uniq:["$parse",M]}),n.module("a8m.where",[]).filter("where",function(){return function(e,t){return u(t)?e:(e=c(e)?g(e):e).filter(function(e){return m(t,e)})}}),n.module("a8m.xor",[]).filter("xor",["$parse",function(r){return function(t,n,i){return i=i||!1,t=c(t)?g(t):t,n=c(n)?g(n):n,d(t)&&d(n)?t.concat(n).filter(function(e){return!(o(e,t)&&o(e,n))}):t;function o(t,e){var n=r(i);return e.some(function(e){return i?f(n(e),n(t)):f(e,t)})}}}]),n.module("a8m.math.byteFmt",["a8m.math"]).filter("byteFmt",["$math",function(n){return function(e,t){return s(t)&&isFinite(t)&&t%1==0&&0<=t&&s(e)&&isFinite(e)?e<1024?y(e,t,n)+" B":e<1048576?y(e/1024,t,n)+" KB":e<1073741824?y(e/1048576,t,n)+" MB":y(e/1073741824,t,n)+" GB":"NaN"}}]),n.module("a8m.math.degrees",["a8m.math"]).filter("degrees",["$math",function(n){return function(e,t){return s(t)&&isFinite(t)&&t%1==0&&0<=t&&s(e)&&isFinite(e)?(e=180*e/n.PI,n.round(e*n.pow(10,t))/n.pow(10,t)):"NaN"}}]),n.module("a8m.math.kbFmt",["a8m.math"]).filter("kbFmt",["$math",function(n){return function(e,t){return s(t)&&isFinite(t)&&t%1==0&&0<=t&&s(e)&&isFinite(e)?e<1024?y(e,t,n)+" KB":e<1048576?y(e/1024,t,n)+" MB":y(e/1048576,t,n)+" GB":"NaN"}}]),n.module("a8m.math",[]).factory("$math",["$window",function(e){return e.Math}]),n.module("a8m.math.max",["a8m.math"]).filter("max",["$math","$parse",function(n,i){return function(e,t){return d(e)?u(t)?n.max.apply(n,e):e[function(e,t){e=e.map(function(e){return i(t)(e)});return e.indexOf(n.max.apply(n,e))}(e,t)]:e}}]),n.module("a8m.math.min",["a8m.math"]).filter("min",["$math","$parse",function(n,i){return function(e,t){return d(e)?u(t)?n.min.apply(n,e):e[function(e,t){e=e.map(function(e){return i(t)(e)});return e.indexOf(n.min.apply(n,e))}(e,t)]:e}}]),n.module("a8m.math.percent",["a8m.math"]).filter("percent",["$math","$window",function(o,r){return function(e,t,n){var i=l(e)?r.Number(e):e;return t=t||100,n=n||!1,!s(i)||r.isNaN(i)?e:n?o.round(i/t*100):i/t*100}}]),n.module("a8m.math.radians",["a8m.math"]).filter("radians",["$math",function(n){return function(e,t){return s(t)&&isFinite(t)&&t%1==0&&0<=t&&s(e)&&isFinite(e)?n.round(3.14159265359*e/180*n.pow(10,t))/n.pow(10,t):"NaN"}}]),n.module("a8m.math.radix",[]).filter("radix",function(){return function(e,t){return s(e)&&/^[2-9]$|^[1-2]\d$|^3[0-6]$/.test(t)?e.toString(t).toUpperCase():e}}),n.module("a8m.math.shortFmt",["a8m.math"]).filter("shortFmt",["$math",function(n){return function(e,t){return s(t)&&isFinite(t)&&t%1==0&&0<=t&&s(e)&&isFinite(e)?e<1e3?e:e<1e6?y(e/1e3,t,n)+" K":e<1e9?y(e/1e6,t,n)+" M":y(e/1e9,t,n)+" B":"NaN"}}]),n.module("a8m.math.sum",[]).filter("sum",function(){return function(e,t){return d(e)?e.reduce(function(e,t){return e+t},t||0):e}}),n.module("a8m.ends-with",[]).filter("endsWith",function(){return function(e,t,n){var i,n=n||!1;return!l(e)||u(t)?e:(i=(e=n?e:e.toLowerCase()).length-t.length,-1!==e.indexOf(n?t:t.toLowerCase(),i))}}),n.module("a8m.latinize",[]).filter("latinize",[function(){for(var e=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],t={},n=0;n<e.length;n++)for(var i=e[n].letters.split(""),o=0;o<i.length;o++)t[i[o]]=e[n].base;return function(e){return l(e)?e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e}):e}}]),n.module("a8m.ltrim",[]).filter("ltrim",function(){return function(e,t){t=t||"\\s";return l(e)?e.replace(new RegExp("^"+t+"+"),""):e}}),n.module("a8m.match",[]).filter("match",function(){return function(e,t,n){t=new RegExp(t,n);return l(e)?e.match(t):null}}),n.module("a8m.repeat",[]).filter("repeat",[function(){return function(e,t,n){var i=~~t;return l(e)&&i?function e(t,n,i){if(!n)return t;return t+i+e(t,--n,i)}(e,--t,n||""):e}}]),n.module("a8m.rtrim",[]).filter("rtrim",function(){return function(e,t){t=t||"\\s";return l(e)?e.replace(new RegExp(t+"+$"),""):e}}),n.module("a8m.slugify",[]).filter("slugify",[function(){return function(e,t){t=u(t)?"-":t;return l(e)?e.toLowerCase().replace(/\s+/g,t):e}}]),n.module("a8m.starts-with",[]).filter("startsWith",function(){return function(e,t,n){n=n||!1;return!l(e)||u(t)?e:!(e=n?e:e.toLowerCase()).indexOf(n?t:t.toLowerCase())}}),n.module("a8m.stringular",[]).filter("stringular",function(){return function(e){var n=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,t){return u(n[t])?e:n[t]})}}),n.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(e){return l(e)?e.replace(/<\S[^><]*>/g,""):e}}),n.module("a8m.test",[]).filter("test",function(){return function(e,t,n){t=new RegExp(t,n);return l(e)?t.test(e):e}}),n.module("a8m.trim",[]).filter("trim",function(){return function(e,t){t=t||"\\s";return l(e)?e.replace(new RegExp("^"+t+"+|"+t+"+$","g"),""):e}}),n.module("a8m.truncate",[]).filter("truncate",function(){return function(e,t,n,i){return t=u(t)?e.length:t,i=i||!1,n=n||"",!l(e)||e.length<=t?e:e.substring(0,i?-1===e.indexOf(" ",t)?e.length:e.indexOf(" ",t):t)+n}}),n.module("a8m.ucfirst",[]).filter("ucfirst",[function(){return function(e){return l(e)?e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" "):e}}]),n.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(t){return function(e){return l(e)?t.encodeURIComponent(e):e}}]),n.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(t){return function(e){return l(e)?t.encodeURI(e):e}}]),n.module("a8m.wrap",[]).filter("wrap",function(){return function(e,t,n){return l(e)&&o(t)?[t,e,n||t].join(""):e}}),n.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(e,o){var r={},a={},s=e.setTimeout;function l(e,t){return[e,n.toJson(t)].join("#").replace(/"/g,"")}function c(e){e=e.targetScope.$id;p(a[e],function(e){delete r[e]}),delete a[e]}return{isMemoized:function(e,t){return e=l(e,t),r[e]},memoize:function(e,t,n,i){var e=l(e,t);return r[e]=i,(t=n)&&t.$evalAsync&&t.$watch?(t=e,n=(e=n).$id,u(a[n])&&(e.$on("$destroy",c),a[n]=[]),a[n].push(t)):s(function(){o.$$phase||(r={})}),i}}}]}),n.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.math","a8m.math.max","a8m.math.min","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}((window,window.angular)),angular.module("ngLocale",[],["$provide",function(e){var n="one",i="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["a. m.","p. m."],DAY:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],ERANAMES:["antes de Cristo","después de Cristo"],ERAS:["a. C.","d. C."],FIRSTDAYOFWEEK:0,MONTH:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],SHORTDAY:["dom.","lun.","mar.","mié.","jue.","vie.","sáb."],SHORTMONTH:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],STANDALONEMONTH:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],WEEKENDRANGE:[5,6],fullDate:"EEEE, d 'de' MMMM 'de' y",longDate:"d 'de' MMMM 'de' y",medium:"dd-MM-y h:mm:ss a",mediumDate:"dd-MM-y",mediumTime:"h:mm:ss a",short:"dd-MM-yy h:mm a",shortDate:"dd-MM-yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤-",negSuf:"",posPre:"¤",posSuf:""}]},id:"es-cl",localeID:"es_CL",pluralCat:function(e,t){return 1==e?n:i}})}]),!function(){"use strict";angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"close-html":'<button class="toast-close-button" type="button">&times;</button>',"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).service("toaster",["$rootScope","toasterConfig",function(d,e){var t,p={newGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}};for(t in this.pop=function(e,t,n,i,o,r,a,s,l,c){var u;return angular.isObject(e)?(this.toast={type:(u=e).type,title:u.title,body:u.body,timeout:u.timeout,bodyOutputType:u.bodyOutputType,clickHandler:u.clickHandler,showCloseButton:u.showCloseButton,closeHtml:u.closeHtml,toastId:u.toastId,onShowCallback:u.onShowCallback,onHideCallback:u.onHideCallback,directiveData:u.directiveData},a=u.toasterId):this.toast={type:e,title:t,body:n,timeout:i,bodyOutputType:o,clickHandler:r,showCloseButton:s,toastId:l,onHideCallback:c},this.toast.toastId&&this.toast.toastId.length||(this.toast.toastId=p.newGuid()),d.$emit("toaster-newToast",a,this.toast.toastId),{toasterId:a,toastId:this.toast.toastId}},this.clear=function(e,t){angular.isObject(e)?d.$emit("toaster-clearToasts",e.toasterId,e.toastId):d.$emit("toaster-clearToasts",e,t)},e["icon-classes"])this[t]=function(c){return function(e,t,n,i,o,r,a,s,l){return angular.isString(e)?this.pop(c,e,t,n,i,o,r,a,s,l):this.pop(angular.extend(e,{type:c}))}}(t)}]).factory("toasterEventRegistry",["$rootScope",function(e){var t=null,n=null,r=[],a=[],i={setup:function(){t=t||e.$on("toaster-newToast",function(e,t,n){for(var i=0,o=r.length;i<o;i++)r[i](e,t,n)}),n=n||e.$on("toaster-clearToasts",function(e,t,n){for(var i=0,o=a.length;i<o;i++)a[i](e,t,n)})},subscribeToNewToastEvent:function(e){r.push(e)},subscribeToClearToastsEvent:function(e){a.push(e)},unsubscribeToNewToastEvent:function(e){e=r.indexOf(e);0<=e&&r.splice(e,1),0===r.length&&(t(),t=null)},unsubscribeToClearToastsEvent:function(e){e=a.indexOf(e);0<=e&&a.splice(e,1),0===a.length&&(n(),n=null)}};return{setup:i.setup,subscribeToNewToastEvent:i.subscribeToNewToastEvent,subscribeToClearToastsEvent:i.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:i.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:i.unsubscribeToClearToastsEvent}}]).directive("directiveTemplate",["$compile","$injector",function(r,a){return{restrict:"A",scope:{directiveName:"@directiveName",directiveData:"@directiveData"},replace:!0,link:function(n,i,o){n.$watch("directiveName",function(t){if(angular.isUndefined(t)||t.length<=0)throw new Error("A valid directive name must be provided via the toast body argument when using bodyOutputType: directive");try{e=a.get(o.$normalize(t)+"Directive")}catch(e){throw new Error(t+" could not be found. The name should appear as it exists in the markup, not camelCased as it would appear in the directive declaration, e.g. directive-name not directiveName.")}var e=e[0];if(!0!==e.scope&&e.scope)throw new Error("Cannot use a directive with an isolated scope. The scope must be either true or falsy (e.g. false/null/undefined). Occurred for directive "+t+".");if(e.restrict.indexOf("A")<0)throw new Error('Directives must be usable as attributes. Add "A" to the restrict option (or remove the option entirely). Occurred for directive '+t+".");n.directiveData&&(n.directiveData=angular.fromJson(n.directiveData));e=r("<div "+t+"></div>")(n);i.append(e)})}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(p,e,o,h,n,f,i){return{replace:!0,restrict:"EA",scope:!0,link:function(c,e,t){var u;function r(e){var t=c.toasters[e];t.timeoutPromise&&o.cancel(t.timeoutPromise),c.toasters.splice(e,1),angular.isFunction(t.onHideCallback)&&t.onHideCallback()}function d(e){return angular.isUndefined(e)||null===e}u=angular.extend({},n,c.$eval(t.toasterOptions)),c.config={toasterId:u["toaster-id"],position:u["position-class"],title:u["title-class"],message:u["message-class"],tap:u["tap-to-dismiss"],closeButton:u["close-button"],closeHtml:u["close-html"],animation:u["animation-class"],mouseoverTimer:u["mouseover-timer-stop"]},c.$on("$destroy",function(){i.unsubscribeToNewToastEvent(c._onNewToast),i.unsubscribeToClearToastsEvent(c._onClearToasts)}),c.configureTimer=function(e){var t,n=angular.isNumber(e.timeout)?e.timeout:u["time-out"];0<(n="object"==typeof n?n[e.type]:n)&&(n=n,(t=e).timeoutPromise=o(function(){c.removeToast(t.toastId)},n,1))},c.removeToast=function(e){for(var t=0,n=c.toasters.length;t<n;t++)if(c.toasters[t].toastId===e){r(t);break}},c.toasters=[],c._onNewToast=function(e,t,n){if(d(c.config.toasterId)&&d(t)||!d(c.config.toasterId)&&!d(t)&&c.config.toasterId==t){var i=f.toast,o=n;if(i.type=u["icon-classes"][i.type],i.type||(i.type=u["icon-class"]),!0===u["prevent-duplicates"]&&c.toasters.length){if(c.toasters[c.toasters.length-1].body===i.body)return;for(var r=!1,a=0,s=c.toasters.length;a<s;a++)if(c.toasters[a].toastId===o){r=!0;break}if(r)return}t=u["close-button"];switch("boolean"!=typeof i.showCloseButton&&("boolean"==typeof t?i.showCloseButton=t:"object"==typeof t?null!=(t=t[i.type])&&(i.showCloseButton=t):i.showCloseButton=!1),i.showCloseButton&&(i.closeHtml=h.trustAsHtml(i.closeHtml||c.config.closeHtml)),i.bodyOutputType=i.bodyOutputType||u["body-output-type"],i.bodyOutputType){case"trustedHtml":i.html=h.trustAsHtml(i.body);break;case"template":i.bodyTemplate=i.body||u["body-template"];break;case"templateWithData":var l=p(i.body||u["body-template"])(c);i.bodyTemplate=l.template,i.data=l.data;break;case"directive":i.html=i.body}c.configureTimer(i),!0===u["newest-on-top"]?(c.toasters.unshift(i),0<u.limit&&c.toasters.length>u.limit&&c.toasters.pop()):(c.toasters.push(i),0<u.limit&&c.toasters.length>u.limit&&c.toasters.shift()),angular.isFunction(i.onShowCallback)&&i.onShowCallback()}},c._onClearToasts=function(e,t,n){if("*"==t||d(c.config.toasterId)&&d(t)||!d(c.config.toasterId)&&!d(t)&&c.config.toasterId==t)for(var i=n,o=c.toasters.length-1;0<=o;o--)(d(i)||c.toasters[o].toastId==i)&&r(o)},i.setup(),i.subscribeToNewToastEvent(c._onNewToast),i.subscribeToClearToastsEvent(c._onClearToasts)},controller:["$scope","$element","$attrs",function(i,e,t){i.stopTimer=function(e){!0===i.config.mouseoverTimer&&e.timeoutPromise&&(o.cancel(e.timeoutPromise),e.timeoutPromise=null)},i.restartTimer=function(e){!0===i.config.mouseoverTimer?e.timeoutPromise||i.configureTimer(e):null===e.timeoutPromise&&i.removeToast(e.toastId)},i.click=function(e,t){var n;(!0===i.config.tap||!0===e.showCloseButton&&!0===t)&&(n=!0,e.clickHandler&&(angular.isFunction(e.clickHandler)?n=e.clickHandler(e,t):angular.isFunction(i.$parent.$eval(e.clickHandler))?n=i.$parent.$eval(e.clickHandler)(e,t):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),n&&i.removeToast(e.toastId))}}],template:'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click(toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><div ng-if="toaster.showCloseButton" ng-click="click(toaster, true)" ng-bind-html="toaster.closeHtml"></div><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="directive"><div directive-template directive-name="{{toaster.html}}" directive-data="{{toaster.directiveData}}"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>'}}])}((window,document)),!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(h){h.interceptors.push(["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,o,n,i,r,a){var s,l=0,c=0,u=a.latencyThreshold;function d(){n.cancel(s),a.complete(),l=c=0}function p(e){var t,n=o.get("$http"),i=h.defaults,i=void 0!==(t=!e.cache&&!i.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method?t:angular.isObject(e.cache)?e.cache:angular.isObject(i.cache)?i.cache:n)&&void 0!==t.get(e.url);return void 0!==e.cached&&i!==e.cached?e.cached:e.cached=i}return{request:function(e){return e.ignoreLoadingBar||p(e)||(i.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===l&&(s=n(function(){a.start()},u)),l++,a.set(c/l)),e},response:function(e){return e&&e.config?e.config.ignoreLoadingBar||p(e.config)||(c++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),l<=c?d():a.set(c/l)):r.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e},responseError:function(e){return e&&e.config?e.config.ignoreLoadingBar||p(e.config)||(c++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),l<=c?d():a.set(c/l)):r.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e)}}}])}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(t,n,i,o){var r,a,s,l=this.parentSelector,c=angular.element(this.loadingBarTemplate),u=c.find("div").eq(0),d=angular.element(this.spinnerTemplate),p=!1,h=0,f=this.includeSpinner,g=this.includeBar,m=this.startSize;function v(e){p&&(u.css("width",100*e+"%"),h=e,i.cancel(a),a=i(function(){b()},250))}function b(){var e,t;1<=h||(t=(t=0)<=(e=h)&&e<.25?(3*Math.random()+3)/100:.25<=e&&e<.65?3*Math.random()/100:.65<=e&&e<.9?2*Math.random()/100:.9<=e&&e<.99?.005:0,v(h+t))}function e(){return h}function y(){h=0,p=!1}return{start:function(){r=r||t.get("$animate");var e=n.find(l).eq(0);i.cancel(s),p||(o.$broadcast("cfpLoadingBar:started"),p=!0,g&&r.enter(c,e,angular.element(e[0].lastChild)),f&&r.enter(d,e,angular.element(e[0].lastChild)),v(m))},set:v,status:e,inc:b,complete:function(){r=r||t.get("$animate"),o.$broadcast("cfpLoadingBar:completed"),v(1),i.cancel(s),s=i(function(){var e=r.leave(c,y);e&&e.then&&e.then(y),r.leave(d)},500)},includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():e()}(function(){function e(t){"use strict";function e(){var e=t.preferredLanguage();angular.isString(e)?t.use(e):i.put(n,t.use())}var n=t.storageKey(),i=t.storage();e.displayName="fallbackFromIncorrectStorageValue",i?i.get(n)?t.use(i.get(n)).catch(e):e():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function t(e,r,a,o){"use strict";function t(){if(angular.isFunction(o.getLocale))return o.getLocale();var e,t,n=r.$get().navigator,i=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(e=0;e<n.languages.length;e++)if((t=n.languages[e])&&t.length)return t;for(e=0;e<i.length;e++)if((t=n[i[e]])&&t.length)return t;return null}function R(){var e=t()||"";return e=s[i]?s[i](e):e}function I(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function N(){return this.toString().replace(/^\s+|\s+$/g,"")}function c(e){return angular.isString(e)?e.toLowerCase():e}function L(e){if(e){for(var t,n,i=[],o=c(e),r=0,a=Q.length;r<a;r++)i.push(c(Q[r]));if(-1<(r=I(i,o)))return Q[r];if(u)for(n in u)if(u.hasOwnProperty(n)){var s=!1,l=Object.prototype.hasOwnProperty.call(u,n)&&c(n)===c(e);if("*"===n.slice(-1)&&(s=c(n.slice(0,-1))===c(e.slice(0,n.length-1))),(l||s)&&(t=u[n],-1<I(i,c(t))))return t}o=e.split("_");return 1<o.length&&-1<I(i,c(o[0]))?o[0]:void 0}}function _(e,t){if(!e&&!t)return X;if(e&&!t){if(angular.isString(e))return X[e]}else angular.isObject(X[e])||(X[e]={}),angular.extend(X[e],le(t));return this}function G(e){return e?(J=e,this):n?n+J:J}var F,u,V,z,U,H,B,n,j,ce,W,q,Y,K,Z,ue,X={},Q=[],J=e,ee=[],te="translate-cloak",de=!1,ne=!1,ie=!0,oe=".",re=!1,pe=!1,ae=0,se=!0,i="default",s={default:function(e){return(e||"").split("-").join("_")},java:function(e){var e=(e||"").split("-").join("_"),t=e.split("_");return 1<t.length?t[0].toLowerCase()+"_"+t[1].toUpperCase():e},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");switch(n.length){case 1:n[0]=n[0].toLowerCase();break;case 2:n[0]=n[0].toLowerCase(),4===n[1].length?n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase():n[1]=n[1].toUpperCase();break;case 3:n[0]=n[0].toLowerCase(),n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase(),n[2]=n[2].toUpperCase();break;default:return t}return n.join("-")},"iso639-1":function(e){return(e||"").split("_").join("-").split("-")[0].toLowerCase()}},le=(t.displayName="angular-translate/service: getFirstBrowserLanguage",R.displayName="angular-translate/service: getLocale",this.translations=_,this.cloakClassName=function(e){return e?(te=e,this):te},this.allowNamespaces=function(e){return void 0===e?ie:(ie=e,this)},this.nestedObjectDelimeter=function(e){return e?(oe=e,this):oe},function(e,t,n,i){var o,r,a;if(t=t||[],n=n||{},!ie)return e;for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a=e[o],angular.isObject(a)?le(a,t.concat(o),n,o):(r=t.length?""+t.join(oe)+oe+o:o,t.length&&o===i&&(n[""+t.join(oe)]="@:"+r),n[r]=a));return n}),he=(le.displayName="flatObject",this.addInterpolation=function(e){return ee.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return ce=e,this},this.useSanitizeValueStrategy=function(e){return a.useStrategy(e),this},this.preferredLanguage=function(e){return e?(he(e),this):F},function(e){return F=e?e:F}),fe=(this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(Y=e,this):Y},this.translationNotFoundIndicatorRight=function(e){return e?(K=e,this):K},this.fallbackLanguage=function(e){return fe(e),this},function(e){return e?(angular.isString(e)?(z=!0,V=[e]):angular.isArray(e)&&(z=!1,V=e),angular.isString(F)&&I(V,F)<0&&V.push(F),this):z?V[0]:V});this.use=function(e){if(e){if(X[e]||W)return U=e,this;throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'")}return U},this.resolveClientLocale=R;this.storageKey=G,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return W=e,q=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return B=e,this},this.storagePrefix=function(e){return e&&(n=e,this)},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return j=e,this},this.usePostCompiling=function(e){return de=!!e,this},this.forceAsyncReload=function(e){return ne=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},i=e.standard,this},this.determinePreferredLanguage=function(e){e=(e&&angular.isFunction(e)?e:R)();return F=Q.length&&L(e)||e,this},this.registerAvailableLanguageKeys=function(e,t){return e?(Q=e,t&&(u=t),this):Q},this.useLoaderCache=function(e){return!1===e?Z=void 0:!0===e?Z=!0:void 0===e?Z="$translationCache":e&&(Z=e),this},this.directivePriority=function(e){return void 0===e?ae:(ae=e,this)},this.statefulFilter=function(e){return void 0===e?se:(se=e,this)},this.postProcess=function(e){return ue=e||void 0,this},this.keepContent=function(e){return pe=!!e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,s,r,m){function a(e){function t(e,t){d[t].setLocale(U)}U=e,B&&v.put(C.storageKey(),U),r.$emit("$translateChangeSuccess",{language:e}),g.setLocale(U),t.displayName="eachInterpolatorLocaleSetter",angular.forEach(d,t),r.$emit("$translateChangeEnd",{language:e})}var v,b,u,t,g=s.get(ce||"$translateDefaultInterpolation"),y=!1,d={},w={},C=function(e,i,o,r,a,s){!U&&F&&(U=F);var t=a&&a!==U?L(a)||a:U;if(a&&P(a),angular.isArray(e)){for(var n=e,l={},c=[],u=function(t){function e(e){l[t]=e,n.resolve([t,e])}var n=m.defer();return C(t,i,o,r,a,s).then(e,e),n.promise},d=0,p=n.length;d<p;d++)c.push(u(n[d]));return m.all(c).then(function(){return l})}var h=m.defer();if(!e)throw new TypeError("translationId must be a not empty string");e=N.apply(e);f=w[t]||w[F],b=0,B&&!f&&(g=v.get(J),f=w[g],V&&V.length&&(g=I(V,g),b=0===g?1:0,I(V,F)<0&&V.push(F)));var f,g=f;return g?((f=function(){S(e,i,o,r,t=a?t:U,s).then(h.resolve,h.reject)}).displayName="promiseResolved",g.finally(f).catch(angular.noop)):S(e,i,o,r,t,s).then(h.resolve,h.reject),h.promise},$=function(e){return Y&&(e=[Y,e].join(" ")),e=K?[e,K].join(" "):e},l=function(n){if(!n)throw"No language key specified for loading.";function e(e){var t={};r.$emit("$translateLoadingSuccess",{language:n}),angular.isArray(e)?angular.forEach(e,function(e){angular.extend(t,le(e))}):angular.extend(t,le(e)),y=!1,i.resolve({key:n,table:t}),r.$emit("$translateLoadingEnd",{language:n})}function t(e){r.$emit("$translateLoadingError",{language:e}),i.reject(e),r.$emit("$translateLoadingEnd",{language:e})}var i=m.defer(),o=(r.$emit("$translateLoadingStart",{language:n}),y=!0,Z),o=("string"==typeof o&&(o=s.get(o)),angular.extend({},q,{key:n,$http:angular.extend({},{cache:o},q.$http)}));e.displayName="onLoaderSuccess";return t.displayName="onLoaderError",s.get(W)(o).then(e,t),i.promise};if(B&&(!(v=s.get(B)).get||!v.put))throw new Error("Couldn't use storage '"+B+"', missing get() or put() method!");ee.length&&((t=function(e){e=s.get(e);e.setLocale(F||U),d[e.getInterpolationIdentifier()]=e}).displayName="interpolationFactoryAdder",angular.forEach(ee,t));function p(n,i,o,r,a){function e(e){var t;Object.prototype.hasOwnProperty.call(e,i)&&null!==e[i]?(r.setLocale(n),"@:"===(t=e[i]).substr(0,2)?p(n,t.substr(2),o,r,a).then(c.resolve,c.reject):(t=r.interpolate(e[i],o,"service",a,i),t=M(i,e[i],t,o,n),c.resolve(t)),r.setLocale(U)):c.reject()}var t,s,l,c=m.defer();return e.displayName="fallbackTranslationResolver",t=n,l=m.defer(),Object.prototype.hasOwnProperty.call(X,t)?l.resolve(X[t]):w[t]?((s=function(e){_(e.key,e.table),l.resolve(e.table)}).displayName="translationTableResolver",w[t].then(s,l.reject)):l.reject(),l.promise.then(e,c.reject),c.promise}function c(e,t,n,i,o){var r,a=X[e];if(a&&Object.prototype.hasOwnProperty.call(a,t)&&null!==a[t]){if(i.setLocale(e),r=i.interpolate(a[t],n,"filter",o,t),r=M(t,a[t],r,n,e,o),!angular.isString(r)&&angular.isFunction(r.$$unwrapTrustedValue)){a=r.$$unwrapTrustedValue();if("@:"===a.substr(0,2))return c(e,a.substr(2),n,i,o)}else if("@:"===r.substr(0,2))return c(e,r.substr(2),n,i,o);i.setLocale(U)}return r}function h(e,t,n,i,o,r){var a,s=m.defer();return e<V.length?(a=V[e],p(a,t,n,i,r).then(function(e){s.resolve(e)},function(){return h(e+1,t,n,i,o,r).then(s.resolve,s.reject)})):o?s.resolve(o):(a=x(t,n,o),j&&a?s.resolve(a):s.reject($(t))),s.promise}function f(e,t,n,i,o){var r;return e<V.length&&(r=V[e],(r=c(r,t,n,i,o))||""===r||(r=f(e+1,t,n,i))),r}var x=function(e,t,n,i){return j?s.get(j)(e,U,t,n,i):e},k=function(e,t,n,i){return f(0<u?u:b,e,t,n,i)},S=function(e,t,n,i,o,r){var a,s=m.defer(),l=o?X[o]:X,c=n?d[n]:g;return l&&Object.prototype.hasOwnProperty.call(l,e)&&null!==l[e]?"@:"===(l=l[e]).substr(0,2)?C(l.substr(2),t,n,i,o,r).then(s.resolve,s.reject):(n=c.interpolate(l,t,"service",r,e),n=M(e,l,n,t,o),s.resolve(n)):(j&&!y&&(a=x(e,t,i)),o&&V&&V.length?h(0<u?u:b,e,t,c,i,r).then(function(e){s.resolve(e)},function(e){s.reject($(e))}):j&&!y&&a?i?s.resolve(i):s.resolve(a):i?s.resolve(i):s.reject($(e))),s.promise},E=function(e,t,n,i,o){var r,a,s=i?X[i]:X,l=g;return d&&Object.prototype.hasOwnProperty.call(d,n)&&(l=d[n]),r=s&&Object.prototype.hasOwnProperty.call(s,e)&&null!==s[e]?"@:"===(s=s[e]).substr(0,2)?E(s.substr(2),t,n,i,o):(r=l.interpolate(s,t,"filter",o,e),M(e,s,r,t,i,o)):(j&&!y&&(a=x(e,t,o)),i&&V&&V.length?(b=0,k(e,t,l,o)):j&&!y&&a?a:$(e))},M=function(e,t,n,i,o,r){var a=ue;return(a=a&&("string"==typeof a?s.get(a):a))?a(e,t,n,i,o,r):n},P=function(e){X[e]||!W||w[e]||(w[e]=l(e).then(function(e){return _(e.key,e.table),e}))},n=(C.preferredLanguage=function(e){return e&&he(e),F},C.cloakClassName=function(){return te},C.allowNamespaces=function(){return ie},C.nestedObjectDelimeter=function(){return oe},C.fallbackLanguage=function(e){if(null!=e){if(fe(e),W&&V&&V.length)for(var t=0,n=V.length;t<n;t++)w[V[t]]||(w[V[t]]=l(V[t]));C.use(C.use())}return z?V[0]:V},C.useFallbackLanguage=function(e){null!=e&&(e?-1<(e=I(V,e))&&(u=e):u=0)},C.proposedLanguage=function(){return H},C.storage=function(){return v},C.negotiateLocale=L,C.use=function(t){if(!t)return U;var n=m.defer(),e=(n.promise.then(null,angular.noop),r.$emit("$translateChangeStart",{language:t}),L(t));return 0<Q.length&&!e?m.reject(t):(H=t=e?e:t,!ne&&X[t]||!W||w[t]?w[t]?w[t].then(function(e){return H===e.key&&a(e.key),n.resolve(e.key),e},function(e){return!U&&V&&0<V.length&&V[0]!==e?C.use(V[0]).then(n.resolve,n.reject):n.reject(e)}):(n.resolve(t),a(t)):(w[t]=l(t).then(function(e){return _(e.key,e.table),n.resolve(e.key),H===t&&a(e.key),e},function(e){return r.$emit("$translateChangeError",{language:e}),n.reject(e),r.$emit("$translateChangeEnd",{language:e}),m.reject(e)}),w[t].finally(function(){H===t&&(H=void 0),w[t]=void 0}).catch(angular.noop)),n.promise)},C.resolveClientLocale=R,C.storageKey=function(){return G()},C.isPostCompilingEnabled=function(){return de},C.isForceAsyncReloadEnabled=function(){return ne},C.isKeepContent=function(){return pe},C.refresh=function(e){if(!W)throw new Error("Couldn't refresh translation table, no loader registered!");r.$emit("$translateRefreshStart",{language:e});var t,n=m.defer(),i={};function o(t){var e=l(t);return(w[t]=e).then(function(e){X[t]={},_(t,e.table),i[t]=!0},angular.noop),e}return n.promise.then(function(){for(var e in X)!X.hasOwnProperty(e)||e in i||delete X[e];U&&a(U)},angular.noop).finally(function(){r.$emit("$translateRefreshEnd",{language:e})}),e?X[e]?o(e).then(n.resolve,n.reject):n.reject():(t=V&&V.slice()||[],U&&-1===t.indexOf(U)&&t.push(U),m.all(t.map(o)).then(n.resolve,n.reject)),n.promise},C.instant=function(e,t,n,i,o){var r=i&&i!==U?L(i)||i:U;if(null===e||angular.isUndefined(e))return e;if(i&&P(i),angular.isArray(e)){for(var a={},s=0,l=e.length;s<l;s++)a[e[s]]=C.instant(e[s],t,n,i,o);return a}if(angular.isString(e)&&e.length<1)return e;e=e&&N.apply(e);var c=[];F&&c.push(F),r&&c.push(r);for(var u,d,p=0,h=(c=V&&V.length?c.concat(V):c).length;p<h;p++){var f=c[p];if(void 0!==(d=X[f]&&void 0!==X[f][e]?E(e,t,n,r,o):d))break}return d||""===d||(Y||K?d=$(e):(d=g.interpolate(e,t,"filter",o),j&&!y&&(u=x(e,t,o)),j&&!y&&u&&(d=u))),d},C.versionInfo=function(){return"2.19.0"},C.loaderCache=function(){return Z},C.directivePriority=function(){return ae},C.statefulFilter=function(){return se},C.isReady=function(){return re},m.defer()),i=(n.promise.then(function(){re=!0}),C.onReady=function(e){var t=m.defer();return angular.isFunction(e)&&t.promise.then(e),re?t.resolve():n.promise.then(t.resolve),t.promise},C.getAvailableLanguageKeys=function(){return 0<Q.length?Q:null},C.getTranslationTable=function(e){return(e=e||C.use())&&X[e]?angular.copy(X[e]):null},r.$on("$translateReady",function(){n.resolve(),i(),i=null})),o=r.$on("$translateChangeEnd",function(){n.resolve(),o(),o=null});if(W){if(angular.equals(X,{})&&C.use()&&C.use(C.use()),V&&V.length)for(var T=function(e){return _(e.key,e.table),r.$emit("$translateChangeEnd",{language:e.key}),e},D=0,A=V.length;D<A;D++){var O=V[D];!ne&&X[O]||(w[O]=l(O).then(T))}}else r.$emit("$translateReady",{language:C.use()});return C}]}function n(a,s){"use strict";var e={};return e.setLocale=function(e){0},e.getInterpolationIdentifier=function(){return"default"},e.useSanitizeValueStrategy=function(e){return s.useStrategy(e),this},e.interpolate=function(e,t,n,i,o){var r;return t=s.sanitize(t=t||{},"params",i,n),r=angular.isNumber(e)?""+e:angular.isString(e)?(r=a(e)(t),s.sanitize(r,"text",i,n)):""},e}function i(x,k,S,E,M){"use strict";function P(e){return angular.isString(e)?e.toLowerCase():e}return{restrict:"AE",scope:!0,priority:x.directivePriority(),compile:function(e,m){var v=m.translateValues||void 0,b=m.translateInterpolation||void 0,y=m.translateSanitizeStrategy||void 0,w=e[0].outerHTML.match(/translate-value-+/i),C="^(.*)("+k.startSymbol()+".*"+k.endSymbol()+")(.*)",$="^(.*)"+k.startSymbol()+"(.*)"+k.endSymbol()+"(.*)";return function(i,a,s){i.interpolateParams={},i.preText="",i.postText="",i.translateNamespace=function e(t){if(t.translateNamespace)return t.translateNamespace;if(t.$parent)return e(t.$parent)}(i);var o={},r=function(e){var t,n;angular.isFunction(r._unwatchOld)&&(r._unwatchOld(),r._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)?(n=(t=function(){return this.toString().replace(/^\s+|\s+$/g,"")}.apply(a.text()).replace(/\n/g," ")).match(C),angular.isArray(n)?(i.preText=n[1],i.postText=n[3],o.translate=k(n[2])(i.$parent),n=t.match($),angular.isArray(n)&&n[2]&&n[2].length&&(r._unwatchOld=i.$watch(n[2],function(e){o.translate=e,h()}))):o.translate=t||void 0):o.translate=e,h()},e=i.interpolateParams,t=s,n=m;if(t.translateValues&&angular.extend(e,E(t.translateValues)(i.$parent)),w)for(var l in n)Object.prototype.hasOwnProperty.call(t,l)&&"translateValue"===l.substr(0,14)&&"translateValues"!==l&&(e[P(l.substr(14,1))+l.substr(15)]=n[l]);var c,u=!0;for(c in s.$observe("translate",function(e){void 0===e?r(""):""===e&&u||(o.translate=e,h()),u=!1}),s)s.hasOwnProperty(c)&&"translateAttr"===c.substr(0,13)&&13<c.length&&!function(t){s.$observe(t,function(e){o[t]=e,h()})}(c);if(s.$observe("translateDefault",function(e){i.defaultText=e,h()}),y&&s.$observe("translateSanitizeStrategy",function(e){i.sanitizeStrategy=E(e)(i.$parent),h()}),v&&s.$observe("translateValues",function(e){e&&i.$parent.$watch(function(){angular.extend(i.interpolateParams,E(e)(i.$parent))})}),w)for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&"translateValue"===d.substr(0,14)&&"translateValues"!==d&&!function(n){s.$observe(n,function(e){var t=P(n.substr(14,1))+n.substr(15);i.interpolateParams[t]=e})}(d);function p(e,t,n,i){var o,r;n||void 0!==t.defaultText&&(e=t.defaultText),"translate"===i?((n||!x.isKeepContent()&&void 0===s.translateKeepContent)&&a.empty().append(t.preText+e+t.postText),n=x.isPostCompilingEnabled(),r=(o=void 0!==m.translateCompile)&&"false"!==m.translateCompile,(n&&!o||r)&&S(a.contents())(t)):(n=(n="data-"===(n=s.$attr[i]).substr(0,5)?n.substr(5):n).substr(15),a.attr(n,e))}var h=function(){for(var e in o)o.hasOwnProperty(e)&&void 0!==o[e]&&f(e,o[e],i,i.interpolateParams,i.defaultText,i.translateNamespace)},f=function(t,e,n,i,o,r){e?(r&&"."===e.charAt(0)&&(e=r+e),x(e,i,b,o,n.translateLanguage,n.sanitizeStrategy).then(function(e){p(e,n,!0,t)},function(e){p(e,n,!1,t)})):p(e,n,!1,t)},g=((v||w||s.translateDefault)&&i.$watch("interpolateParams",h,!0),i.$on("translateLanguageChanged",h),M.$on("$translateChangeSuccess",h));a.text().length?s.translate?r(s.translate):r(""):s.translate&&r(s.translate),h(),i.$on("$destroy",g)}}}}function o(c,u){"use strict";return{restrict:"A",priority:c.directivePriority(),link:function(n,i,o){function e(){angular.forEach(r,function(e,t){e&&(l[t]=!0,n.translateNamespace&&"."===e.charAt(0)&&(e=n.translateNamespace+e),c(e,a,o.translateInterpolation,void 0,n.translateLanguage,s).then(function(e){i.attr(t,e)},function(e){i.attr(t,e)}))}),angular.forEach(l,function(e,t){r[t]||(i.removeAttr(t),delete l[t])})}var r,a,s,l={},t=(d(n,o.translateAttr,function(e){r=e},e),d(n,o.translateValues,function(e){a=e},e),d(n,o.translateSanitizeStrategy,function(e){s=e},e),o.translateValues&&n.$watch(o.translateValues,e,!0),n.$on("translateLanguageChanged",e),u.$on("$translateChangeSuccess",e));e(),n.$on("$destroy",t)}}}function d(e,t,n,i){"use strict";t&&("::"===t.substr(0,2)?t=t.substr(2):e.$watch(t,function(e){n(e),i()},!0),n(e.$eval(t)))}function r(a,s){"use strict";return{compile:function(e){function r(e){e.addClass(a.cloakClassName())}return r(e),function(e,t,n){var i=function(e){e.removeClass(a.cloakClassName())}.bind(this,t),o=r.bind(this,t);n.translateCloak&&n.translateCloak.length?(n.$observe("translateCloak",function(e){a(e).then(i,o)}),s.$on("$translateChangeSuccess",function(){a(n.translateCloak).then(i,o)})):a.onReady(i)}}}}function a(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=function e(t){if(t.translateNamespace)return t.translateNamespace;if(t.$parent)return e(t.$parent)}(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function l(r,a){"use strict";function e(e,t,n,i){var o;return angular.isObject(t)||(o=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"},t=r(t)(o)),a.instant(e,t,n,i)}return a.statefulFilter()&&(e.$stateful=!0),e}function c(e){"use strict";return e("translations")}return e.$inject=["$translate"],t.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],i.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],o.$inject=["$translate","$rootScope"],r.$inject=["$translate","$rootScope"],l.$inject=["$parse","$translate"],c.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",function(){"use strict";var n,i,u,d=null,p=!1,h=!1,o=((u={sanitize:function(e,t){return e="text"===t?r(e):e},escape:function(e,t){return e="text"===t?o(e):e},sanitizeParameters:function(e,t){return e="params"===t?s(e,r):e},escapeParameters:function(e,t){return e="params"===t?s(e,o):e},sce:function(e,t,n){return"text"===t?e=a(e):"params"===t&&"filter"!==n&&(e=s(e,o)),e},sceParameters:function(e,t){return e="params"===t?s(e,a):e}}).escaped=u.escapeParameters,this.addStrategy=function(e,t){return u[e]=t,this},this.removeStrategy=function(e){return delete u[e],this},this.useStrategy=function(e){return p=!0,d=e,this},this.$get=["$injector","$log",function(s,l){var t,c={};return s.has("$sanitize")&&(n=s.get("$sanitize")),s.has("$sce")&&(i=s.get("$sce")),{useStrategy:(t=this,function(e){t.useStrategy(e)}),sanitize:function(e,t,n,i){if(d||p||h||(l.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),h=!0),!(n=n||null===n?n:d))return e;i=i||"service";var o,r,a,n=angular.isArray(n)?n:[n];return o=e,r=t,a=i,angular.forEach(n,function(t){if(angular.isFunction(t))o=t(o,r,a);else if(angular.isFunction(u[t]))o=u[t](o,r,a);else{if(!angular.isString(u[t]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+t+"'");if(!c[u[t]])try{c[u[t]]=s.get(u[t])}catch(e){throw c[u[t]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+t+"'")}o=c[u[t]](o,r,a)}}),o}}}],function(e){var t=angular.element("<div></div>");return t.text(e),t.html()}),r=function(e){if(n)return n(e);throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.")},a=function(e){if(i)return i.trustAsHtml(e);throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.")},s=function(e,n,i){if(angular.isDate(e))return e;if(angular.isObject(e)){var o=angular.isArray(e)?[]:{};if(i){if(-1<i.indexOf(e))throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else i=[];return i.push(e),angular.forEach(e,function(e,t){angular.isFunction(e)||(o[t]=s(e,n,i))}),i.splice(-1,1),o}return angular.isNumber(e)||!0===e||!1===e||angular.isUndefined(e)||null===e?e:n(e)}}),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",t),t.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",o),o.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",r),r.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",a),a.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",s),s.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",l),l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",c),c.displayName="$translationCache","pascalprecht.translate"}),!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():e()}(function(){function e(e){"use strict";var n,i,o;return i=1===angular.version.major&&4<=angular.version.minor?(n=e.get("$cookies"),{get:function(e){return n.get(e)},put:function(e,t){n.put(e,t,{samesite:"lax"})}}):(o=e.get("$cookieStore"),{get:function(e){return o.get(e)},put:function(e,t){o.put(e,t)}}),{get:function(e){return i.get(e)},set:function(e,t){i.put(e,t)},put:function(e,t){i.put(e,t)}}}return e.$inject=["$injector"],angular.module("pascalprecht.translate").factory("$translateCookieStorage",e),e.displayName="$translateCookieStorage","pascalprecht.translate"}),!function(){"use strict";var $={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){switch(e.which){case $.COMMAND:case $.SHIFT:case $.CTRL:case $.ALT:return!0}return!!(e.metaKey||e.ctrlKey||e.altKey)},isFunctionKey:function(e){return 112<=(e=e.which||e)&&e<=123},isVerticalMovement:function(e){return~[$.UP,$.DOWN].indexOf(e)},isHorizontalMovement:function(e){return~[$.LEFT,$.RIGHT,$.BACKSPACE,$.DELETE].indexOf(e)},toSeparator:function(e){var t={ENTER:"\n",TAB:"\t",SPACE:" "}[e];return t||($[e]?void 0:e)}},e=(void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1}),0),t=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!1,generateId:function(){return e++},appendToBody:!1}).service("uiSelectMinErr",function(){var t=angular.$$minErr("ui.select");return function(){var e=t.apply(this,arguments).message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(e)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,i,o){o(e,function(e){t.append(e)})}}}).filter("highlight",function(){return function(e,t){return t&&e?(""+e).replace(new RegExp((""+t).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),'<span class="ui-select-highlight">$&</span>'):e}}).factory("uisOffset",["$document","$window",function(n,i){return function(e){var t=e[0].getBoundingClientRect();return{width:t.width||e.prop("offsetWidth"),height:t.height||e.prop("offsetHeight"),top:t.top+(i.pageYOffset||n[0].documentElement.scrollTop),left:t.left+(i.pageXOffset||n[0].documentElement.scrollLeft)}}}]);t.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(s,i,l,e,c){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(e){return e.addClass("ui-select-choices"),(e.parent().attr("theme")||s.theme)+"/choices.tpl.html"},compile:function(e,t){if(!t.repeat)throw l("repeat","Expected 'repeat' expression.");var o=t.groupBy,r=t.groupFilter;if(o){var n=e.querySelectorAll(".ui-select-choices-group");if(1!==n.length)throw l("rows","Expected 1 .ui-select-choices-group but got '{0}'.",n.length);n.attr("ng-repeat",i.getGroupNgRepeatExpression())}var n=i.parse(t.repeat),a=e.querySelectorAll(".ui-select-choices-row");if(1!==a.length)throw l("rows","Expected 1 .ui-select-choices-row but got '{0}'.",a.length);a.attr("ng-repeat",n.repeatExpression(o)).attr("ng-if","$select.open");t=e.querySelectorAll(".ui-select-choices-row-inner");if(1!==t.length)throw l("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",t.length);return t.attr("uis-transclude-append",""),(c.document.addEventListener?a:t).attr("ng-click","$select.select("+n.itemName+",$select.skipFocusser,$event)"),function(t,e,n,i){i.parseRepeatAttr(n.repeat,o,r),i.disableChoiceExpression=n.uiDisableChoice,i.onHighlightCallback=n.onHighlight,i.dropdownPosition=n.position?n.position.toLowerCase():s.dropdownPosition,t.$on("$destroy",function(){a.remove()}),t.$watch("$select.search",function(e){e&&!i.open&&i.multiple&&i.activate(!1,!0),i.activeIndex=i.tagging.isActivated?-1:0,!n.minimumInputLength||i.search.length>=n.minimumInputLength?i.refresh(n.refresh):i.items=[]}),n.$observe("refreshDelay",function(){var e=t.$eval(n.refreshDelay);i.refreshDelay=void 0!==e?e:s.refreshDelay})}}}}]),t.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(a,s,l,e,t,r,c,n,u,i,o){var d,p=this,h="";if(p.placeholder=n.placeholder,p.searchEnabled=n.searchEnabled,p.sortable=n.sortable,p.refreshDelay=n.refreshDelay,p.paste=n.paste,p.resetSearchInput=n.resetSearchInput,p.removeSelected=n.removeSelected,p.closeOnSelect=!0,p.skipFocusser=!1,p.search=h,p.activeIndex=0,p.items=[],p.open=!1,p.focus=!1,p.disabled=!1,p.selected=void 0,p.dropdownPosition="auto",p.focusser=void 0,p.multiple=void 0,p.disableChoiceExpression=void 0,p.tagging={isActivated:!1,fct:void 0},p.taggingTokens={isActivated:!1,tokens:void 0},p.lockChoiceExpression=void 0,p.clickTriggeredSelect=!1,p.$filter=e,p.$element=s,p.$animate=function(){try{return i.get("$animate")}catch(e){return null}}(),p.searchInput=s.querySelectorAll("input.ui-select-search"),1!==p.searchInput.length)throw c("searchInput","Expected 1 input.ui-select-search but got '{0}'.",p.searchInput.length);function f(){p.resetSearchInput&&(p.search=h,p.selected&&p.items.length&&!p.multiple&&(p.activeIndex=function(e,t,n){if(e.findIndex)return e.findIndex(t,n);for(var i,o=Object(e),r=o.length>>>0,a=0;a<r;a++)if(i=o[a],t.call(n,i,a,o))return a;return-1}(p.items,function(e){return angular.equals(this,e)},p.selected)))}p.isEmpty=function(){return angular.isUndefined(p.selected)||null===p.selected||""===p.selected||p.multiple&&0===p.selected.length},p.activate=function(n,e){var i,o,r;p.disabled||p.open?p.open&&!p.searchEnabled&&p.close():(e||f(),a.$broadcast("uis:activate"),p.open=!0,p.activeIndex=p.activeIndex>=p.items.length?0:p.activeIndex,-1===p.activeIndex&&!1!==p.taggingLabel&&(p.activeIndex=0),i=s.querySelectorAll(".ui-select-choices-content"),o=s.querySelectorAll(".ui-select-search"),p.$animate&&p.$animate.on&&p.$animate.enabled(i[0])?(r=function(e,t){"start"===t&&0===p.items.length?(p.$animate.off("removeClass",o[0],r),l(function(){p.focusSearchInput(n)})):"close"===t&&(p.$animate.off("enter",i[0],r),l(function(){p.focusSearchInput(n)}))},0<p.items.length?p.$animate.on("enter",i[0],r):p.$animate.on("removeClass",o[0],r)):l(function(){p.focusSearchInput(n),!p.tagging.isActivated&&1<p.items.length&&w()}))},p.focusSearchInput=function(e){p.search=e||p.search,p.searchInput[0].focus()},p.findGroupByName=function(t){return p.groups&&p.groups.filter(function(e){return e.name===t})[0]},p.parseRepeatAttr=function(e,t,n){p.setItemsFn=t?function(e){var i=a.$eval(t);p.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(i)?i(e):e[i],n=p.findGroupByName(t);n?n.items.push(e):p.groups.push({name:t,items:[e]})}),n&&(e=a.$eval(n),angular.isFunction(e)?p.groups=e(p.groups):angular.isArray(e)&&(p.groups=function(e,t){for(var n,i=[],o=0;o<t.length;o++)for(n=0;n<e.length;n++)e[n].name==[t[o]]&&i.push(e[n]);return i}(p.groups,e))),p.items=[],p.groups.forEach(function(e){p.items=p.items.concat(e.items)})}:function(e){p.items=e},p.parserResult=r.parse(e),p.isGrouped=!!t,p.itemProperty=p.parserResult.itemName;function i(){var n=o(a);a.$uisSource=Object.keys(n).map(function(e){var t={};return t[p.parserResult.keyName]=e,t.value=n[e],t})}var o=p.parserResult.source;p.parserResult.keyName&&(i(),p.parserResult.source=u("$uisSource"+p.parserResult.filters),a.$watch(o,function(e,t){e!==t&&i()},!0)),p.refreshItems=function(e){e=e||p.parserResult.source(a);var n=p.selected;p.isEmpty()||angular.isArray(n)&&!n.length||!p.multiple||!p.removeSelected?p.setItemsFn(e):null!=e&&(e=e.filter(function(t){return angular.isArray(n)?n.every(function(e){return!angular.equals(t,e)}):!angular.equals(t,n)}),p.setItemsFn(e)),"auto"!==p.dropdownPosition&&"up"!==p.dropdownPosition||a.calculateDropdownPos(),a.$broadcast("uis:refresh")},a.$watchCollection(p.parserResult.source,function(e){if(null==e)p.items=[];else{if(!angular.isArray(e))throw c("items","Expected an array but got '{0}'.",e);p.refreshItems(e),angular.isDefined(p.ngModel.$modelValue)&&(p.ngModel.$modelValue=null)}})},p.refresh=function(e){void 0!==e&&(d&&l.cancel(d),d=l(function(){a.$eval(e)},p.refreshDelay))},p.isActive=function(e){if(!p.open)return!1;var t=p.items.indexOf(e[p.itemProperty]),n=t==p.activeIndex;return n&&!(t<0)&&(n&&!angular.isUndefined(p.onHighlightCallback)&&e.$eval(p.onHighlightCallback),n)};function g(t){return p.selected&&angular.isArray(p.selected)&&0<p.selected.filter(function(e){return angular.equals(e,t)}).length}var m=[];function v(e){return-1<m.indexOf(e)}p.isDisabled=function(e){if(p.open){var t,n=e[p.itemProperty],i=!1;if(0<=p.items.indexOf(n)&&(angular.isDefined(p.disableChoiceExpression)||p.multiple)){if(n.isTag)return!1;!(i=p.multiple?g(n):i)&&angular.isDefined(p.disableChoiceExpression)&&(i=!!e.$eval(p.disableChoiceExpression)),e=n,n=i,t=m.indexOf(e),n&&-1===t&&m.push(e),!n&&-1<t&&m.splice(t,1)}return i}},p.select=function(e,t,n){if((void 0===e||!v(e))&&(p.items||p.search||p.tagging.isActivated)&&(!e||!v(e))){if(p.clickTriggeredSelect=!1,n&&"click"===n.type&&e&&(p.clickTriggeredSelect=!0),p.tagging.isActivated&&!1===p.clickTriggeredSelect){if(!1===p.taggingLabel)if(p.activeIndex<0){if(!(e=void 0===e?void 0!==p.tagging.fct?p.tagging.fct(p.search):p.search:e)||angular.equals(p.items[0],e))return}else e=p.items[p.activeIndex];else if(0===p.activeIndex){if(void 0===e)return;if(void 0!==p.tagging.fct&&"string"==typeof e){if(!(e=p.tagging.fct(e)))return}else"string"==typeof e&&(e=e.replace(p.taggingLabel,"").trim())}if(g(e))return void p.close(t)}f(),a.$broadcast("uis:select",e);var i={};i[p.parserResult.itemName]=e,l(function(){p.onSelectCallback(a,{$item:e,$model:p.parserResult.modelMapper(a,i)})}),p.closeOnSelect&&p.close(t)}},p.close=function(e){p.open&&(p.ngModel&&p.ngModel.$setTouched&&p.ngModel.$setTouched(),p.open=!1,f(),a.$broadcast("uis:close",e))},p.setFocus=function(){p.focus||p.focusInput[0].focus()},p.clear=function(e){p.select(void 0),e.stopPropagation(),l(function(){p.focusser[0].focus()},0,!1)},p.toggle=function(e){p.open?(p.close(),e.preventDefault(),e.stopPropagation()):p.activate()},p.isLocked=function(){return!1},a.$watch(function(){return angular.isDefined(p.lockChoiceExpression)&&""!==p.lockChoiceExpression},function(e){var r;e&&(r=[],p.isLocked=function(e,t){var n,i,o=!1,t=p.selected[t];return t&&(e?(o=!!e.$eval(p.lockChoiceExpression),e=t,n=o,i=r.indexOf(e),n&&-1===i&&r.push(e),!n&&-1<i&&r.splice(i,0)):o=-1<r.indexOf(t)),o})});var b=null,y=!1;function w(){var e,t,n=s.querySelectorAll(".ui-select-choices-content"),i=n.querySelectorAll(".ui-select-choices-row");if(i.length<1)throw c("choices","Expected multiple .ui-select-choices-row but got '{0}'.",i.length);p.activeIndex<0||(e=(i=i[p.activeIndex]).offsetTop+i.clientHeight-n[0].scrollTop,(t=n[0].offsetHeight)<e?n[0].scrollTop+=e-t:e<i.clientHeight&&(p.isGrouped&&0===p.activeIndex?n[0].scrollTop=0:n[0].scrollTop-=i.clientHeight-e))}p.sizeSearchInput=function(){function e(){return i.clientWidth*!!n.offsetParent}function t(e){var t;if(0!==e)return t=e-n.offsetLeft-10,p.searchInput.css("width",(t=t<50?e:t)+"px"),1}var n=p.searchInput[0],i=p.searchInput.parent().parent()[0];p.searchInput.css("width","10px"),l(function(){null!==b||t(e())||(b=a.$watch(function(){y||(y=!0,a.$$postDigest(function(){y=!1,t(e())&&(b(),b=null)}))},angular.noop))})},p.searchInput.on("keydown",function(n){var i=n.which;~[$.ENTER,$.ESC].indexOf(i)&&(n.preventDefault(),n.stopPropagation()),a.$apply(function(){var e=!1;if((0<p.items.length||p.tagging.isActivated)&&(function(e){var t=!0;switch(e){case $.DOWN:!p.open&&p.multiple?p.activate(!1,!0):p.activeIndex<p.items.length-1&&p.activeIndex++;break;case $.UP:!p.open&&p.multiple?p.activate(!1,!0):(0<p.activeIndex||0===p.search.length&&p.tagging.isActivated&&-1<p.activeIndex)&&p.activeIndex--;break;case $.TAB:p.multiple&&!p.open||p.select(p.items[p.activeIndex],!0);break;case $.ENTER:p.open&&(p.tagging.isActivated||0<=p.activeIndex)?p.select(p.items[p.activeIndex],p.skipFocusser):p.activate(!1,!0);break;case $.ESC:p.close();break;default:t=!1}return t}(i)||p.searchEnabled||(n.preventDefault(),n.stopPropagation()),p.taggingTokens.isActivated)){for(var t=0;t<p.taggingTokens.tokens.length;t++)p.taggingTokens.tokens[t]===$.MAP[n.keyCode]&&0<p.search.length&&(e=!0);e&&l(function(){p.searchInput.triggerHandler("tagged");var e=p.search.replace($.MAP[n.keyCode],"").trim();(e=p.tagging.fct?p.tagging.fct(e):e)&&p.select(e,!0)})}}),$.isVerticalMovement(i)&&0<p.items.length&&w(),i!==$.ENTER&&i!==$.ESC||(n.preventDefault(),n.stopPropagation())}),p.searchInput.on("paste",function(e){var t=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain");if((t=p.search+t)&&0<t.length)if(p.taggingTokens.isActivated){for(var n=[],i=0;i<p.taggingTokens.tokens.length;i++){var o=$.toSeparator(p.taggingTokens.tokens[i])||p.taggingTokens.tokens[i];if(-1<t.indexOf(o)){n=t.split(o);break}}0===n.length&&(n=[t]);var r=p.search;angular.forEach(n,function(e){e=p.tagging.fct?p.tagging.fct(e):e;e&&p.select(e,!0)}),p.search=r||h,e.preventDefault(),e.stopPropagation()}else p.paste&&(p.paste(t),p.search=h,e.preventDefault(),e.stopPropagation())}),p.searchInput.on("tagged",function(){l(function(){f()})});var C=t(function(){p.sizeSearchInput()},50);angular.element(o).bind("resize",C),a.$on("$destroy",function(){p.searchInput.off("keyup keydown tagged blur paste"),angular.element(o).off("resize",C)})}]),t.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(g,m,v,b,e,y,w){return{restrict:"EA",templateUrl:function(e,t){return(t.theme||m.theme)+(angular.isDefined(t.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(e,t){var n=/{(.*)}\s*{(.*)}/.exec(t.ngClass);return n&&(n="{"+n[1]+", "+n[2]+"}",t.ngClass=n,e.attr("ng-class",n)),angular.isDefined(t.multiple)?e.append("<ui-select-multiple/>").removeAttr("multiple"):e.append("<ui-select-single/>"),t.inputId&&(e.querySelectorAll("input.ui-select-search")[0].id=t.inputId),function(n,i,t,e,o){var r=e[0],e=e[1];function a(e){var t;r.open&&((window.jQuery?window.jQuery.contains(i[0],e.target):i[0].contains(e.target))||r.clickTriggeredSelect||(t=!!r.skipFocusser||((t=(t=angular.element(e.target).controller("uiSelect"))&&t!==r)||~["input","button","textarea","select"].indexOf(e.target.tagName.toLowerCase())),r.close(t),n.$digest()),r.clickTriggeredSelect=!1)}r.generatedId=m.generateId(),r.baseTitle=t.title||"Select box",r.focusserTitle=r.baseTitle+" focus",r.focusserId="focusser-"+r.generatedId,r.closeOnSelect=angular.isDefined(t.closeOnSelect)?y(t.closeOnSelect)():m.closeOnSelect,n.$watch("skipFocusser",function(){var e=n.$eval(t.skipFocusser);r.skipFocusser=void 0!==e?e:m.skipFocusser}),r.onSelectCallback=y(t.onSelect),r.onRemoveCallback=y(t.onRemove),r.ngModel=e,r.choiceGrouped=function(e){return r.isGrouped&&e&&e.name},t.tabindex&&t.$observe("tabindex",function(e){r.focusInput.attr("tabindex",e),i.removeAttr("tabindex")}),n.$watch(function(){return n.$eval(t.searchEnabled)},function(e){r.searchEnabled=void 0!==e?e:m.searchEnabled}),n.$watch("sortable",function(){var e=n.$eval(t.sortable);r.sortable=void 0!==e?e:m.sortable}),t.$observe("limit",function(){r.limit=angular.isDefined(t.limit)?parseInt(t.limit,10):void 0}),n.$watch("removeSelected",function(){var e=n.$eval(t.removeSelected);r.removeSelected=void 0!==e?e:m.removeSelected}),t.$observe("disabled",function(){r.disabled=void 0!==t.disabled&&t.disabled}),t.$observe("resetSearchInput",function(){var e=n.$eval(t.resetSearchInput);r.resetSearchInput=void 0===e||e}),t.$observe("paste",function(){r.paste=n.$eval(t.paste)}),t.$observe("tagging",function(){var e;void 0!==t.tagging?(e=n.$eval(t.tagging),r.tagging={isActivated:!0,fct:!0!==e?e:void 0}):r.tagging={isActivated:!1,fct:void 0}}),t.$observe("taggingLabel",function(){void 0!==t.tagging&&("false"===t.taggingLabel?r.taggingLabel=!1:r.taggingLabel=void 0!==t.taggingLabel?t.taggingLabel:"(new)")}),t.$observe("taggingTokens",function(){var e;void 0!==t.tagging&&(e=void 0!==t.taggingTokens?t.taggingTokens.split("|"):[",","ENTER"],r.taggingTokens={isActivated:!0,tokens:e})}),angular.isDefined(t.autofocus)&&w(function(){r.setFocus()}),angular.isDefined(t.focusOn)&&n.$on(t.focusOn,function(){w(function(){r.setFocus()})}),g.on("click",a),n.$on("$destroy",function(){g.off("click",a)}),o(n,function(e){var e=angular.element("<div>").append(e),t=e.querySelectorAll(".ui-select-match");if(t.removeAttr("ui-select-match"),t.removeAttr("data-ui-select-match"),1!==t.length)throw v("transcluded","Expected 1 .ui-select-match but got '{0}'.",t.length);i.querySelectorAll(".ui-select-match").replaceWith(t);t=e.querySelectorAll(".ui-select-choices");if(t.removeAttr("ui-select-choices"),t.removeAttr("data-ui-select-choices"),1!==t.length)throw v("transcluded","Expected 1 .ui-select-choices but got '{0}'.",t.length);i.querySelectorAll(".ui-select-choices").replaceWith(t);t=e.querySelectorAll(".ui-select-no-choice");t.removeAttr("ui-select-no-choice"),t.removeAttr("data-ui-select-no-choice"),1==t.length&&i.querySelectorAll(".ui-select-no-choice").replaceWith(t)});var e=n.$eval(t.appendToBody),s=((void 0!==e?e:m.appendToBody)&&(n.$watch("$select.open",function(e){e?(e=b(i),(s=angular.element('<div class="ui-select-placeholder"></div>'))[0].style.width=e.width+"px",s[0].style.height=e.height+"px",i.after(s),l=i[0].style.width,g.find("body").append(i),i[0].style.position="absolute",i[0].style.left=e.left+"px",i[0].style.top=e.top+"px",i[0].style.width=e.width+"px"):c()}),n.$on("$destroy",function(){c()})),null),l="";function c(){null!==s&&(s.replaceWith(i),s=null,i[0].style.position="",i[0].style.left="",i[0].style.top="",i[0].style.width=l,r.setFocus())}function u(e,t){e=e||b(i),t=t||b(p),p[0].style.position="absolute",p[0].style.top=-1*t.height+"px",i.addClass(h)}function d(){w(function(){var e,t,n;"up"===r.dropdownPosition?u():(i.removeClass(h),n=b(i),e=b(p),t=g[0].documentElement.scrollTop||g[0].body.scrollTop,n.top+n.height+e.height>t+g[0].documentElement.clientHeight?u(n,e):(t=n,n=e,i.removeClass(h),t=t||b(i),n=n||b(p),p[0].style.position="",p[0].style.top="")),p[0].style.opacity=1})}var p=null,h="direction-up",f=(n.$watch("$select.open",function(){"auto"!==r.dropdownPosition&&"up"!==r.dropdownPosition||n.calculateDropdownPos()}),!1);n.calculateDropdownPos=function(){var n;r.open?0!==(p=angular.element(i).querySelectorAll(".ui-select-dropdown")).length&&(""!==r.search||f||(p[0].style.opacity=0,f=!0),!b(p).height&&r.$animate&&r.$animate.on&&r.$animate.enabled(p)?(n=!0,r.$animate.on("enter",p,function(e,t){"close"===t&&n&&(d(),n=!1)})):d()):null!==p&&0!==p.length&&(p[0].style.opacity=0,p[0].style.position="",p[0].style.top="",i.removeClass(h))}}}}}]),t.directive("uiSelectMatch",["uiSelectConfig",function(r){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(e){e.addClass("ui-select-match");e=e.parent();return(t(e,"theme")||r.theme)+(angular.isDefined(t(e,"multiple"))?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(e,t,n,i){function o(e){i.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}i.lockChoiceExpression=n.uiLockChoice,n.$observe("placeholder",function(e){i.placeholder=void 0!==e?e:r.placeholder}),n.$observe("allowClear",o),o(n.allowClear),i.multiple&&i.sizeSearchInput()}};function t(e,t){return e[0].hasAttribute(t)?e.attr(t):e[0].hasAttribute("data-"+t)?e.attr("data-"+t):e[0].hasAttribute("x-"+t)?e.attr("x-"+t):void 0}}]),t.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(o,r){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(i,o){var e,r=this,a=i.$select;angular.isUndefined(a.selected)&&(a.selected=[]),i.$evalAsync(function(){e=i.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){e.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){a.refreshItems&&a.refreshItems(),a.sizeSearchInput&&a.sizeSearchInput()},r.removeChoice=function(e){if(a.isLocked(null,e))return!1;var t=a.selected[e],n={};return n[a.parserResult.itemName]=t,a.selected.splice(e,1),r.activeMatchIndex=-1,a.sizeSearchInput(),o(function(){a.onRemoveCallback(i,{$item:t,$model:a.parserResult.modelMapper(i,n)})}),r.updateModel(),!0},r.getPlaceholder=function(){if(!a.selected||!a.selected.length)return a.placeholder}}],controllerAs:"$selectMultiple",link:function(l,e,t,n){var c=n[0],i=l.ngModel=n[1],s=l.$selectMultiple;function u(e){if(void 0!==e&&void 0!==c.search)return 0<e.filter(function(e){return void 0!==c.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===c.search.toUpperCase()}).length}function d(e,t){var n=-1;if(angular.isArray(e))for(var i,o=angular.copy(e),r=0;r<o.length;r++)void 0===c.tagging.fct?o[r]+" "+c.taggingLabel===t&&(n=r):(i=o[r],angular.isObject(i)&&(i.isTag=!0),angular.equals(i,t)&&(n=r));return n}c.multiple=!0,c.focusInput=c.searchInput,i.$isEmpty=function(e){return!e||0===e.length},i.$parsers.unshift(function(){for(var e,t={},n=[],i=c.selected.length-1;0<=i;i--)(t={})[c.parserResult.itemName]=c.selected[i],e=c.parserResult.modelMapper(l,t),n.unshift(e);return n}),i.$formatters.unshift(function(e){var r,t=c.parserResult&&c.parserResult.source(l,{$select:{search:""}}),a={};if(!t)return e;function n(e,t){if(e&&e.length)for(var n=e.length-1;0<=n;n--){if(a[c.parserResult.itemName]=e[n],r=c.parserResult.modelMapper(l,a),c.parserResult.trackByExp){var i=/(\w*)\./.exec(c.parserResult.trackByExp),o=/\.([^\s]+)/.exec(c.parserResult.trackByExp);if(i&&0<i.length&&i[1]==c.parserResult.itemName&&o&&0<o.length&&r[o[1]]==t[o[1]])return s.unshift(e[n]),1}if(angular.equals(r,t))return s.unshift(e[n]),1}}var s=[];if(!e)return s;for(var i=e.length-1;0<=i;i--)n(c.selected,e[i])||n(t,e[i])||s.unshift(e[i]);return s}),l.$watchCollection(function(){return i.$modelValue},function(e,t){t!=e&&(angular.isDefined(i.$modelValue)&&(i.$modelValue=null),s.refreshComponent())}),i.$render=function(){if(!angular.isArray(i.$viewValue)){if(!angular.isUndefined(i.$viewValue)&&null!==i.$viewValue)throw o("multiarr","Expected model value to be array but got '{0}'",i.$viewValue);i.$viewValue=[]}c.selected=i.$viewValue,s.refreshComponent(),l.$evalAsync()},l.$on("uis:select",function(e,t){c.selected.length>=c.limit||(c.selected.push(t),s.updateModel())}),l.$on("uis:activate",function(){s.activeMatchIndex=-1}),l.$watch("$select.disabled",function(e,t){t&&!e&&c.sizeSearchInput()}),c.searchInput.on("keydown",function(t){var n=t.which;l.$apply(function(){var e=!1;(e=$.isHorizontalMovement(n)?function(e){var t=function(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}(c.searchInput[0]),n=c.selected.length,i=n-1,o=s.activeMatchIndex,r=s.activeMatchIndex+1,a=s.activeMatchIndex-1,n=o;if(0<t||c.search.length&&e==$.RIGHT)return!1;c.close(),n=function(){switch(e){case $.LEFT:return~s.activeMatchIndex?a:i;case $.RIGHT:return~s.activeMatchIndex&&o!==i?r:(c.activate(),!1);case $.BACKSPACE:return~s.activeMatchIndex?s.removeChoice(o)?a:o:i;case $.DELETE:return!!~s.activeMatchIndex&&(s.removeChoice(s.activeMatchIndex),o)}}(),c.selected.length&&!1!==n?s.activeMatchIndex=Math.min(i,Math.max(0,n)):s.activeMatchIndex=-1;return!0}(n):e)&&n!=$.TAB&&(t.preventDefault(),t.stopPropagation())})}),c.searchInput.on("keyup",function(e){if($.isVerticalMovement(e.which)||l.$evalAsync(function(){c.activeIndex=!1===c.taggingLabel?-1:0}),c.tagging.isActivated&&0<c.search.length&&!(e.which===$.TAB||$.isControl(e)||$.isFunctionKey(e)||e.which===$.ESC||$.isVerticalMovement(e.which))&&(c.activeIndex=!1===c.taggingLabel?-1:0,!1!==c.taggingLabel)){var t,n,i,o=angular.copy(c.items),e=angular.copy(c.items),r=!1,a=-1;if(void 0!==c.tagging.fct){if(0<(n=c.$filter("filter")(o,{isTag:!0})).length&&(i=n[0]),0<o.length&&i&&(r=!0,o=o.slice(1,o.length),e=e.slice(1,e.length)),t=c.tagging.fct(c.search),e.some(function(e){return angular.equals(e,t)})||c.selected.some(function(e){return angular.equals(e,t)}))return void l.$evalAsync(function(){c.activeIndex=0,c.items=o});t&&(t.isTag=!0)}else{if(0<(n=c.$filter("filter")(o,function(e){return e.match(c.taggingLabel)})).length&&(i=n[0]),void 0!==o[0]&&0<o.length&&i&&(r=!0,o=o.slice(1,o.length),e=e.slice(1,e.length)),t=c.search+" "+c.taggingLabel,-1<d(c.selected,c.search))return;if(u(e.concat(c.selected)))return void(r&&(o=e,l.$evalAsync(function(){c.activeIndex=0,c.items=o})));if(u(e))return void(r&&(c.items=e.slice(1,e.length)))}r&&(a=d(c.selected,t)),o=-1<a?o.slice(a+1,o.length-1):(o=[],t&&o.push(t),o.concat(e)),l.$evalAsync(function(){var e;c.activeIndex=0,c.items=o,c.isGrouped&&(e=t?o.slice(1):o,c.setItemsFn(e),t&&(c.items.unshift(t),c.groups.unshift({name:"",items:[t],tagging:!0})))})}}),c.searchInput.on("blur",function(){r(function(){s.activeMatchIndex=-1})})}}}]),t.directive("uiSelectNoChoice",["uiSelectConfig",function(t){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(e){return e.addClass("ui-select-no-choice"),(e.parent().attr("theme")||t.theme)+"/no-choice.tpl.html"}}}]),t.directive("uiSelectSingle",["$timeout","$compile",function(s,l){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,e,t,n){var a=n[0],i=n[1],o=(i.$parsers.unshift(function(e){var t={};return t[a.parserResult.itemName]=e,a.parserResult.modelMapper(r,t)}),i.$formatters.unshift(function(t){var e=a.parserResult&&a.parserResult.source(r,{$select:{search:""}}),n={};if(e){var i=function(e){return n[a.parserResult.itemName]=e,a.parserResult.modelMapper(r,n)===t};if(a.selected&&i(a.selected))return a.selected;for(var o=e.length-1;0<=o;o--)if(i(e[o]))return e[o]}return t}),r.$watch("$select.selected",function(e){i.$viewValue!==e&&i.$setViewValue(e)}),i.$render=function(){a.selected=i.$viewValue},r.$on("uis:select",function(e,t){a.selected=t}),r.$on("uis:close",function(e,t){s(function(){a.focusser.prop("disabled",!1),t||a.focusser[0].focus()},0,!1)}),r.$on("uis:activate",function(){o.prop("disabled",!0)}),angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />"));l(o)(r),a.focusser=o,a.focusInput=o,e.parent().append(o),o.bind("focus",function(){r.$evalAsync(function(){a.focus=!0})}),o.bind("blur",function(){r.$evalAsync(function(){a.focus=!1})}),o.bind("keydown",function(e){if(e.which===$.BACKSPACE)return e.preventDefault(),e.stopPropagation(),a.select(void 0),void r.$apply();e.which===$.TAB||$.isControl(e)||$.isFunctionKey(e)||e.which===$.ESC||(e.which!=$.DOWN&&e.which!=$.UP&&e.which!=$.ENTER&&e.which!=$.SPACE||(e.preventDefault(),e.stopPropagation(),a.activate()),r.$digest())}),o.bind("keyup input",function(e){e.which===$.TAB||$.isControl(e)||$.isFunctionKey(e)||e.which===$.ESC||e.which==$.ENTER||e.which===$.BACKSPACE||(a.activate(o.val()),o.val(""),r.$digest())})}}}]),t.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(m,e,v){return{require:["^^uiSelect","^ngModel"],link:function(r,a,s,e){if(null===r[s.uiSelectSort])throw v("sort","Expected a list to sort");function t(e){e.preventDefault(),("vertical"===o?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0))<this["vertical"===o?"offsetHeight":"offsetWidth"]/2?(f(p),a.addClass(d)):(f(d),a.addClass(p))}var n,i=e[0],l=e[1],o=angular.extend({axis:"horizontal"},r.$eval(s.uiSelectSortOptions)).axis,c="dragging",u="dropping",d="dropping-before",p="dropping-after",h=(r.$watch(function(){return i.sortable},function(e){e?a.attr("draggable",!0):a.removeAttr("draggable")}),a.on("dragstart",function(e){a.addClass(c),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",r.$index.toString())}),a.on("dragend",function(){f(c)}),function(e,t){this.splice(t,0,this.splice(e,1)[0])}),f=function(t){angular.forEach(i.$element.querySelectorAll("."+t),function(e){angular.element(e).removeClass(t)})},g=function(e){e.preventDefault();var o=parseInt((e.dataTransfer||e.originalEvent.dataTransfer).getData("text"),10);m.cancel(n),n=m(function(){var e=o,t=r.$eval(s.uiSelectSort),n=t[e],i=null;a.hasClass(d)?i=e<r.$index?r.$index-1:r.$index:i=e<r.$index?r.$index:r.$index+1;h.apply(t,[e,i]),l.$setViewValue(Date.now()),r.$apply(function(){r.$emit("uiSelectSort:change",{array:t,item:n,from:e,to:i})}),f(u),f(d),f(p),a.off("drop",g)},20)};a.on("dragenter",function(){a.hasClass(c)||(a.addClass(u),a.on("dragover",t),a.on("drop",g))}),a.on("dragleave",function(e){e.target==a&&(f(u),f(d),f(p),a.off("dragover",t),a.off("drop",g))})}}}]),t.factory("$$uisDebounce",["$timeout",function(r){return function(n,i){var o;return function(){var e=this,t=Array.prototype.slice.call(arguments);o&&r.cancel(o),o=r(function(){n.apply(e,t)},i)}}}]),t.directive("uisOpenClose",["$parse","$timeout",function(o,r){return{restrict:"A",require:"uiSelect",link:function(n,e,t,i){i.onOpenCloseCallback=o(t.uisOpenClose),n.$watch("$select.open",function(e,t){e!==t&&r(function(){i.onOpenCloseCallback(n,{isOpen:e})})})}}}]),t.service("uisRepeatParser",["uiSelectMinErr","$parse",function(o,r){this.parse=function(e){var t=e.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!t)throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",e);var n,e=t[5],i="";return t[3]&&(e=t[5].replace(/(^\()|(\)$)/g,""),(n=t[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/))&&n[1].trim()&&(i=n[1],e=e.replace(i,""))),{itemName:t[4]||t[2],keyName:t[3],source:r(e),filters:i,trackByExp:t[6],modelMapper:r(t[1]||t[4]||t[2]),repeatExpression:function(e){e=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(e+=" track by "+this.trackByExp),e}}},this.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),e.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>')}]),!function(e){var t;"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.jsondiffpatch=e())}(function(){return function i(o,r,a){function s(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return s(t||e)},t,t.exports,i,o,r,a)}return r[n].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){var i,o=e("./environment"),r=e("./diffpatcher").DiffPatcher;n.DiffPatcher=r,n.create=function(e){return new r(e)},n.dateReviver=e("./date-reviver"),n.diff=function(){return(i=i||new r).diff.apply(i,arguments)},n.patch=function(){return(i=i||new r).patch.apply(i,arguments)},n.unpatch=function(){return(i=i||new r).unpatch.apply(i,arguments)},n.reverse=function(){return(i=i||new r).reverse.apply(i,arguments)},o.isBrowser?(n.homepage="https://github.com/benjamine/jsondiffpatch",n.version="0.1.40"):(o=e("../package.json"),n.homepage=o.homepage,n.version=o.version,o=e("./formatters"),n.formatters=o,n.console=o.console)},{"./date-reviver":6,"./diffpatcher":7,"./environment":8}],2:[function(e,t,n){function i(){}var o=e("../pipe").Pipe;i.prototype.setResult=function(e){return this.result=e,this.hasResult=!0,this},i.prototype.exit=function(){return this.exiting=!0,this},i.prototype.switchTo=function(e,t){return"string"==typeof e||e instanceof o?this.nextPipe=e:(this.next=e,t&&(this.nextPipe=t)),this},i.prototype.push=function(e,t){return e.parent=this,void 0!==t&&(e.childName=t),e.root=this.root||this,e.options=e.options||this.options,this.children?(this.children[this.children.length-1].next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this},n.Context=i},{"../pipe":15}],3:[function(e,t,n){function i(e,t){this.left=e,this.right=t,this.pipe="diff"}var o=e("./context").Context,r=e("../date-reviver");(i.prototype=new o).setResult=function(e){var t;return this.options.cloneDiffValues&&(t="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:function(e){return JSON.parse(JSON.stringify(e),r)},"object"==typeof e[0]&&(e[0]=t(e[0])),"object"==typeof e[1]&&(e[1]=t(e[1]))),o.prototype.setResult.apply(this,arguments)},n.DiffContext=i},{"../date-reviver":6,"./context":2}],4:[function(e,t,n){function i(e,t){this.left=e,this.delta=t,this.pipe="patch"}e=e("./context").Context;i.prototype=new e,n.PatchContext=i},{"./context":2}],5:[function(e,t,n){function i(e){this.delta=e,this.pipe="reverse"}e=e("./context").Context;i.prototype=new e,n.ReverseContext=i},{"./context":2}],6:[function(e,t,n){t.exports=function(e,t){var n;return"string"==typeof t&&(n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+\-])(\d{2}):(\d{2}))$/.exec(t))?new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6],+(n[7]||0))):t}},{}],7:[function(e,t,n){function i(e){this.processor=new o(e),this.processor.pipe(new r("diff").append(u.collectChildrenDiffFilter,c.diffFilter,p.diffFilter,h.diffFilter,u.objectsDiffFilter,d.diffFilter).shouldHaveResult()),this.processor.pipe(new r("patch").append(u.collectChildrenPatchFilter,d.collectChildrenPatchFilter,c.patchFilter,h.patchFilter,u.patchFilter,d.patchFilter).shouldHaveResult()),this.processor.pipe(new r("reverse").append(u.collectChildrenReverseFilter,d.collectChildrenReverseFilter,c.reverseFilter,h.reverseFilter,u.reverseFilter,d.reverseFilter).shouldHaveResult())}var o=e("./processor").Processor,r=e("./pipe").Pipe,a=e("./contexts/diff").DiffContext,s=e("./contexts/patch").PatchContext,l=e("./contexts/reverse").ReverseContext,c=e("./filters/trivial"),u=e("./filters/nested"),d=e("./filters/arrays"),p=e("./filters/dates"),h=e("./filters/texts");i.prototype.options=function(){return this.processor.options.apply(this.processor,arguments)},i.prototype.diff=function(e,t){return this.processor.process(new a(e,t))},i.prototype.patch=function(e,t){return this.processor.process(new s(e,t))},i.prototype.reverse=function(e){return this.processor.process(new l(e))},i.prototype.unpatch=function(e,t){return this.patch(e,this.reverse(t))},n.DiffPatcher=i},{"./contexts/diff":3,"./contexts/patch":4,"./contexts/reverse":5,"./filters/arrays":9,"./filters/dates":10,"./filters/nested":12,"./filters/texts":13,"./filters/trivial":14,"./pipe":15,"./processor":16}],8:[function(e,t,n){n.isBrowser="undefined"!=typeof window},{}],9:[function(e,t,n){var x=e("../contexts/diff").DiffContext,f=e("../contexts/patch").PatchContext,i=e("../contexts/reverse").ReverseContext,k=e("./lcs"),S=3,l="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},E="function"==typeof Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]===t)return i;return-1};function M(e,t,n,i,o){e=e[n],t=t[i];if(e===t)return!0;if("object"!=typeof e||"object"!=typeof t)return!1;var r,a,s=o.objectHash;return s?("number"==typeof n?(o.hashCache1=o.hashCache1||[],void 0===(r=o.hashCache1[n])&&(o.hashCache1[n]=r=s(e,n))):r=s(e),void 0!==r&&("number"==typeof i?(o.hashCache2=o.hashCache2||[],void 0===(a=o.hashCache2[i])&&(o.hashCache2[i]=a=s(t,i))):a=s(t),void 0!==a&&r===a)):o.matchByPosition&&n===i}function o(e){if(e.leftIsArray){var t,n,i,o={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition},r=0,a=0,s=e.left,l=e.right,c=s.length,u=l.length;for(0<c&&0<u&&!o.objectHash&&"boolean"!=typeof o.matchByPosition&&(o.matchByPosition=!function(e,t,n,i){for(var o=0;o<n;o++)for(var r=e[o],a=0;a<i;a++)if(r===t[a])return 1}(s,l,c,u));r<c&&r<u&&M(s,l,r,r,o);)m=r,i=new x(e.left[m],e.right[m]),e.push(i,m),r++;for(;a+r<c&&a+r<u&&M(s,l,c-1-a,u-1-a,o);)i=new x(e.left[t=c-1-a],e.right[n=u-1-a]),e.push(i,n),a++;if(r+a===c)if(c===u)e.setResult(void 0).exit();else{for(g=g||{_t:"a"},m=r;m<u-a;m++)g[m]=[l[m]];e.setResult(g).exit()}else if(r+a===u){for(g=g||{_t:"a"},m=r;m<c-a;m++)g["_"+m]=[s[m],0,0];e.setResult(g).exit()}else{delete o.hashCache1,delete o.hashCache2;for(var d=s.slice(r,c-a),p=l.slice(r,u-a),h=k.get(d,p,M,o),f=[],g=g||{_t:"a"},m=r;m<c-a;m++)E(h.indices1,m-r)<0&&(g["_"+m]=[s[m],0,0],f.push(m));var v=!0,b=(e.options&&e.options.arrays&&!1===e.options.arrays.detectMove&&(v=!1),!1),y=(e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(b=!0),f.length);for(m=r;m<u-a;m++){var w=E(h.indices2,m-r);if(w<0){var C=!1;if(v&&0<y)for(var $=0;$<y;$++)if(M(d,p,(t=f[$])-r,m-r,o)){g["_"+t].splice(1,2,m,S),b||(g["_"+t][0]=""),n=m,i=new x(e.left[t],e.right[n]),e.push(i,n),f.splice($,1),C=!0;break}C||(g[m]=[l[m]])}else t=h.indices1[w]+r,n=h.indices2[w]+r,i=new x(e.left[t],e.right[n]),e.push(i,n)}e.setResult(g).exit()}}}function r(e){if(e.nested&&"a"===e.delta._t){var t=e.delta,n=e.left,i=[],o=[],r=[];for(c in t)if("_t"!==c)if("_"===c[0]){if(0!==t[c][2]&&t[c][2]!==S)throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+t[c][2]);i.push(parseInt(c.slice(1),10))}else 1===t[c].length?o.push({index:parseInt(c,10),value:t[c][0]}):r.push({index:parseInt(c,10),delta:t[c]});for(c=(i=i.sort(g)).length-1;0<=c;c--){var a=t["_"+(s=i[c])],s=n.splice(s,1)[0];a[2]===S&&o.push({index:a[1],value:s})}for(var l=(o=o.sort(m("index"))).length,c=0;c<l;c++){var u=o[c];n.splice(u.index,0,u.value)}var d=r.length;if(0<d)for(c=0;c<d;c++){var p=r[c],h=new f(e.left[p.index],p.delta);e.push(h,p.index)}(e.children?e:e.setResult(e.left)).exit()}}function a(e){if(e&&e.children&&"a"===e.delta._t){for(var t,n=e.children.length,i=0;i<n;i++)t=e.children[i],e.left[t.childName]=t.result;e.setResult(e.left).exit()}}function s(e){if(e.nested){if("a"===e.delta._t){var t,n;for(t in e.delta)"_t"!==t&&(n=new i(e.delta[t]),e.push(n,t));e.exit()}}else e.delta[2]===S&&(e.newName="_"+e.delta[1],e.setResult([e.delta[0],parseInt(e.childName.substr(1),10),S]).exit())}function c(e){if(e&&e.children&&"a"===e.delta._t){for(var t=e.children.length,n={_t:"a"},i=0;i<t;i++){var o,r=(o=e.children[i]).newName;n[r=void 0===r?function(e,t,n){if("string"==typeof t&&"_"===t[0])return parseInt(t.substr(1),10);if(l(n)&&0===n[2])return"_"+t;var i,o=+t;for(i in e){var r=e[i];if(l(r))if(r[2]===S){var a=parseInt(i.substr(1),10),s=r[1];if(s===+t)return a;a<=o&&o<s?o++:o<=a&&s<o&&o--}else 0===r[2]?parseInt(i.substr(1),10)<=o&&o++:1===r.length&&i<=o&&o--}return o}(e.delta,o.childName,o.result):r]!==o.result&&(n[r]=o.result)}e.setResult(n).exit()}}var g=function(e,t){return e-t},m=function(n){return function(e,t){return e[n]-t[n]}};r.filterName=o.filterName="arrays",a.filterName="arraysCollectChildren",s.filterName="arrays";c.filterName="arraysCollectChildren",n.diffFilter=o,n.patchFilter=r,n.collectChildrenPatchFilter=a,n.reverseFilter=s,n.collectChildrenReverseFilter=c},{"../contexts/diff":3,"../contexts/patch":4,"../contexts/reverse":5,"./lcs":11}],10:[function(e,t,n){function i(e){e.left instanceof Date?(!(e.right instanceof Date)||e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()}i.filterName="dates",n.diffFilter=i},{}],11:[function(e,t,n){function o(e,t,n,i){return e[n]===t[i]}var s=function(e,t,n,i,o,r){return 0===i||0===o?{sequence:[],indices1:[],indices2:[]}:e.match(t,n,i-1,o-1,r)?((a=s(e,t,n,i-1,o-1,r)).sequence.push(t[i-1]),a.indices1.push(i-1),a.indices2.push(o-1),a):e[i][o-1]>e[i-1][o]?s(e,t,n,i,o-1,r):s(e,t,n,i-1,o,r);var a};n.get=function(e,t,n,i){n=function(e,t,n,i){for(var o,r=e.length,a=t.length,s=[r+1],l=0;l<r+1;l++)for(s[l]=[a+1],o=0;o<a+1;o++)s[l][o]=0;for(s.match=n,l=1;l<r+1;l++)for(o=1;o<a+1;o++)n(e,t,l-1,o-1,i)?s[l][o]=s[l-1][o-1]+1:s[l][o]=Math.max(s[l-1][o],s[l][o-1]);return s}(e,t,n||o,i=i||{}),n=s(n,e,t,e.length,t.length,i);return"string"==typeof e&&"string"==typeof t&&(n.sequence=n.sequence.join("")),n}},{}],12:[function(e,t,n){function i(e){if(e&&e.children){for(var t,n=e.children.length,i=e.result,o=0;o<n;o++)void 0!==(t=e.children[o]).result&&((i=i||{})[t.childName]=t.result);i&&e.leftIsArray&&(i._t="a"),e.setResult(i).exit()}}function o(e){if(!e.leftIsArray&&"object"===e.leftType){var t,n,i=e.options.propertyFilter;for(t in e.left)!e.left.hasOwnProperty(t)||i&&!i(t,e)||(n=new c(e.left[t],e.right[t]),e.push(n,t));for(t in e.right)!e.right.hasOwnProperty(t)||i&&!i(t,e)||void 0===e.left[t]&&(n=new c(void 0,e.right[t]),e.push(n,t));(e.children&&0!==e.children.length?e:e.setResult(void 0)).exit()}}function r(e){if(e.nested&&!e.delta._t){var t,n;for(t in e.delta)n=new u(e.left[t],e.delta[t]),e.push(n,t);e.exit()}}function a(e){if(e&&e.children&&!e.delta._t){for(var t,n=e.children.length,i=0;i<n;i++)t=e.children[i],e.left.hasOwnProperty(t.childName)&&void 0===t.result?delete e.left[t.childName]:e.left[t.childName]!==t.result&&(e.left[t.childName]=t.result);e.setResult(e.left).exit()}}function s(e){if(e.nested&&!e.delta._t){var t,n;for(t in e.delta)n=new d(e.delta[t]),e.push(n,t);e.exit()}}function l(e){if(e&&e.children&&!e.delta._t){for(var t,n=e.children.length,i={},o=0;o<n;o++)i[(t=e.children[o]).childName]!==t.result&&(i[t.childName]=t.result);e.setResult(i).exit()}}var c=e("../contexts/diff").DiffContext,u=e("../contexts/patch").PatchContext,d=e("../contexts/reverse").ReverseContext;i.filterName="collectChildren",r.filterName=o.filterName="objects",a.filterName="collectChildren",s.filterName="objects";l.filterName="collectChildren",n.collectChildrenDiffFilter=i,n.objectsDiffFilter=o,n.patchFilter=r,n.collectChildrenPatchFilter=a,n.reverseFilter=s,n.collectChildrenReverseFilter=l},{"../contexts/diff":3,"../contexts/patch":4,"../contexts/reverse":5}],13:[function(t,e,n){function i(e){if(!s){if("undefined"!=typeof diff_match_patch)o=new("function"==typeof diff_match_patch?diff_match_patch:diff_match_patch.diff_match_patch);else if("function"==typeof t)try{var o=new(t("../../public/external/diff_match_patch_uncompressed").diff_match_patch)}catch(e){o=null}if(!o){if(!e)return null;e=new Error("text diff_match_patch library not found");throw e.diff_match_patch_not_found=!0,e}s={diff:function(e,t){return o.patch_toText(o.patch_make(e,t))},patch:function(e,t){for(var n=o.patch_apply(o.patch_fromText(t),e),i=0;i<n[1].length;i++)n[1][i]||(new Error("text patch failed").textPatchFailed=!0);return n[0]}}}return s}function o(e){var t;"string"===e.leftType&&(t=e.options&&e.options.textDiff&&e.options.textDiff.minLength||60,!(e.left.length<t||e.right.length<t)&&(t=i())?(t=t.diff,e.setResult([t(e.left,e.right),0,2]).exit()):e.setResult([e.left,e.right]).exit())}function r(e){var t;e.nested||2===e.delta[2]&&(t=i(!0).patch,e.setResult(t(e.left,e.delta[0])).exit())}function a(e){e.nested||2===e.delta[2]&&e.setResult([function(e){for(var t=/^@@ +\-(\d+),(\d+) +\+(\d+),(\d+) +@@$/,n=e.split("\n"),i=0,o=n.length;i<o;i++){var r,a=(r=n[i]).slice(0,1);"@"===a?(r=t.exec(r),0,n[i]="@@ -"+r[3]+","+r[4]+" +"+r[1]+","+r[2]+" @@"):"+"===a?(n[i]="-"+n[i].slice(1),"+"===n[i-1].slice(0,1)&&(r=n[i],n[i]=n[i-1],n[i-1]=r)):"-"===a&&(n[i]="+"+n[i].slice(1))}return n.join("\n")}(e.delta[0]),0,2]).exit()}var s=null;a.filterName=r.filterName=o.filterName="texts",n.diffFilter=o,n.patchFilter=r,n.reverseFilter=a},{}],14:[function(e,t,n){function i(e){if(e.left===e.right)e.setResult(void 0).exit();else if(void 0===e.left){if("function"==typeof e.right)throw new Error("functions are not supported");e.setResult([e.right]).exit()}else if(void 0===e.right)e.setResult([e.left,0,0]).exit();else{if("function"==typeof e.left||"function"==typeof e.right)throw new Error("functions are not supported");e.leftType=null===e.left?"null":typeof e.left,e.rightType=null===e.right?"null":typeof e.right,e.leftType!==e.rightType||"boolean"===e.leftType||"number"===e.leftType?e.setResult([e.left,e.right]).exit():("object"===e.leftType&&(e.leftIsArray=a(e.left)),"object"===e.rightType&&(e.rightIsArray=a(e.right)),e.leftIsArray!==e.rightIsArray&&e.setResult([e.left,e.right]).exit())}}function o(e){void 0===e.delta?e.setResult(e.left).exit():(e.nested=!a(e.delta),e.nested||(1===e.delta.length?e.setResult(e.delta[0]).exit():2===e.delta.length?e.setResult(e.delta[1]).exit():3===e.delta.length&&0===e.delta[2]&&e.setResult(void 0).exit()))}function r(e){void 0===e.delta?e.setResult(e.delta).exit():(e.nested=!a(e.delta),e.nested||(1===e.delta.length?e.setResult([e.delta[0],0,0]).exit():2===e.delta.length?e.setResult([e.delta[1],e.delta[0]]).exit():3===e.delta.length&&0===e.delta[2]&&e.setResult([e.delta[0]]).exit()))}var a="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array};r.filterName=o.filterName=i.filterName="trivial",n.diffFilter=i,n.patchFilter=o,n.reverseFilter=r},{}],15:[function(e,t,n){function i(e){this.name=e,this.filters=[]}i.prototype.process=function(e){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var t=this.debug,n=this.filters.length,i=e,o=0;o<n;o++){var r=this.filters[o];if(t&&this.log("filter: "+r.filterName),r(i),"object"==typeof i&&i.exiting){i.exiting=!1;break}}!i.next&&this.resultCheck&&this.resultCheck(i)},i.prototype.log=function(e){console.log("[jsondiffpatch] "+this.name+" pipe, "+e)},i.prototype.append=function(){return this.filters.push.apply(this.filters,arguments),this},i.prototype.prepend=function(){return this.filters.unshift.apply(this.filters,arguments),this},i.prototype.indexOf=function(e){if(!e)throw new Error("a filter name is required");for(var t=0;t<this.filters.length;t++)if(this.filters[t].filterName===e)return t;throw new Error("filter not found: "+e)},i.prototype.list=function(){for(var e=[],t=0;t<this.filters.length;t++){var n=this.filters[t];e.push(n.filterName)}return e},i.prototype.after=function(e){var t=this.indexOf(e),n=Array.prototype.slice.call(arguments,1);if(n.length)return n.unshift(t+1,0),Array.prototype.splice.apply(this.filters,n),this;throw new Error("a filter is required")},i.prototype.before=function(e){var t=this.indexOf(e),n=Array.prototype.slice.call(arguments,1);if(n.length)return n.unshift(t,0),Array.prototype.splice.apply(this.filters,n),this;throw new Error("a filter is required")},i.prototype.clear=function(){return this.filters.length=0,this},i.prototype.shouldHaveResult=function(e){var t;if(!1===e)this.resultCheck=null;else if(!this.resultCheck)return(t=this).resultCheck=function(e){if(!e.hasResult)throw console.log(e),(e=new Error(t.name+" failed")).noResult=!0,e},this},n.Pipe=i},{}],16:[function(e,t,n){function i(e){this.selfOptions=e||{},this.pipes={}}i.prototype.options=function(e){return e&&(this.selfOptions=e),this.selfOptions},i.prototype.pipe=function(e,t){if("string"==typeof e){if(void 0===t)return this.pipes[e];this.pipes[e]=t}if(e&&e.name){if((t=e).processor===this)return t;this.pipes[t.name]=t}return t.processor=this,t},i.prototype.process=function(e,t){for(var n,i,o=e,r=(o.options=this.options(),t||e.pipe||"default");r;)void 0!==o.nextAfterChildren&&(o.next=o.nextAfterChildren,o.nextAfterChildren=null),(r="string"==typeof r?this.pipe(r):r).process(o),n=r,r=null,(i=o)&&o.next&&(o=o.next,r=i.nextPipe||o.pipe||n);return o.hasResult?o.result:void 0},n.Processor=i},{}]},{},[1])(1)}),!function(e){var t;"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),(t.jsondiffpatch||(t.jsondiffpatch={})).formatters=e())}(function(){return function i(o,r,a){function s(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return s(t||e)},t,t.exports,i,o,r,a)}return r[n].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){t.exports=e("./formatters")},{"./formatters":6}],2:[function(e,t,n){n.isBrowser="undefined"!=typeof window},{}],3:[function(e,t,n){function i(){this.includeMoveDestinations=!1}function r(e){return'<pre style="display:inline-block">&quot;'+e+"&quot;</pre>"}function o(e,t){var n=this.getDeltaType(t),i=(i=l[n])&&i.apply(i,Array.prototype.slice.call(arguments,1)),o=JSON.stringify(t,null,2);"textdiff"===n&&(o=o.split("\\n").join('\\n"+\n   "')),e.indent(),e.row(o,i),e.indent(-1)}var a,s=e("./base").BaseFormatter,l=((i.prototype=new s).prepareContext=function(n){s.prototype.prepareContext.call(this,n),n.indent=function(e){this.indentLevel=(this.indentLevel||0)+(void 0===e?1:e),this.indentPad=new Array(this.indentLevel+1).join("&nbsp;&nbsp;")},n.row=function(e,t){n.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),n.out(n.indentPad),n.out('</pre><pre style="display: inline-block">'),n.out(e),n.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),n.out(t),n.out("</div></td></tr>")}},i.prototype.typeFormattterErrorFormatter=function(e,t){e.row("",'<pre class="jsondiffpatch-error">'+t+"</pre>")},i.prototype.formatTextDiffString=function(e,t){var n=this.parseTextDiff(t);e.out('<ul class="jsondiffpatch-textdiff">');for(var i=0,o=n.length;i<o;i++){for(var r=n[i],a=(e.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+r.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+r.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">'),r.pieces),s=0,l=a.length;s<l;s++){var c=a[s];e.out('<span class="jsondiffpatch-textdiff-'+c.type+'">'+c.text+"</span>")}e.out("</div></li>")}e.out("</ul>")},i.prototype.rootBegin=function(e,t,n){e.out('<table class="jsondiffpatch-annotated-delta">'),"node"===t&&(e.row("{"),e.indent()),"array"===n&&e.row('"_t": "a",',"Array delta (member names indicate array indices)")},i.prototype.rootEnd=function(e,t){"node"===t&&(e.indent(-1),e.row("}")),e.out("</table>")},i.prototype.nodeBegin=function(e,t,n,i,o){e.row("&quot;"+t+"&quot;: {"),"node"===i&&e.indent(),"array"===o&&e.row('"_t": "a",',"Array delta (member names indicate array indices)")},i.prototype.nodeEnd=function(e,t,n,i,o,r){"node"===i&&e.indent(-1),e.row("}"+(r?"":","))},i.prototype.format_unchanged=function(){},i.prototype.format_movedestination=function(){},i.prototype.format_node=function(e,t,n){this.formatDeltaChildren(e,t,n)},{added:function(e,t,n,i){var o=" <pre>([newValue])</pre>";return void 0===i?"new value"+o:"number"==typeof i?"insert at index "+i+o:"add property "+r(i)+o},modified:function(e,t,n,i){var o=" <pre>([previousValue, newValue])</pre>";return void 0===i?"modify value"+o:"number"==typeof i?"modify at index "+i+o:"modify property "+r(i)+o},deleted:function(e,t,n,i){var o=" <pre>([previousValue, 0, 0])</pre>";return void 0===i?"delete value"+o:"number"==typeof i?"remove index "+i+o:"delete property "+r(i)+o},moved:function(e,t,n,i){return'move from <span title="(position to remove at original state)">index '+i+'</span> to <span title="(position to insert at final state)">index '+e[1]+"</span>"},textdiff:function(e,t,n,i){return"text diff"+(void 0===i?"":"number"==typeof i?" at index "+i:" at property "+r(i))+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}});i.prototype.format_added=o,i.prototype.format_modified=o,i.prototype.format_deleted=o,i.prototype.format_moved=o,i.prototype.format_textdiff=o,n.AnnotatedFormatter=i,n.format=function(e,t){return(a=a||new i).format(e,t)}},{"./base":4}],4:[function(e,t,n){function i(e){return"_t"===e?-1:"_"===e.substr(0,1)?parseInt(e.slice(1),10):parseInt(e,10)+.1}function p(e,t){return i(e)-i(t)}function o(){}var h="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},f="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n};o.prototype.format=function(e,t){var n={};return this.prepareContext(n),this.recurse(n,e,t),this.finalize(n)},o.prototype.prepareContext=function(e){e.buffer=[],e.out=function(){this.buffer.push.apply(this.buffer,arguments)}},o.prototype.typeFormattterNotFound=function(e,t){throw new Error("cannot format delta type: "+t)},o.prototype.typeFormattterErrorFormatter=function(e,t){return t.toString()},o.prototype.finalize=function(e){if(h(e.buffer))return e.buffer.join("")},o.prototype.recurse=function(t,n,i,o,r,a,e){i=n&&a?a.value:i;if(void 0!==n||void 0!==o){var s=this.getDeltaType(n,a),l="node"===s?"a"===n._t?"array":"object":"";void 0!==o?this.nodeBegin(t,o,r,s,l,e):this.rootBegin(t,s,l);try{(this["format_"+s]||this.typeFormattterNotFound(t,s)).call(this,t,n,i,o,r,a)}catch(e){this.typeFormattterErrorFormatter(t,e,n,i,o,r,a),"undefined"!=typeof console&&console.error&&console.error(e.stack)}void 0!==o?this.nodeEnd(t,o,r,s,l,e):this.rootEnd(t,s,l)}},o.prototype.formatDeltaChildren=function(o,r,a){var s=this;this.forEachDeltaKey(r,a,function(e,t,n,i){s.recurse(o,r[e],a?a[t]:void 0,e,t,n,i)})},o.prototype.forEachDeltaKey=function(e,t,n){var i,o=f(e),r="a"===e._t,a={};if(void 0!==t)for(i in t)void 0!==e[i]||r&&void 0!==e["_"+i]||o.push(i);for(i in e){var s=e[i];h(s)&&3===s[2]&&!(a[s[1].toString()]={key:i,value:t&&t[parseInt(i.substr(1))]})!==this.includeMoveDestinations&&void 0===t&&void 0===e[s[1]]&&o.push(s[1].toString())}r?o.sort(p):o.sort();for(var l=0,c=o.length;l<c;l++){var u,d=o[l];r&&"_t"===d||(u=!r||"number"==typeof d?d:parseInt("_"===(u=d).substr(0,1)?u.slice(1):u,10),n(d,u,a[u],l===c-1))}},o.prototype.getDeltaType=function(e,t){if(void 0===e)return void 0!==t?"movedestination":"unchanged";if(h(e)){if(1===e.length)return"added";if(2===e.length)return"modified";if(3===e.length&&0===e[2])return"deleted";if(3===e.length&&2===e[2])return"textdiff";if(3===e.length&&3===e[2])return"moved"}else if("object"==typeof e)return"node";return"unknown"},o.prototype.parseTextDiff=function(e){for(var t=[],n=e.split("\n@@ "),i=0,o=n.length;i<o;i++){for(var r=n[i],a={pieces:[]},s=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(r).slice(1),l=(a.location={line:s[0],chr:s[1]},r.split("\n").slice(1)),c=0,u=l.length;c<u;c++){var d,p=l[c];p.length&&(d={type:"context"},"+"===p.substr(0,1)?d.type="added":"-"===p.substr(0,1)&&(d.type="deleted"),d.text=p.slice(1),a.pieces.push(d))}t.push(a)}return t},n.BaseFormatter=o},{}],5:[function(e,t,n){function i(){}e=e("./base").BaseFormatter;function u(e){for(var t=e,n=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],i=0;i<n.length;i++)t=t.replace(n[i][0],n[i][1]);return t}(i.prototype=new e).typeFormattterErrorFormatter=function(e,t){e.out('<pre class="jsondiffpatch-error">'+t+"</pre>")},i.prototype.formatValue=function(e,t){e.out("<pre>"+u(JSON.stringify(t,null,2))+"</pre>")},i.prototype.formatTextDiffString=function(e,t){var n=this.parseTextDiff(t);e.out('<ul class="jsondiffpatch-textdiff">');for(var i=0,o=n.length;i<o;i++){for(var r=n[i],a=(e.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+r.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+r.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">'),r.pieces),s=0,l=a.length;s<l;s++){var c=a[s];e.out('<span class="jsondiffpatch-textdiff-'+c.type+'">'+u(unescape(c.text))+"</span>")}e.out("</div></li>")}e.out("</ul>")};function s(e){e=e||document;for(var t=".jsondiffpatch-arrow",n=function(e){for(var t,n,i=e.parentNode,o=e.children[0],r=o.children[1],a=(o.style.display="none",(t=i.querySelector(".jsondiffpatch-moved-destination")).textContent||t.innerText),s=i.parentNode,l=function(e){e.getAttribute("data-key")===a&&(n=e)},c=0,u=s.children.length;c<u;c++)l(s.children[c],c);if(n)try{var d=n.offsetTop-i.offsetTop,p=(o.setAttribute("height",Math.abs(d)+6),e.style.top=(0<d?0:d)-8+"px",0<d?"M30,0 Q-10,"+Math.round(d/2)+" 26,"+(d-4):"M30,"+-d+" Q-10,"+Math.round(-d/2)+" 26,4");r.setAttribute("d",p),o.style.display=""}catch(e){return}},i=e.querySelectorAll(t),o=0,r=i.length;o<r;o++)n(i[o])}function o(e,t,n){var i=t||document.body,o={showing:(t="jsondiffpatch-unchanged-")+"showing",hiding:t+"hiding",visible:t+"visible",hidden:t+"hidden"},r=i.classList;if(r){if(!n)return r.remove(o.showing),r.remove(o.hiding),r.remove(o.visible),r.remove(o.hidden),void(!1===e&&r.add(o.hidden));!1===e?(r.remove(o.showing),r.add(o.visible),setTimeout(function(){r.add(o.hiding)},10)):(r.remove(o.hiding),r.add(o.showing),r.remove(o.hidden));var a=setInterval(function(){s(i)},100);setTimeout(function(){r.remove(o.showing),r.remove(o.hiding),!1===e?(r.add(o.hidden),r.remove(o.visible)):(r.add(o.visible),r.remove(o.hidden)),setTimeout(function(){r.remove(o.visible),clearInterval(a)},n+400)},n)}}var r;i.prototype.rootBegin=function(e,t,n){e.out('<div class="jsondiffpatch-delta '+("jsondiffpatch-"+t+(n?" jsondiffpatch-child-node-type-"+n:""))+'">')},i.prototype.rootEnd=function(e){e.out("</div>"+(e.hasArrows?'<script type="text/javascript">setTimeout('+s.toString()+",10);<\/script>":""))},i.prototype.nodeBegin=function(e,t,n,i,o){e.out('<li class="'+("jsondiffpatch-"+i+(o?" jsondiffpatch-child-node-type-"+o:""))+'" data-key="'+n+'"><div class="jsondiffpatch-property-name">'+n+"</div>")},i.prototype.nodeEnd=function(e){e.out("</li>")},i.prototype.format_unchanged=function(e,t,n){void 0!==n&&(e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,n),e.out("</div>"))},i.prototype.format_movedestination=function(e,t,n){void 0!==n&&(e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,n),e.out("</div>"))},i.prototype.format_node=function(e,t,n){var i="a"===t._t?"array":"object";e.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+i+'">'),this.formatDeltaChildren(e,t,n),e.out("</ul>")},i.prototype.format_added=function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,t[0]),e.out("</div>")},i.prototype.format_modified=function(e,t){e.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(e,t[0]),e.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(e,t[1]),e.out("</div>")},i.prototype.format_deleted=function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,t[0]),e.out("</div>")},i.prototype.format_moved=function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,t[0]),e.out('</div><div class="jsondiffpatch-moved-destination">'+t[1]+"</div>"),e.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">        <svg width="30" height="60" style="position: absolute; display: none;">        <defs>            <marker id="markerArrow" markerWidth="8" markerHeight="8" refx="2" refy="4"                   orient="auto" markerUnits="userSpaceOnUse">                <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />            </marker>        </defs>        <path d="M30,0 Q-10,25 26,50" style="stroke: #88f; stroke-width: 2px; fill: none;        stroke-opacity: 0.5; marker-end: url(#markerArrow);"></path>        </svg>        </div>'),e.hasArrows=!0},i.prototype.format_textdiff=function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(e,t[0]),e.out("</div>")};n.HtmlFormatter=i,n.showUnchanged=o,n.hideUnchanged=function(e,t){return o(!1,e,t)},n.format=function(e,t){return(r=r||new i).format(e,t)}},{"./base":4}],6:[function(e,t,n){var i=e("../environment");n.base=e("./base"),n.html=e("./html"),n.annotated=e("./annotated"),n.jsonpatch=e("./jsonpatch"),i.isBrowser||(n.console=e("./console"))},{"../environment":2,"./annotated":3,"./base":4,"./html":5,"./jsonpatch":7}],7:[function(e,t,f){!function(){var n,t=e("./base").BaseFormatter,i="add",o="remove",r="replace",a="moved",s="movedestination",l="unchanged";function c(){this.includeMoveDestinations=!1}function u(e){return e[e.length-1]}(c.prototype=new t).prepareContext=function(e){t.prototype.prepareContext.call(this,e),e.result=[],e.path=[],e.pushCurrentOp=function(e,t){e={op:e,path:this.currentPath()};void 0!==t&&(e.value=t),this.result.push(e)},e.currentPath=function(){return"/"+this.path.join("/")}},c.prototype.typeFormattterErrorFormatter=function(e,t){e.out("[ERROR]"+t)},c.prototype.rootBegin=function(){},c.prototype.rootEnd=function(){},c.prototype.nodeBegin=function(e,t,n){e.path.push(n)},c.prototype.nodeEnd=function(e){e.path.pop()},c.prototype.format_unchanged=function(e,t,n){void 0!==n&&e.pushCurrentOp(l,n)},c.prototype.format_movedestination=function(e,t,n){void 0!==n&&e.pushCurrentOp(s,n)},c.prototype.format_node=function(e,t,n){this.formatDeltaChildren(e,t,n)},c.prototype.format_added=function(e,t){e.pushCurrentOp(i,t[0])},c.prototype.format_modified=function(e,t){e.pushCurrentOp(r,t[1])},c.prototype.format_deleted=function(e){e.pushCurrentOp(o)},c.prototype.format_moved=function(e,t){e.pushCurrentOp(a,t[1])},c.prototype.format_textdiff=function(){throw"not implimented"},c.prototype.format=function(e,t){var n={};return this.prepareContext(n),this.recurse(n,e,t),n.result},f.JSONFormatter=c;function d(e,t){return e=parseInt(e,10),t=parseInt(t,10),isNaN(e)||isNaN(t)?0:t-e}function p(e){t=function(e){return"remove"===e.op},n=[],i=[],e.forEach(function(e){(t(e)?n:i).push(e)});var t,n,i,o,e=[n,i],r=e[0],e=e[1];return o=function(e,t){e=e.path.split("/"),t=t.path.split("/");return e.length!==t.length?e.length-t.length:d(u(e),u(t))},(r=r=r).sort(o),r.concat(e)}function h(e,t){return p((n=n||new c).format(e,t))}f.log=function(e,t){console.log(h(e,t))},f.format=h}()},{"./base":4}]},{},[1])(1)}),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.agGrid=t():e.agGrid=t()}(this,function(){return i=[function(e,t,n){t.Grid=n(1).Grid,t.GridApi=n(43).GridApi,t.Events=n(5).Events,t.ComponentUtil=n(4).ComponentUtil,t.ColumnController=n(14).ColumnController,t.initialiseAgGridWithAngular1=n(65).initialiseAgGridWithAngular1,t.initialiseAgGridWithWebComponents=n(66).initialiseAgGridWithWebComponents,t.defaultGroupComparator=n(19).defaultGroupComparator,t.GridOptions=n(67).GridOptions,t.AbstractColDef=n(68).AbstractColDef,t.ColDef=n(68).ColDef,t.ColGroupDef=n(68).ColGroupDef,t.Column=n(8).Column,t.ColumnGroup=n(15).ColumnGroup,t.ColumnGroupChild=n(69).ColumnGroupChild,t.OriginalColumnGroup=n(17).OriginalColumnGroup,t.OriginalColumnGroupChild=n(70).OriginalColumnGroupChild,t.RowNode=n(71).RowNode,t.SetFilterParameters=n(72).SetFilterParameters,t.TextAndNumberFilterParameters=n(73).TextAndNumberFilterParameters,n(74),n(78),n(80),n(82)},function(n,e,t){var D=t(2),A=t(7),O=t(10),R=t(11),I=t(12),N=t(13),L=t(14),_=t(20),G=t(28),F=t(33),V=t(38),z=t(39),U=t(9),H=t(40),B=t(41),s=t(43),l=t(3),j=t(45),W=t(46),q=t(48),Y=t(49),K=t(50),Z=t(51),X=t(52),Q=t(53),J=t(54),ee=t(55),te=t(56),ne=t(5),ie=t(57),oe=t(42),re=t(64);function i(e,t,n,i,o,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),this.virtualRowListeners={virtualRowRemoved:{},virtualRowSelected:{}},e||console.warn("ag-Grid: no div element provided to the grid"),t||console.warn("ag-Grid: no gridOptions provided to the grid"),this.gridOptions=t,this.setupComponents(i,o,e,n),this.gridOptions.api=new s.GridApi(this,this.rowRenderer,this.headerRenderer,this.filterManager,this.columnController,this.inMemoryRowController,this.selectionController,this.gridOptionsWrapper,this.gridPanel,this.valueService,this.masterSlaveService,this.eventService,this.floatingRowModel),this.gridOptions.columnApi=this.columnController.getColumnApi();var a=this,o=(i&&i.$watch(r,function(e){a.onQuickFilterChanged(e)}),this.gridOptionsWrapper.isForPrint()||this.addWindowResizeListener(),this.inMemoryRowController.setAllRows(this.gridOptionsWrapper.getRowData()),this.setupColumns(),this.updateModelAndRefresh(l.default.STEP_EVERYTHING),this.decideStartingOverlay(),this.gridOptionsWrapper.getDatasource()&&this.setDatasource(),this.doLayout(),this.finished=!1,this.periodicallyDoLayout(),{api:t.api,columnApi:t.columnApi});this.eventService.dispatchEvent(ne.Events.EVENT_GRID_READY,o),this.logger.log("initialised")}i.prototype.decideStartingOverlay=function(){var e,t;this.gridOptionsWrapper.isVirtualPaging()||(e=!this.gridOptionsWrapper.getRowData(),t=this.gridOptionsWrapper.getRowData()&&0==this.gridOptionsWrapper.getRowData().length,e&&this.showLoadingOverlay(),t&&this.showNoRowsOverlay())},i.prototype.addWindowResizeListener=function(){var e=this;this.windowResizeListener=function(){e.doLayout()},window.addEventListener("resize",this.windowResizeListener)},i.prototype.getRowModel=function(){return this.rowModel},i.prototype.periodicallyDoLayout=function(){var e;this.finished||(e=this,setTimeout(function(){e.doLayout(),e.gridPanel.periodicallyCheck(),e.periodicallyDoLayout()},500))},i.prototype.setupComponents=function(e,t,n,i){this.eUserProvidedDiv=n;var o=new re.DragService,r=new j.default,a=new I.default,s=new W.default,l=new q.default,c=new U.default,u=new D.default,d=new N.default,p=new F.default,h=new Y.default,f=new L.ColumnController,g=new _.default,m=new G.default,v=new A.default,b=new R.default,y=new K.default,w=new Z.default,C=new B.default,$=new X.default,x=new V.default,k=new Q.default,S=new z.default,E=new J.LoggerFactory,M=new H.default,P=new ee.default,T=new te.default,s=(u.init(this.gridOptions,c),E.init(u),this.logger=E.create("Grid"),this.logger.log("initialising"),r.init(u),a.init(u),P.init(u),T.init(g,C),M.init(E),c.init(E),C.init(u,f,g,S,E,a),w.init(e),y.init(E),d.init(this,C,u,e,g,c),p.init(this,u,t,e,f,$,x),h.init(this,d),s.init(u,E,P),l.init(P),f.init(this,h,u,y,x,S,c,s,l,P,T,E),g.init(f,u,C,this,h,t,e,d,y,w,x,c,a),m.init(u,f,C,this,p,e,t,r,o),v.init(u,f,this,p,e,k,x,c),b.init(g,u,this),x.init(u,y,f),k.init(x,u),S.init(u,f,C,E,c),i&&c.addGlobalListener(i),null),l=null,P=(u.isForPrint()||(s=(l=new ie.default).layout,l.init(f,v,u,$,c,M)),v.getModel()),T=(d.setRowModel(P),p.setRowModel(P),g.setRowModel(P),C.setRowModel(P),null),h=null;u.isForPrint()||((T=new O.default).init(this,u),h=T.getGui()),this.rowModel=P,this.usingInMemoryModel=!0,this.selectionController=d,this.columnController=f,this.inMemoryRowController=v,this.virtualPageRowController=b,this.rowRenderer=g,this.headerRenderer=m,this.paginationController=T,this.filterManager=p,this.toolPanel=l,this.gridPanel=C,this.valueService=x,this.masterSlaveService=S,this.eventService=c,this.gridOptionsWrapper=u,this.dragAndDropService=M,this.floatingRowModel=a,this.eRootPanel=new oe.default({center:C.getLayout(),east:s,south:h,dontFill:u.isForPrint(),name:"eRootPanel"}),$.init(this.eRootPanel.getGui()),this.eRootPanel.setSouthVisible(!1),this.showToolPanel(u.isShowToolPanel()),n.appendChild(this.eRootPanel.getGui()),this.logger.log("grid DOM added"),c.addEventListener(ne.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnChanged.bind(this)),c.addEventListener(ne.Events.EVENT_COLUMN_GROUP_OPENED,this.onColumnChanged.bind(this)),c.addEventListener(ne.Events.EVENT_COLUMN_MOVED,this.onColumnChanged.bind(this)),c.addEventListener(ne.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,this.onColumnChanged.bind(this)),c.addEventListener(ne.Events.EVENT_COLUMN_RESIZED,this.onColumnChanged.bind(this)),c.addEventListener(ne.Events.EVENT_COLUMN_VALUE_CHANGE,this.onColumnChanged.bind(this)),c.addEventListener(ne.Events.EVENT_COLUMN_VISIBLE,this.onColumnChanged.bind(this)),c.addEventListener(ne.Events.EVENT_COLUMN_PINNED,this.onColumnChanged.bind(this))},i.prototype.onColumnChanged=function(e){e.isRowGroupChanged()&&this.inMemoryRowController.onRowGroupChanged(),e.isValueChanged()&&this.inMemoryRowController.doAggregate(),e.isIndividualColumnResized()?this.onIndividualColumnResized(e.getColumn()):e.getType()===ne.Events.EVENT_COLUMN_MOVED?this.refreshHeader():this.refreshHeaderAndBody(),this.gridPanel.showPinnedColContainersIfNeeded()},i.prototype.refreshRowGroup=function(){this.inMemoryRowController.onRowGroupChanged(),this.refreshHeaderAndBody()},i.prototype.onIndividualColumnResized=function(e){this.headerRenderer.onIndividualColumnResized(e),e.isPinned()?this.updatePinnedColContainerWidthAfterColResize():this.updateBodyContainerWidthAfterColResize()},i.prototype.showToolPanel=function(e){this.toolPanel?(this.toolPanelShowing=e,this.eRootPanel.setEastVisible(e)):this.toolPanelShowing=!1},i.prototype.isToolPanelShowing=function(){return this.toolPanelShowing},i.prototype.isUsingInMemoryModel=function(){return this.usingInMemoryModel},i.prototype.setDatasource=function(e){e&&(this.gridOptions.datasource=e);var e=this.gridOptionsWrapper.getDatasource();this.doingVirtualPaging=this.gridOptionsWrapper.isVirtualPaging()&&e,this.doingPagination=e&&!this.doingVirtualPaging,e=this.doingVirtualPaging?(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(e),this.rowModel=this.virtualPageRowController.getModel(),this.usingInMemoryModel=!1):this.doingPagination?(this.paginationController.setDatasource(e),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),this.usingInMemoryModel=!0):(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),!(this.usingInMemoryModel=!0)),this.selectionController.setRowModel(this.rowModel),this.filterManager.setRowModel(this.rowModel),this.rowRenderer.setRowModel(this.rowModel),this.gridPanel.setRowModel(this.rowModel),this.eRootPanel.setSouthVisible(e),this.rowRenderer.refreshView(),this.doLayout()},i.prototype.refreshHeaderAndBody=function(){this.logger.log("refreshHeaderAndBody"),this.refreshHeader(),this.refreshBody()},i.prototype.refreshHeader=function(){this.headerRenderer.refreshHeader(),this.headerRenderer.updateFilterIcons(),this.headerRenderer.updateSortIcons(),this.headerRenderer.setPinnedColContainerWidth()},i.prototype.refreshBody=function(){this.gridPanel.setBodyContainerWidth(),this.gridPanel.setPinnedColContainerWidth(),this.rowRenderer.refreshView()},i.prototype.destroy=function(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.logger.log("Removing windowResizeListener")),this.finished=!0,this.dragAndDropService.destroy(),this.rowRenderer.destroy(),this.filterManager.destroy(),this.eUserProvidedDiv.removeChild(this.eRootPanel.getGui()),this.logger.log("Grid DOM removed")},i.prototype.onQuickFilterChanged=function(e){this.filterManager.setQuickFilter(e)&&this.onFilterChanged()},i.prototype.onFilterModified=function(){this.eventService.dispatchEvent(ne.Events.EVENT_FILTER_MODIFIED)},i.prototype.onFilterChanged=function(){this.eventService.dispatchEvent(ne.Events.EVENT_BEFORE_FILTER_CHANGED),this.filterManager.onFilterChanged(),this.headerRenderer.updateFilterIcons(),this.gridOptionsWrapper.isEnableServerSideFilter()?this.setDatasource():this.updateModelAndRefresh(l.default.STEP_FILTER),this.eventService.dispatchEvent(ne.Events.EVENT_AFTER_FILTER_CHANGED)},i.prototype.onRowClicked=function(e,t,n){var i,o;n.group||n.floating||(i=this.gridOptionsWrapper,o=this.selectionController,i.isRowSelection()&&!i.isSuppressRowClickSelection()&&(e&&o.isNodeSelected(n)&&i.isRowDeselection()?o.deselectNode(n):o.selectNode(n,e)))},i.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},i.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},i.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},i.prototype.setupColumns=function(){this.columnController.onColumnsChanged(),this.gridPanel.showPinnedColContainersIfNeeded(),this.gridPanel.onBodyHeightChange()},i.prototype.updateModelAndRefresh=function(e,t){this.inMemoryRowController.updateModel(e),this.rowRenderer.refreshView(t)},i.prototype.setRowData=function(e,t){e&&(this.gridOptions.rowData=e);e=this.gridOptionsWrapper.getRowData();this.inMemoryRowController.setAllRows(e,t),this.selectionController.deselectAll(),this.filterManager.onNewRowsLoaded(),this.updateModelAndRefresh(l.default.STEP_EVERYTHING),this.headerRenderer.updateFilterIcons(),e&&0<e.length?this.hideOverlay():this.showNoRowsOverlay()},i.prototype.ensureNodeVisible=function(e){if(this.doingVirtualPaging)throw"Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory";for(var t=this.rowModel.getVirtualRowCount(),n="function"==typeof e,i=-1,o=0;o<t;o++){var r=this.rowModel.getVirtualRow(o);if(n){if(e(r)){i=o;break}}else if(e===r||e===r.data){i=o;break}}0<=i&&this.gridPanel.ensureIndexVisible(i)},i.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},i.prototype.setFocusedCell=function(e,t){this.gridPanel.ensureIndexVisible(e),this.gridPanel.ensureColumnVisible(t);var n=this;setTimeout(function(){n.rowRenderer.setFocusedCell(e,t)},10)},i.prototype.getSortModel=function(){return this.columnController.getSortModel()},i.prototype.setSortModel=function(e){this.columnController.setSortModel(e),this.onSortingChanged()},i.prototype.onSortingChanged=function(){this.eventService.dispatchEvent(ne.Events.EVENT_BEFORE_SORT_CHANGED),this.headerRenderer.updateSortIcons(),this.gridOptionsWrapper.isEnableServerSideSorting()?this.setDatasource():this.updateModelAndRefresh(l.default.STEP_SORT),this.eventService.dispatchEvent(ne.Events.EVENT_AFTER_SORT_CHANGED)},i.prototype.addVirtualRowListener=function(e,t,n){var i=this.virtualRowListeners[e];i?(i[t]||(i[t]=[]),i[t].push(n)):console.warn("ag-Grid: invalid listener type "+e+", expected values are "+Object.keys(this.virtualRowListeners))},i.prototype.onVirtualRowSelected=function(e,t){var n=this.virtualRowListeners[i.VIRTUAL_ROW_SELECTED];n[e]&&n[e].forEach(function(e){"function"==typeof e&&e(t)}),this.rowRenderer.onRowSelected(e,t)},i.prototype.onVirtualRowRemoved=function(e){var t=this.virtualRowListeners[i.VIRTUAL_ROW_REMOVED];t[e]&&t[e].forEach(function(e){"function"==typeof e&&e()}),this.removeVirtualCallbacksForRow(e)},i.prototype.removeVirtualCallbacksForRow=function(e){delete this.virtualRowListeners[i.VIRTUAL_ROW_REMOVED][e],delete this.virtualRowListeners[i.VIRTUAL_ROW_SELECTED][e]},i.prototype.setColumnDefs=function(e){e&&(this.gridOptions.columnDefs=e),this.setupColumns(),this.updateModelAndRefresh(l.default.STEP_EVERYTHING),this.doLayout()},i.prototype.updateBodyContainerWidthAfterColResize=function(){this.rowRenderer.setMainRowWidths(),this.gridPanel.setBodyContainerWidth()},i.prototype.updatePinnedColContainerWidthAfterColResize=function(){this.gridPanel.setPinnedColContainerWidth(),this.headerRenderer.setPinnedColContainerWidth()},i.prototype.doLayout=function(){var e;this.eRootPanel.doLayout()&&(this.rowRenderer.drawVirtualRows(),e={clientWidth:this.eRootPanel.getGui().clientWidth,clientHeight:this.eRootPanel.getGui().clientHeight},this.eventService.dispatchEvent(ne.Events.EVENT_GRID_SIZE_CHANGED,e))},i.VIRTUAL_ROW_REMOVED="virtualRowRemoved",i.VIRTUAL_ROW_SELECTED="virtualRowSelected",e.Grid=i},function(e,t,n){var i=n(3),o=n(4);function r(e){return!0===e||"true"===e}a.prototype.init=function(e,t){this.gridOptions=e,this.headerHeight=e.headerHeight,t.addGlobalListener(this.globalEventHandler.bind(this)),this.checkForDeprecated()},a.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},a.prototype.isRowDeselection=function(){return r(this.gridOptions.rowDeselection)},a.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},a.prototype.getContext=function(){return this.gridOptions.context},a.prototype.isVirtualPaging=function(){return r(this.gridOptions.virtualPaging)},a.prototype.isShowToolPanel=function(){return r(this.gridOptions.showToolPanel)},a.prototype.isToolPanelSuppressGroups=function(){return r(this.gridOptions.toolPanelSuppressGroups)},a.prototype.isToolPanelSuppressValues=function(){return r(this.gridOptions.toolPanelSuppressValues)},a.prototype.isRowsAlreadyGrouped=function(){return r(this.gridOptions.rowsAlreadyGrouped)},a.prototype.isGroupSelectsChildren=function(){return r(this.gridOptions.groupSelectsChildren)},a.prototype.isGroupHideGroupColumns=function(){return r(this.gridOptions.groupHideGroupColumns)},a.prototype.isGroupIncludeFooter=function(){return r(this.gridOptions.groupIncludeFooter)},a.prototype.isGroupSuppressBlankHeader=function(){return r(this.gridOptions.groupSuppressBlankHeader)},a.prototype.isSuppressRowClickSelection=function(){return r(this.gridOptions.suppressRowClickSelection)},a.prototype.isSuppressCellSelection=function(){return r(this.gridOptions.suppressCellSelection)},a.prototype.isSuppressMultiSort=function(){return r(this.gridOptions.suppressMultiSort)},a.prototype.isGroupSuppressAutoColumn=function(){return r(this.gridOptions.groupSuppressAutoColumn)},a.prototype.isForPrint=function(){return r(this.gridOptions.forPrint)},a.prototype.isSuppressHorizontalScroll=function(){return r(this.gridOptions.suppressHorizontalScroll)},a.prototype.isSuppressLoadingOverlay=function(){return r(this.gridOptions.suppressLoadingOverlay)},a.prototype.isSuppressNoRowsOverlay=function(){return r(this.gridOptions.suppressNoRowsOverlay)},a.prototype.getFloatingTopRowData=function(){return this.gridOptions.floatingTopRowData},a.prototype.getFloatingBottomRowData=function(){return this.gridOptions.floatingBottomRowData},a.prototype.isUnSortIcon=function(){return r(this.gridOptions.unSortIcon)},a.prototype.isSuppressMenuHide=function(){return r(this.gridOptions.suppressMenuHide)},a.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},a.prototype.getRowClass=function(){return this.gridOptions.rowClass},a.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},a.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},a.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},a.prototype.getHeaderCellRenderer=function(){return this.gridOptions.headerCellRenderer},a.prototype.getApi=function(){return this.gridOptions.api},a.prototype.isEnableColResize=function(){return r(this.gridOptions.enableColResize)},a.prototype.isSingleClickEdit=function(){return r(this.gridOptions.singleClickEdit)},a.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},a.prototype.getGroupAggFunction=function(){return this.gridOptions.groupAggFunction},a.prototype.getRowData=function(){return this.gridOptions.rowData},a.prototype.isGroupUseEntireRow=function(){return r(this.gridOptions.groupUseEntireRow)},a.prototype.getGroupColumnDef=function(){return this.gridOptions.groupColumnDef},a.prototype.isGroupSuppressRow=function(){return r(this.gridOptions.groupSuppressRow)},a.prototype.isAngularCompileRows=function(){return r(this.gridOptions.angularCompileRows)},a.prototype.isAngularCompileFilters=function(){return r(this.gridOptions.angularCompileFilters)},a.prototype.isAngularCompileHeaders=function(){return r(this.gridOptions.angularCompileHeaders)},a.prototype.isDebug=function(){return r(this.gridOptions.debug)},a.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},a.prototype.getDatasource=function(){return this.gridOptions.datasource},a.prototype.isEnableSorting=function(){return r(this.gridOptions.enableSorting)||r(this.gridOptions.enableServerSideSorting)},a.prototype.isEnableCellExpressions=function(){return r(this.gridOptions.enableCellExpressions)},a.prototype.isEnableServerSideSorting=function(){return r(this.gridOptions.enableServerSideSorting)},a.prototype.isEnableFilter=function(){return r(this.gridOptions.enableFilter)||r(this.gridOptions.enableServerSideFilter)},a.prototype.isEnableServerSideFilter=function(){return this.gridOptions.enableServerSideFilter},a.prototype.isSuppressScrollLag=function(){return r(this.gridOptions.suppressScrollLag)},a.prototype.isSuppressMovableColumns=function(){return r(this.gridOptions.suppressMovableColumns)},a.prototype.isSuppressMovingCss=function(){return r(this.gridOptions.suppressMovingCss)},a.prototype.getIcons=function(){return this.gridOptions.icons},a.prototype.getIsScrollLag=function(){return this.gridOptions.isScrollLag},a.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},a.prototype.getSlaveGrids=function(){return this.gridOptions.slaveGrids},a.prototype.getGroupRowRenderer=function(){return this.gridOptions.groupRowRenderer},a.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},a.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},a.prototype.getCheckboxSelection=function(){return this.gridOptions.checkboxSelection},a.prototype.isSuppressAutoSize=function(){return r(this.gridOptions.suppressAutoSize)},a.prototype.isSuppressParentsInRowNodes=function(){return r(this.gridOptions.suppressParentsInRowNodes)},a.prototype.getHeaderCellTemplate=function(){return this.gridOptions.headerCellTemplate},a.prototype.getHeaderCellTemplateFunc=function(){return this.gridOptions.getHeaderCellTemplate},a.prototype.getHeaderHeight=function(){return"number"==typeof this.headerHeight?this.headerHeight:25},a.prototype.setHeaderHeight=function(e){this.headerHeight=e},a.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},a.prototype.doesExternalFilterPass=function(e){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},a.prototype.getGroupRowInnerRenderer=function(){return this.gridOptions.groupRowInnerRenderer},a.prototype.getMinColWidth=function(){return this.gridOptions.minColWidth>a.MIN_COL_WIDTH?this.gridOptions.minColWidth:a.MIN_COL_WIDTH},a.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth>a.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},a.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<a.MIN_COL_WIDTH?200:this.gridOptions.colWidth},a.prototype.getRowBuffer=function(){return"number"==typeof this.gridOptions.rowBuffer?(this.gridOptions.rowBuffer<0&&console.warn("ag-Grid: rowBuffer should not be negative"),this.gridOptions.rowBuffer):i.default.ROW_BUFFER_SIZE},a.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.suppressUnSort&&console.warn("ag-grid: as of v1.12.4 suppressUnSort is not used. Please use sortOrder instead."),e.suppressDescSort&&console.warn("ag-grid: as of v1.12.4 suppressDescSort is not used. Please use sortOrder instead."),e.groupAggFields&&console.warn("ag-grid: as of v3 groupAggFields is not used. Please add appropriate agg fields to your columns."),e.groupHidePivotColumns&&console.warn("ag-grid: as of v3 groupHidePivotColumns is not used as pivot columns are now called rowGroup columns. Please refer to the documentation"),e.groupKeys&&console.warn("ag-grid: as of v3 groupKeys is not used. You need to set rowGroupIndex on the columns to group. Please refer to the documentation"),(e.ready||e.onReady)&&console.warn("ag-grid: as of v3.3 ready event is now called gridReady, so the callback should be onGridReady"),"boolean"==typeof e.groupDefaultExpanded&&console.warn("ag-grid: groupDefaultExpanded can no longer be boolean. for groupDefaultExpanded=true, use groupDefaultExpanded=9999 instead, to expand all the groups")},a.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var i=this;return function(e,t){var n=i.gridOptions.localeText;return n&&n[e]?n[e]:t}},a.prototype.globalEventHandler=function(e,t){e=o.ComponentUtil.getCallbackForEvent(e);"function"==typeof this.gridOptions[e]&&this.gridOptions[e](t)},a.prototype.getRowHeightForVirtualPagiation=function(){return"number"==typeof this.gridOptions.rowHeight?this.gridOptions.rowHeight:25},a.prototype.getRowHeightForNode=function(e){return"number"==typeof this.gridOptions.rowHeight?this.gridOptions.rowHeight:"function"==typeof this.gridOptions.getRowHeight?(e={node:e,data:e.data,api:this.gridOptions.api,context:this.gridOptions.context},this.gridOptions.getRowHeight(e)):25},a.MIN_COL_WIDTH=10;n=a;function a(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){i.STEP_EVERYTHING=0,i.STEP_FILTER=1,i.STEP_SORT=2,i.STEP_MAP=3,i.ROW_BUFFER_SIZE=2,i.KEY_TAB=9,i.KEY_ENTER=13,i.KEY_BACKSPACE=8,i.KEY_DELETE=46,i.KEY_ESCAPE=27,i.KEY_SPACE=32,i.KEY_DOWN=40,i.KEY_UP=38,i.KEY_LEFT=37,i.KEY_RIGHT=39;var n=i;function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(5),n=n(6),o=(r.getEventCallbacks=function(){return r.EVENT_CALLBACKS||(r.EVENT_CALLBACKS=[],r.EVENTS.forEach(function(e){r.EVENT_CALLBACKS.push(r.getCallbackForEvent(e))})),r.EVENT_CALLBACKS},r.copyAttributesToGridOptions=function(e,t){a(t);var n=e="object"!=typeof e?{}:e;return r.ARRAY_PROPERTIES.concat(r.STRING_PROPERTIES).concat(r.OBJECT_PROPERTIES).concat(r.FUNCTION_PROPERTIES).forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),r.BOOLEAN_PROPERTIES.forEach(function(e){void 0!==t[e]&&(n[e]=r.toBoolean(t[e]))}),r.NUMBER_PROPERTIES.forEach(function(e){void 0!==t[e]&&(n[e]=r.toNumber(t[e]))}),r.getEventCallbacks().forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),e},r.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},r.processOnChange=function(t,e,n){var i;t&&(a(t),i=e,r.ARRAY_PROPERTIES.concat(r.OBJECT_PROPERTIES).concat(r.STRING_PROPERTIES).forEach(function(e){t[e]&&(i[e]=t[e].currentValue)}),r.BOOLEAN_PROPERTIES.forEach(function(e){t[e]&&(i[e]=r.toBoolean(t[e].currentValue))}),r.NUMBER_PROPERTIES.forEach(function(e){t[e]&&(i[e]=r.toNumber(t[e].currentValue))}),r.getEventCallbacks().forEach(function(e){t[e]&&(i[e]=t[e].currentValue)}),t.showToolPanel&&n.showToolPanel(t.showToolPanel.currentValue),t.quickFilterText&&n.setQuickFilter(t.quickFilterText.currentValue),t.rowData&&n.setRowData(t.rowData.currentValue),t.floatingTopRowData&&n.setFloatingTopRowData(t.floatingTopRowData.currentValue),t.floatingBottomRowData&&n.setFloatingBottomRowData(t.floatingBottomRowData.currentValue),t.columnDefs&&n.setColumnDefs(t.columnDefs.currentValue),t.datasource&&n.setDatasource(t.datasource.currentValue),t.headerHeight&&n.setHeaderHeight(t.headerHeight.currentValue))},r.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)},r.toNumber=function(e){return"number"==typeof e?e:"string"==typeof e?Number(e):void 0},r.EVENTS=[],r.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","headerCellTemplate","quickFilterText"],r.OBJECT_PROPERTIES=["rowStyle","context","groupColumnDef","localeText","icons","datasource"],r.ARRAY_PROPERTIES=["slaveGrids","rowData","floatingTopRowData","floatingBottomRowData","columnDefs"],r.NUMBER_PROPERTIES=["rowHeight","rowBuffer","colWidth","headerHeight","groupDefaultExpanded","minColWidth","maxColWidth"],r.BOOLEAN_PROPERTIES=["virtualPaging","toolPanelSuppressGroups","toolPanelSuppressValues","rowsAlreadyGrouped","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","debug","enableColResize","enableCellExpressions","enableSorting","enableServerSideSorting","enableFilter","enableServerSideFilter","angularCompileRows","angularCompileFilters","angularCompileHeaders","groupSuppressAutoColumn","groupSelectsChildren","groupHideGroupColumns","groupIncludeFooter","groupUseEntireRow","groupSuppressRow","groupSuppressBlankHeader","forPrint","suppressMenuHide","rowDeselection","unSortIcon","suppressMultiSort","suppressScrollLag","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","suppressParentsInRowNodes","showToolPanel","suppressMovingCss","suppressMovableColumns"],r.FUNCTION_PROPERTIES=["headerCellRenderer","localeTextFunc","groupRowInnerRenderer","groupRowRenderer","groupAggFunction","isScrollLag","isExternalFilterPresent","doesExternalFilterPass","getRowClass","getRowStyle","getHeaderCellTemplate"],r.ALL_PROPERTIES=r.ARRAY_PROPERTIES.concat(r.OBJECT_PROPERTIES).concat(r.STRING_PROPERTIES).concat(r.NUMBER_PROPERTIES).concat(r.FUNCTION_PROPERTIES).concat(r.BOOLEAN_PROPERTIES),r);function r(){}function a(e){(e.ready||e.onReady)&&console.warn("ag-grid: as of v3.3 ready event is now called gridReady, so the callback should be onGridReady")}t.ComponentUtil=o,n.default.iterateObject(i.Events,function(e,t){o.EVENTS.push(t)})},function(e,t){function n(){}n.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",n.EVENT_COLUMN_ROW_GROUP_CHANGE="columnRowGroupChanged",n.EVENT_COLUMN_VALUE_CHANGE="columnValueChanged",n.EVENT_COLUMN_MOVED="columnMoved",n.EVENT_COLUMN_VISIBLE="columnVisible",n.EVENT_COLUMN_PINNED="columnPinned",n.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",n.EVENT_ROW_GROUP_OPENED="rowGroupOpened",n.EVENT_COLUMN_RESIZED="columnResized",n.EVENT_MODEL_UPDATED="modelUpdated",n.EVENT_CELL_CLICKED="cellClicked",n.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",n.EVENT_CELL_CONTEXT_MENU="cellContextMenu",n.EVENT_CELL_VALUE_CHANGED="cellValueChanged",n.EVENT_CELL_FOCUSED="cellFocused",n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_ROW_DESELECTED="rowDeselected",n.EVENT_SELECTION_CHANGED="selectionChanged",n.EVENT_BEFORE_FILTER_CHANGED="beforeFilterChanged",n.EVENT_AFTER_FILTER_CHANGED="afterFilterChanged",n.EVENT_FILTER_MODIFIED="filterModified",n.EVENT_BEFORE_SORT_CHANGED="beforeSortChanged",n.EVENT_AFTER_SORT_CHANGED="afterSortChanged",n.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",n.EVENT_ROW_CLICKED="rowClicked",n.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",n.EVENT_GRID_READY="gridReady",n.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",t.Events=n},function(e,t){var n=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,i=/([^\s,]+)/g,o=(r.iterateObject=function(e,t){for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];t(o,e[o])}},r.cloneObject=function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],r=e[o];t[o]=r}return t},r.map=function(e,t){for(var n=[],i=0;i<e.length;i++){var o=t(e[i]);n.push(o)}return n},r.forEach=function(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n],n)},r.filter=function(e,t){var n=[];return e.forEach(function(e){t(e)&&n.push(e)}),n},r.assign=function(n,e){r.iterateObject(e,function(e,t){n[e]=t})},r.getFunctionParameters=function(e){e=e.toString().replace(n,""),e=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(i);return null===e?[]:e},r.find=function(e,t,n){if(null==e)return null;for(var i=0;i<e.length;i++)if(e[i][t]===n)return e[i];return null},r.toStrings=function(e){return this.map(e,function(e){return null!=e&&e.toString?e.toString():null})},r.iterateArray=function(e,t){for(var n=0;n<e.length;n++)t(e[n],n)},r.isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},r.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},r.isNodeOrElement=function(e){return this.isNode(e)||this.isElement(e)},r.addChangeListener=function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t),e.addEventListener("keydown",t),e.addEventListener("keyup",t)},r.makeNull=function(e){return null==e||""===e?null:e},r.removeAllChildren=function(e){if(e)for(;e.hasChildNodes();)e.removeChild(e.lastChild)},r.removeElement=function(e,t){this.removeFromParent(e.querySelector(t))},r.removeFromParent=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},r.isVisible=function(e){return null!==e.offsetParent},r.loadTemplate=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},r.querySelectorAll_addCssClass=function(e,t,n){for(var i=e.querySelectorAll(t),o=0;o<i.length;o++)this.addCssClass(i[o],n)},r.querySelectorAll_removeCssClass=function(e,t,n){for(var i=e.querySelectorAll(t),o=0;o<i.length;o++)this.removeCssClass(i[o],n)},r.querySelectorAll_replaceCssClass=function(e,t,n,i){for(var o=e.querySelectorAll(t),r=0;r<o.length;r++)this.removeCssClass(o[r],n),this.addCssClass(o[r],i)},r.addOrRemoveCssClass=function(e,t,n){n?this.addCssClass(e,t):this.removeCssClass(e,t)},r.addCssClass=function(e,t){var n;e.className&&0<e.className.length?(n=e.className.split(" ")).indexOf(t)<0&&(n.push(t),e.className=n.join(" ")):e.className=t},r.offsetHeight=function(e){return e&&e.clientHeight?e.clientHeight:0},r.offsetWidth=function(e){return e&&e.clientWidth?e.clientWidth:0},r.removeCssClass=function(e,t){var n;e.className&&0<e.className.length&&(0<=(t=(n=e.className.split(" ")).indexOf(t))&&(n.splice(t,1),e.className=n.join(" ")))},r.removeFromArray=function(e,t){0<=e.indexOf(t)&&e.splice(e.indexOf(t),1)},r.defaultComparator=function(e,t){var n=null==e,i=null==t;return n&&i?0:n?-1:i?1:e<t?-1:t<e?1:0},r.formatWidth=function(e){return"number"==typeof e?e+"px":e},r.useRenderer=function(e,t,n){t=t(n);"string"==typeof t?((n=document.createElement("span")).innerHTML=t,e.appendChild(n)):this.isNodeOrElement(t)&&e.appendChild(t)},r.createIcon=function(e,t,n,i){var o=document.createElement("span");return o.appendChild(this.createIconNoSpan(e,t,n,i)),o},r.createIconNoSpan=function(e,t,n,i){var o,r;if(o=!(o=n&&n.getColDef().icons?n.getColDef().icons[e]:o)&&t.getIcons()?t.getIcons()[e]:o){if("function"==typeof o)r=o();else{if("string"!=typeof o)throw"icon from grid options needs to be a string or a function";r=o}if("string"==typeof r)return this.loadTemplate(r);if(this.isNodeOrElement(r))return r;throw"iconRenderer should return back a string or a dom object"}return i()},r.addStylesToElement=function(t,n){Object.keys(n).forEach(function(e){t.style[e]=n[e]})},r.getScrollbarWidth=function(){var e=document.createElement("div"),t=(e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e),e.offsetWidth),n=(e.style.overflow="scroll",document.createElement("div")),n=(n.style.width="100%",e.appendChild(n),n.offsetWidth);return e.parentNode.removeChild(e),t-n},r.isKeyPressed=function(e,t){return(e.which||e.keyCode)===t},r.setVisible=function(e,t){e.style.display=t?"inline":"none"},r.isBrowserIE=function(){return void 0===this.isIE&&(this.isIE=!!document.documentMode),this.isIE},r.isBrowserSafari=function(){return void 0===this.isSafari&&(this.isSafari=0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")),this.isSafari},r);function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){var s,h=n(6),i=n(3),o=n(5),c=n(8),n=((n=s=s||{})[n.Normal=0]="Normal",n[n.AfterFilter=1]="AfterFilter",n[n.AfterFilterAndSort=2]="AfterFilterAndSort",r.prototype.init=function(e,t,n,i,o,r,a,s){this.gridOptionsWrapper=e,this.columnController=t,this.angularGrid=n,this.filterManager=i,this.$scope=o,this.groupCreator=r,this.valueService=a,this.eventService=s,this.allRows=null,this.rowsAfterGroup=null,this.rowsAfterFilter=null,this.rowsAfterSort=null,this.rowsToDisplay=null},r.prototype.createModel=function(){var t=this;this.model={getTopLevelNodes:function(){return t.rowsAfterGroup},getVirtualRow:function(e){return t.rowsToDisplay[e]},getVirtualRowCount:function(){return t.rowsToDisplay?t.rowsToDisplay.length:0},getRowAtPixel:function(e){return t.getRowAtPixel(e)},getVirtualRowCombinedHeight:function(){return t.getVirtualRowCombinedHeight()},forEachInMemory:function(e){t.forEachInMemory(e)},forEachNode:function(e){t.forEachNode(e)},forEachNodeAfterFilter:function(e){t.forEachNodeAfterFilter(e)},forEachNodeAfterFilterAndSort:function(e){t.forEachNodeAfterFilterAndSort(e)}}},r.prototype.getRowAtPixel=function(e){var t=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(this.rowsToDisplay[this.rowsToDisplay.length-1].rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var i=Math.floor((t+n)/2),o=this.rowsToDisplay[i];if(this.isRowInPixel(o,e))return i;o.rowTop<e?t=i+1:o.rowTop>e&&(n=i-1)}},r.prototype.isRowInPixel=function(e,t){var n=e.rowTop,e=e.rowTop+e.rowHeight;return n<=t&&t<e},r.prototype.getVirtualRowCombinedHeight=function(){var e;return this.rowsToDisplay&&0<this.rowsToDisplay.length?(e=this.rowsToDisplay[this.rowsToDisplay.length-1]).rowTop+e.rowHeight:0},r.prototype.getModel=function(){return this.model},r.prototype.forEachInMemory=function(e){console.warn("ag-Grid: please use forEachNode instead of forEachInMemory, method is same, I just renamed it, forEachInMemory is deprecated"),this.forEachNode(e)},r.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rowsAfterGroup,e,s.Normal,0)},r.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rowsAfterFilter,e,s.AfterFilter,0)},r.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rowsAfterSort,e,s.AfterFilterAndSort,0)},r.prototype.recursivelyWalkNodesAndCallback=function(e,t,n,i){if(e)for(var o=0;o<e.length;o++){var r,a=e[o];if(t(a,i++),a.group){switch(n){case s.Normal:r=a.children;break;case s.AfterFilter:r=a.childrenAfterFilter;break;case s.AfterFilterAndSort:r=a.childrenAfterSort}r&&(i=this.recursivelyWalkNodesAndCallback(r,t,n,i))}}return i},r.prototype.updateModel=function(e){var t=this;switch(e){case i.default.STEP_EVERYTHING:case i.default.STEP_FILTER:this.doFilter(),this.doAggregate();case i.default.STEP_SORT:this.doSort();case i.default.STEP_MAP:this.doRowsToDisplay()}this.eventService.dispatchEvent(o.Events.EVENT_MODEL_UPDATED),this.$scope&&setTimeout(function(){t.$scope.$apply()},0)},r.prototype.ensureRowHasHeight=function(e){},r.prototype.defaultGroupAggFunctionFactory=function(r){var l=this.valueService;return function(e){for(var t={},n=0;n<r.length;n++){var i=r[n],o=i.getColDef().field;o||console.log("ag-Grid: you need to provide a field for all value columns so that the grid knows what field to store the result in. so even if using a valueGetter, the result will not be stored in a value getter."),t[o]=function(e,t,n,i){for(var o,r=null,a=0;a<e.length;a++){var s=e[a];if("number"==typeof(o=i&&!s.group?l.getValue(i,s.data,s):s.data[n]))switch(t){case c.default.AGG_SUM:r+=o;break;case c.default.AGG_MIN:(null===r||o<r)&&(r=o);break;case c.default.AGG_MAX:(null===r||r<o)&&(r=o)}}return r}(e,i.getAggFunc(),o,i.getColDef())}return t}},r.prototype.doAggregate=function(){var e=this.gridOptionsWrapper.getGroupAggFunction();"function"==typeof e?this.recursivelyCreateAggData(this.rowsAfterFilter,e,0):(e=this.columnController.getValueColumns())&&0<e.length?(e=this.defaultGroupAggFunctionFactory(e),this.recursivelyCreateAggData(this.rowsAfterFilter,e,0)):this.gridOptionsWrapper.isRowsAlreadyGrouped()||this.recursivelyClearAggData(this.rowsAfterFilter)},r.prototype.expandOrCollapseAll=function(t,e){var n=this;(e=null===e?this.rowsAfterGroup:e)&&e.forEach(function(e){e.group&&(e.expanded=t,n.expandOrCollapseAll(t,e.children))})},r.prototype.recursivelyClearAggData=function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];i.group&&(this.recursivelyClearAggData(i.childrenAfterFilter),i.data=null)}},r.prototype.recursivelyCreateAggData=function(e,t,n){for(var i=0,o=e.length;i<o;i++){var r,a=e[i];a.group&&(this.recursivelyCreateAggData(a.childrenAfterFilter,t,n++),r=t(a.childrenAfterFilter,n),a.data=r,a.sibling&&(a.sibling.data=r))}},r.prototype.doSort=function(){t=!this.gridOptionsWrapper.isEnableServerSideSorting()&&0<(e=this.columnController.getSortForRowController()).length;var e,t,n=this.rowsAfterFilter?this.rowsAfterFilter.slice(0):null;t?this.sortList(n,e):this.recursivelyResetSort(n),this.rowsAfterSort=n},r.prototype.recursivelyResetSort=function(e){if(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];i.group&&i.children&&(i.childrenAfterSort=i.childrenAfterFilter,this.recursivelyResetSort(i.children))}this.updateChildIndexes(e)}},r.prototype.sortList=function(e,d){for(var t=0,n=e.length;t<n;t++){var i=e[t];i.group&&i.children&&(i.childrenAfterSort=i.childrenAfterFilter.slice(0),this.sortList(i.childrenAfterSort,d))}var p=this;e.sort(function(e,t){for(var n,i,o,r,a,s=0,l=d.length;s<l;s++){var c=d[s],u=(n=e,i=t,u=c.column,o=-1===c.inverter,a=r=void 0,r=p.valueService.getValue(u.getColDef(),n.data,n),a=p.valueService.getValue(u.getColDef(),i.data,i),u.getColDef().comparator?u.getColDef().comparator(r,a,n,i,o):h.default.defaultComparator(r,a));if(0!==u)return u*c.inverter}return 0}),this.updateChildIndexes(e)},r.prototype.updateChildIndexes=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.firstChild=0===t,n.lastChild=t===e.length-1,n.childIndex=t}},r.prototype.onRowGroupChanged=function(){this.doRowGrouping(),this.updateModel(i.default.STEP_EVERYTHING)},r.prototype.doRowGrouping=function(){var e,t=this.columnController.getRowGroupColumns();t=!this.gridOptionsWrapper.isRowsAlreadyGrouped()&&0<t.length?(e=this.gridOptionsWrapper.isGroupSuppressRow()?-1:this.gridOptionsWrapper.getGroupDefaultExpanded(),this.groupCreator.group(this.allRows,t,e)):this.allRows,this.rowsAfterGroup=t},r.prototype.doFilter=function(){var e,t=!this.gridOptionsWrapper.isEnableServerSideFilter()&&this.filterManager.isAnyFilterPresent();t?e=this.filterItems(this.rowsAfterGroup):(e=this.rowsAfterGroup,this.recursivelyResetFilter(this.rowsAfterGroup)),this.rowsAfterFilter=e},r.prototype.filterItems=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];o.group?(o.childrenAfterFilter=this.filterItems(o.children),0<o.childrenAfterFilter.length&&(o.allChildrenCount=this.getTotalChildCount(o.childrenAfterFilter),t.push(o))):this.filterManager.doesRowPassFilter(o)&&t.push(o)}return t},r.prototype.recursivelyResetFilter=function(e){if(e)for(var t=0,n=e.length;t<n;t++){var i=e[t];i.group&&i.children&&(i.childrenAfterFilter=i.children,this.recursivelyResetFilter(i.children),i.allChildrenCount=this.getTotalChildCount(i.childrenAfterFilter))}},r.prototype.setAllRows=function(e,t){if(this.gridOptionsWrapper.isRowsAlreadyGrouped())this.recursivelyCheckUserProvidedNodes(n=e,null,0);else{var n=[];if(e)for(var i=0;i<e.length;i++){var o={};o.data=e[i],n.push(o)}}this.recursivelyAddIdToNodes(n,t||0),this.allRows=n,this.columnController.isSetupComplete()&&this.doRowGrouping()},r.prototype.recursivelyAddIdToNodes=function(e,t){if(e){for(var n=0;n<e.length;n++){var i=e[n];i.id=t++,i.group&&i.children&&(t=this.recursivelyAddIdToNodes(i.children,t))}return t}},r.prototype.recursivelyCheckUserProvidedNodes=function(e,t,n){if(e)for(var i=0;i<e.length;i++){var o=e[i];t&&!this.gridOptionsWrapper.isSuppressParentsInRowNodes()&&(o.parent=t),o.level=n,o.group&&o.children&&this.recursivelyCheckUserProvidedNodes(o.children,o,n+1)}},r.prototype.getTotalChildCount=function(e){for(var t=0,n=0,i=e.length;n<i;n++){var o=e[n];o.group?t+=o.allChildrenCount:t++}return t},r.prototype.doRowsToDisplay=function(){this.rowsToDisplay=[],this.nextRowTop=0,this.recursivelyAddToRowsToDisplay(this.rowsAfterSort)},r.prototype.recursivelyAddToRowsToDisplay=function(e){if(e)for(var t=this.gridOptionsWrapper.isGroupSuppressRow(),n=0;n<e.length;n++){var i=e[n];t&&i.group||this.addRowNodeToRowsToDisplay(i),i.group&&i.expanded&&(this.recursivelyAddToRowsToDisplay(i.childrenAfterSort),this.gridOptionsWrapper.isGroupIncludeFooter()&&(i=this.createFooterNode(i),this.addRowNodeToRowsToDisplay(i)))}},r.prototype.addRowNodeToRowsToDisplay=function(e){this.rowsToDisplay.push(e),e.rowHeight=this.gridOptionsWrapper.getRowHeightForNode(e),e.rowTop=this.nextRowTop,this.nextRowTop+=e.rowHeight},r.prototype.createFooterNode=function(t){var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.footer=!0,(n.sibling=t).sibling=n},r);function r(){this.createModel()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var r=n(9),n=(i.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},i.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},i.prototype.setMoving=function(e){this.moving=e,this.eventService.dispatchEvent(i.EVENT_MOVING_CHANGED)},i.prototype.isMoving=function(){return this.moving},i.prototype.getSort=function(){return this.sort},i.prototype.setSort=function(e){this.sort=e},i.prototype.getSortedAt=function(){return this.sortedAt},i.prototype.setSortedAt=function(e){this.sortedAt=e},i.prototype.setAggFunc=function(e){this.aggFunc=e},i.prototype.getAggFunc=function(){return this.aggFunc},i.prototype.getLeft=function(){return this.left},i.prototype.setLeft=function(e){this.left!==e&&(this.left=e,this.eventService.dispatchEvent(i.EVENT_LEFT_CHANGED))},i.prototype.setPinned=function(e){this.pinned=!0===e||e===i.PINNED_LEFT?i.PINNED_LEFT:e===i.PINNED_RIGHT?i.PINNED_RIGHT:null},i.prototype.isPinned=function(){return this.pinned===i.PINNED_LEFT||this.pinned===i.PINNED_RIGHT},i.prototype.getPinned=function(){return this.pinned},i.prototype.setVisible=function(e){this.visible=!0===e},i.prototype.isVisible=function(){return this.visible},i.prototype.getColDef=function(){return this.colDef},i.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},i.prototype.getColId=function(){return this.colId},i.prototype.getDefinition=function(){return this.colDef},i.prototype.getActualWidth=function(){return this.actualWidth},i.prototype.setActualWidth=function(e){this.actualWidth!==e&&(this.actualWidth=e,this.eventService.dispatchEvent(i.EVENT_WIDTH_CHANGED))},i.prototype.isGreaterThanMax=function(e){return!!this.maxWidth&&e>this.maxWidth},i.prototype.getMinWidth=function(){return this.minWidth},i.prototype.getMaxWidth=function(){return this.maxWidth},i.prototype.setMinimum=function(){this.setActualWidth(this.minWidth)},i.PINNED_RIGHT="right",i.PINNED_LEFT="left",i.AGG_SUM="sum",i.AGG_MIN="min",i.AGG_MAX="max",i.SORT_ASC="asc",i.SORT_DESC="desc",i.EVENT_MOVING_CHANGED="movingChanged",i.EVENT_LEFT_CHANGED="leftChanged",i.EVENT_WIDTH_CHANGED="widthChanged",i);function i(e,t,n,i,o){this.moving=!1,this.eventService=new r.default,this.colDef=e,this.actualWidth=t,this.visible=!e.hide,this.sort=e.sort,this.sortedAt=e.sortedAt,this.colId=n,!0===e.pinned||"left"===e.pinned?this.pinned="left":"right"===e.pinned&&(this.pinned="right"),this.colDef.minWidth?this.minWidth=this.colDef.minWidth:this.minWidth=i,this.colDef.maxWidth?this.maxWidth=this.colDef.maxWidth:this.maxWidth=o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(6),n=(o.prototype.init=function(e){this.logger=e.create("EventService")},o.prototype.getListenerList=function(e){var t=this.allListeners[e];return t||(this.allListeners[e]=t=[]),t},o.prototype.addEventListener=function(e,t){e=this.getListenerList(e);e.indexOf(t)<0&&e.push(t)},o.prototype.addGlobalListener=function(e){this.globalListeners.push(e)},o.prototype.removeEventListener=function(e,t){e=this.getListenerList(e);i.default.removeFromArray(e,t)},o.prototype.removeGlobalListener=function(e){i.default.removeFromArray(this.globalListeners,e)},o.prototype.dispatchEvent=function(t,n){n=n||{},this.getListenerList(t).forEach(function(e){e(n)}),this.globalListeners.forEach(function(e){e(t,n)})},o);function o(){this.allListeners={},this.globalListeners=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var a=n(6),i='<div class="ag-paging-panel"><span id="pageRowSummaryPanel" class="ag-paging-row-summary-panel"><span id="firstRowOnPage"></span> [TO] <span id="lastRowOnPage"></span> [OF] <span id="recordCount"></span></span><span class="ag-paging-page-summary-panel"><button type="button" class="ag-paging-button" id="btFirst">[FIRST]</button><button type="button" class="ag-paging-button" id="btPrevious">[PREVIOUS]</button>[PAGE] <span id="current"></span> [OF] <span id="total"></span><button type="button" class="ag-paging-button" id="btNext">[NEXT]</button><button type="button" class="ag-paging-button" id="btLast">[LAST]</button></span></div>',n=(o.prototype.init=function(e,t){this.gridOptionsWrapper=t,this.angularGrid=e,this.setupComponents(),this.callVersion=0},o.prototype.setDatasource=function(e){(this.datasource=e)&&this.reset()},o.prototype.reset=function(){this.datasource.pageSize&&"number"!=typeof this.datasource.pageSize&&console.warn("datasource.pageSize should be a number"),this.pageSize=this.datasource.pageSize,"number"==typeof this.datasource.rowCount&&0<=this.datasource.rowCount?(this.rowCount=this.datasource.rowCount,this.foundMaxRow=!0,this.calculateTotalPages()):(this.rowCount=0,this.foundMaxRow=!1,this.totalPages=null),this.currentPage=0,this.ePageRowSummaryPanel.style.visibility="hidden",this.setTotalLabels(),this.loadPage()},o.prototype.myToLocaleString=function(e){return"number"!=typeof e?"":e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},o.prototype.setTotalLabels=function(){var e;this.foundMaxRow?(this.lbTotal.innerHTML=this.myToLocaleString(this.totalPages),this.lbRecordCount.innerHTML=this.myToLocaleString(this.rowCount)):(e=this.gridOptionsWrapper.getLocaleTextFunc()("more","more"),this.lbTotal.innerHTML=e,this.lbRecordCount.innerHTML=e)},o.prototype.calculateTotalPages=function(){this.totalPages=Math.floor((this.rowCount-1)/this.pageSize)+1},o.prototype.pageLoaded=function(e,t){var n=this.currentPage*this.pageSize;this.angularGrid.setRowData(e,n),!this.foundMaxRow&&"number"==typeof t&&0<=t&&(this.foundMaxRow=!0,this.rowCount=t,this.calculateTotalPages(),this.setTotalLabels(),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages-1,this.loadPage())),this.enableOrDisableButtons(),this.updateRowLabels()},o.prototype.updateRowLabels=function(){var e,t;this.isZeroPagesToDisplay()?t=e=0:(t=(e=this.pageSize*this.currentPage+1)+this.pageSize-1,this.foundMaxRow&&t>this.rowCount&&(t=this.rowCount)),this.lbFirstRowOnPage.innerHTML=this.myToLocaleString(e),this.lbLastRowOnPage.innerHTML=this.myToLocaleString(t),this.ePageRowSummaryPanel.style.visibility=""},o.prototype.loadPage=function(){this.enableOrDisableButtons();var e,t,n=this.currentPage*this.datasource.pageSize,i=(this.currentPage+1)*this.datasource.pageSize,o=(this.lbCurrent.innerHTML=this.myToLocaleString(this.currentPage+1),this.callVersion++,this.callVersion),r=this,n=(this.angularGrid.showLoadingOverlay(),{startRow:n,endRow:i,successCallback:function(e,t){r.isCallDaemon(o)||r.pageLoaded(e,t)},failCallback:function(){r.isCallDaemon(o)||r.angularGrid.setRowData([])},sortModel:e=this.gridOptionsWrapper.isEnableServerSideSorting()?this.angularGrid.getSortModel():e,filterModel:t=this.gridOptionsWrapper.isEnableServerSideFilter()?this.angularGrid.getFilterModel():t});1<a.default.getFunctionParameters(this.datasource.getRows).length&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(n)},o.prototype.isCallDaemon=function(e){return e!==this.callVersion},o.prototype.onBtNext=function(){this.currentPage++,this.loadPage()},o.prototype.onBtPrevious=function(){this.currentPage--,this.loadPage()},o.prototype.onBtFirst=function(){this.currentPage=0,this.loadPage()},o.prototype.onBtLast=function(){this.currentPage=this.totalPages-1,this.loadPage()},o.prototype.isZeroPagesToDisplay=function(){return this.foundMaxRow&&0===this.totalPages},o.prototype.enableOrDisableButtons=function(){var e=0===this.currentPage,e=(this.btPrevious.disabled=e,this.btFirst.disabled=e,this.isZeroPagesToDisplay()),t=this.foundMaxRow&&this.currentPage===this.totalPages-1,t=(this.btNext.disabled=t||e,!this.foundMaxRow||e||this.currentPage===this.totalPages-1);this.btLast.disabled=t},o.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();return i.replace("[PAGE]",e("page","Page")).replace("[TO]",e("to","to")).replace("[OF]",e("of","of")).replace("[OF]",e("of","of")).replace("[FIRST]",e("first","First")).replace("[PREVIOUS]",e("previous","Previous")).replace("[NEXT]",e("next","Next")).replace("[LAST]",e("last","Last"))},o.prototype.getGui=function(){return this.eGui},o.prototype.setupComponents=function(){this.eGui=a.default.loadTemplate(this.createTemplate()),this.btNext=this.eGui.querySelector("#btNext"),this.btPrevious=this.eGui.querySelector("#btPrevious"),this.btFirst=this.eGui.querySelector("#btFirst"),this.btLast=this.eGui.querySelector("#btLast"),this.lbCurrent=this.eGui.querySelector("#current"),this.lbTotal=this.eGui.querySelector("#total"),this.lbRecordCount=this.eGui.querySelector("#recordCount"),this.lbFirstRowOnPage=this.eGui.querySelector("#firstRowOnPage"),this.lbLastRowOnPage=this.eGui.querySelector("#lastRowOnPage"),this.ePageRowSummaryPanel=this.eGui.querySelector("#pageRowSummaryPanel");var e=this;this.btNext.addEventListener("click",function(){e.onBtNext()}),this.btPrevious.addEventListener("click",function(){e.onBtPrevious()}),this.btFirst.addEventListener("click",function(){e.onBtFirst()}),this.btLast.addEventListener("click",function(){e.onBtLast()})},o);function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var s=n(6),n=(i.prototype.init=function(e,t,n){this.rowRenderer=e,this.datasourceVersion=0,this.gridOptionsWrapper=t,this.angularGrid=n},i.prototype.setDatasource=function(e){(this.datasource=e)&&this.reset()},i.prototype.reset=function(){"number"==typeof this.datasource.rowCount&&0<=this.datasource.rowCount?(this.virtualRowCount=this.datasource.rowCount,this.foundMaxRow=!0):(this.virtualRowCount=0,this.foundMaxRow=!1),this.datasourceVersion++,this.pageCache={},this.pageCacheSize=0,this.pageLoadsInProgress=[],this.pageLoadsQueued=[],this.pageAccessTimes={},this.accessTime=0,"number"==typeof this.datasource.maxConcurrentRequests&&0<this.datasource.maxConcurrentRequests?this.maxConcurrentDatasourceRequests=this.datasource.maxConcurrentRequests:this.maxConcurrentDatasourceRequests=2,"number"==typeof this.datasource.maxPagesInCache&&0<this.datasource.maxPagesInCache?this.maxPagesInCache=this.datasource.maxPagesInCache:this.maxPagesInCache=null,this.pageSize=this.datasource.pageSize,this.overflowSize=this.datasource.overflowSize,this.doLoadOrQueue(0)},i.prototype.createNodesFromRows=function(e,t){var n=[];if(t)for(var i=0,o=t.length;i<o;i++){var r=e*this.pageSize+i,r=this.createNode(t[i],r);n.push(r)}return n},i.prototype.createNode=function(e,t){var n=this.getRowHeightAsNumber();return{data:e,id:t,rowTop:n*t,rowHeight:n}},i.prototype.removeFromLoading=function(e){e=this.pageLoadsInProgress.indexOf(e);this.pageLoadsInProgress.splice(e,1)},i.prototype.pageLoadFailed=function(e){this.removeFromLoading(e),this.checkQueueForNextLoad()},i.prototype.pageLoaded=function(e,t,n){this.putPageIntoCacheAndPurge(e,t),this.checkMaxRowAndInformRowRenderer(e,n),this.removeFromLoading(e),this.checkQueueForNextLoad()},i.prototype.putPageIntoCacheAndPurge=function(e,t){this.pageCache[e]=this.createNodesFromRows(e,t),this.pageCacheSize++,this.maxPagesInCache&&this.maxPagesInCache<this.pageCacheSize&&(e=this.findLeastRecentlyAccessedPage(Object.keys(this.pageCache)),delete this.pageCache[e],this.pageCacheSize--)},i.prototype.checkMaxRowAndInformRowRenderer=function(e,t){this.foundMaxRow?this.rowRenderer.refreshAllVirtualRows():("number"==typeof t&&0<=t?(this.virtualRowCount=t,this.foundMaxRow=!0):(t=(e+1)*this.pageSize+this.overflowSize,this.virtualRowCount<t&&(this.virtualRowCount=t)),this.rowRenderer.refreshView())},i.prototype.isPageAlreadyLoading=function(e){return 0<=this.pageLoadsInProgress.indexOf(e)||0<=this.pageLoadsQueued.indexOf(e)},i.prototype.doLoadOrQueue=function(e){this.isPageAlreadyLoading(e)||(this.pageLoadsInProgress.length<this.maxConcurrentDatasourceRequests?this.loadPage(e):this.addToQueueAndPurgeQueue(e))},i.prototype.addToQueueAndPurgeQueue=function(e){this.pageLoadsQueued.push(e),this.maxPagesInCache&&this.maxPagesInCache<this.pageLoadsQueued.length&&(e=this.findLeastRecentlyAccessedPage(this.pageLoadsQueued),e=this.pageLoadsQueued.indexOf(e),this.pageLoadsQueued.splice(e,1))},i.prototype.findLeastRecentlyAccessedPage=function(e){var n=-1,i=Number.MAX_VALUE,o=this;return e.forEach(function(e){var t=o.pageAccessTimes[e];t<i&&(i=t,n=e)}),n},i.prototype.checkQueueForNextLoad=function(){var e;0<this.pageLoadsQueued.length&&(e=this.pageLoadsQueued[0],this.pageLoadsQueued.splice(0,1),this.loadPage(e))},i.prototype.loadPage=function(n){this.pageLoadsInProgress.push(n);var e,t,i=n*this.pageSize,o=(n+1)*this.pageSize,r=this,a=this.datasourceVersion,i={startRow:i,endRow:o,successCallback:function(e,t){r.requestIsDaemon(a)||r.pageLoaded(n,e,t)},failCallback:function(){r.requestIsDaemon(a)||r.pageLoadFailed(n)},sortModel:e=this.gridOptionsWrapper.isEnableServerSideSorting()?this.angularGrid.getSortModel():e,filterModel:t=this.gridOptionsWrapper.isEnableServerSideFilter()?this.angularGrid.getFilterModel():t};1<s.default.getFunctionParameters(this.datasource.getRows).length&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(i)},i.prototype.requestIsDaemon=function(e){return this.datasourceVersion!==e},i.prototype.getVirtualRow=function(e){if(e>this.virtualRowCount)return null;var t=Math.floor(e/this.pageSize),n=this.pageCache[t];return this.pageAccessTimes[t]=this.accessTime++,n?n[e%this.pageSize]:(this.doLoadOrQueue(t),this.createNode({},e))},i.prototype.forEachNode=function(e){for(var t=Object.keys(this.pageCache),n=0;n<t.length;n++)for(var i=t[n],o=this.pageCache[i],r=0;r<o.length;r++)e(o[r])},i.prototype.getRowHeightAsNumber=function(){var e=this.gridOptionsWrapper.getRowHeightForVirtualPagiation();return"number"==typeof e?e:(console.warn("ag-Grid row height must be a number when doing virtual paging"),25)},i.prototype.getVirtualRowCombinedHeight=function(){return this.virtualRowCount*this.getRowHeightAsNumber()},i.prototype.getRowAtPixel=function(e){var t=this.getRowHeightAsNumber();return 0!==t?Math.floor(e/t):0},i.prototype.getModel=function(){var t=this;return{getRowAtPixel:function(e){return t.getRowAtPixel(e)},getVirtualRowCombinedHeight:function(){return t.getVirtualRowCombinedHeight()},getVirtualRow:function(e){return t.getVirtualRow(e)},getVirtualRowCount:function(){return t.virtualRowCount},forEachInMemory:function(e){t.forEachNode(e)},forEachNode:function(e){t.forEachNode(e)},forEachNodeAfterFilter:function(e){console.warn("forEachNodeAfterFilter - does not work with virtual pagination")},forEachNodeAfterFilterAndSort:function(e){console.warn("forEachNodeAfterFilterAndSort - does not work with virtual pagination")}}},i);function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){i.prototype.init=function(e){this.gridOptionsWrapper=e,this.setFloatingTopRowData(e.getFloatingTopRowData()),this.setFloatingBottomRowData(e.getFloatingBottomRowData())},i.prototype.setFloatingTopRowData=function(e){this.floatingTopRows=this.createNodesFromData(e,!1)},i.prototype.setFloatingBottomRowData=function(e){this.floatingBottomRows=this.createNodesFromData(e,!1)},i.prototype.createNodesFromData=function(e,t){var n,i=this,o=[];return e&&(n=0,e.forEach(function(e){e={data:e,floating:!0,floatingTop:t,floatingBottom:!t,rowTop:n,rowHeight:null};e.rowHeight=i.gridOptionsWrapper.getRowHeightForNode(e),n+=e.rowHeight,o.push(e)})),o},i.prototype.getFloatingTopRowData=function(){return this.floatingTopRows},i.prototype.getFloatingBottomRowData=function(){return this.floatingBottomRows},i.prototype.getFloatingTopTotalHeight=function(){return this.getTotalHeight(this.floatingTopRows)},i.prototype.getFloatingBottomTotalHeight=function(){return this.getTotalHeight(this.floatingBottomRows)},i.prototype.getTotalHeight=function(e){return e&&0!==e.length?(e=e[e.length-1]).rowTop+e.rowHeight:0};var n=i;function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var r=n(6),s=n(5),n=(i.prototype.init=function(e,t,n,i,o,r){this.eParentsOfRows=t.getRowsParent(),this.angularGrid=e,this.gridOptionsWrapper=n,this.$scope=i,this.rowRenderer=o,this.eventService=r,this.initSelectedNodesById(),this.selectedRows=[]},i.prototype.initSelectedNodesById=function(){this.selectedNodesById={}},i.prototype.getSelectedNodesById=function(){return this.selectedNodesById},i.prototype.getSelectedRows=function(){return this.selectedRows},i.prototype.getSelectedNodes=function(){for(var e=[],t=Object.keys(this.selectedNodesById),n=0;n<t.length;n++){var i=t[n],i=this.selectedNodesById[i];e.push(i)}return e},i.prototype.getBestCostNodeSelection=function(){if("function"!=typeof this.rowModel.getTopLevelNodes)throw"selectAll not available when rows are on the server";var e=this.rowModel.getTopLevelNodes(),r=[],a=this;return function e(t){for(var n=0,i=t.length;n<i;n++){var o=t[n];a.isNodeSelected(o)?r.push(o):o.group&&o.children&&e(o.children)}}(e),r},i.prototype.setRowModel=function(e){this.rowModel=e},i.prototype.deselectAll=function(){this.initSelectedNodesById(),this.syncSelectedRowsAndCallListener()},i.prototype.selectAll=function(){if("function"!=typeof this.rowModel.getTopLevelNodes)throw"selectAll not available when rows are on the server";var o=this.selectedNodesById,r=!this.gridOptionsWrapper.isGroupSelectsChildren();!function e(t){if(t)for(var n=0;n<t.length;n++){var i=t[n];i.group?(e(i.children),r&&(o[i.id]=i)):o[i.id]=i}}(this.rowModel.getTopLevelNodes()),this.syncSelectedRowsAndCallListener()},i.prototype.selectNode=function(e,t,n){var t=this.gridOptionsWrapper.isRowSelectionMulti()&&t,e=e.footer?e.sibling:e,i=!1,o=!1;t||(i=this.doWorkOfDeselectAllNodes(null,n)),o=this.gridOptionsWrapper.isGroupSelectsChildren()&&e.group?this.recursivelySelectAllChildren(e):this.doWorkOfSelectNode(e,n),(i||o)&&this.syncSelectedRowsAndCallListener(n),this.updateGroupParentsIfNeeded()},i.prototype.recursivelySelectAllChildren=function(e,t){var n=!1;if(e.children)for(var i=0;i<e.children.length;i++){var o=e.children[i];o.group?this.recursivelySelectAllChildren(o)&&(n=!0):this.doWorkOfSelectNode(o,t)&&(n=!0)}return n},i.prototype.recursivelyDeselectAllChildren=function(e,t){if(e.children)for(var n=0;n<e.children.length;n++){var i=e.children[n];i.group?this.recursivelyDeselectAllChildren(i,t):this.deselectRealNode(i,t)}},i.prototype.doWorkOfSelectNode=function(e,t){return!this.selectedNodesById[e.id]&&(this.selectedNodesById[e.id]=e,this.addCssClassForNode_andInformVirtualRowListener(e),e.group&&e.expanded&&e.sibling&&this.addCssClassForNode_andInformVirtualRowListener(e.sibling),t||this.eventService.dispatchEvent(s.Events.EVENT_ROW_SELECTED,{node:e}),!0)},i.prototype.addCssClassForNode_andInformVirtualRowListener=function(e){var t=this.rowRenderer.getIndexOfRenderedNode(e);0<=t&&(this.eParentsOfRows.forEach(function(e){r.default.querySelectorAll_addCssClass(e,'[row="'+t+'"]',"ag-row-selected")}),this.angularGrid.onVirtualRowSelected(t,!0))},i.prototype.doWorkOfDeselectAllNodes=function(e,t){for(var n,i=Object.keys(this.selectedNodesById),o=0;o<i.length;o++){var r=i[o],r=this.selectedNodesById[r];r!==e&&(this.deselectRealNode(r,t),n=!0)}return n},i.prototype.deselectRealNode=function(e,t){this.removeCssClassForNode(e),e.group&&e.expanded&&e.sibling&&this.removeCssClassForNode(e.sibling),delete this.selectedNodesById[e.id],t||this.eventService.dispatchEvent(s.Events.EVENT_ROW_DESELECTED,{node:e})},i.prototype.removeCssClassForNode=function(e){var t=this.rowRenderer.getIndexOfRenderedNode(e);0<=t&&(this.eParentsOfRows.forEach(function(e){r.default.querySelectorAll_removeCssClass(e,'[row="'+t+'"]',"ag-row-selected")}),this.angularGrid.onVirtualRowSelected(t,!1))},i.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1);e=this.rowModel.getVirtualRow(e);this.deselectNode(e,t)},i.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),e&&(this.gridOptionsWrapper.isGroupSelectsChildren()&&e.group?this.recursivelyDeselectAllChildren(e,t):this.deselectRealNode(e,t)),this.syncSelectedRowsAndCallListener(),this.updateGroupParentsIfNeeded()},i.prototype.selectIndex=function(e,t,n){void 0===n&&(n=!1);e=this.rowModel.getVirtualRow(e);this.selectNode(e,t,n)},i.prototype.syncSelectedRowsAndCallListener=function(e){for(var t,n=this.selectedRows,i=n.length,o=(n.length=0,Object.keys(this.selectedNodesById)),r=0;r<o.length;r++)void 0!==this.selectedNodesById[o[r]]&&(t=this.selectedNodesById[o[r]],n.push(t.data));0===i&&0===n.length||e||(i={selectedNodesById:this.selectedNodesById,selectedRows:this.selectedRows},this.eventService.dispatchEvent(s.Events.EVENT_SELECTION_CHANGED,i));var a=this;this.$scope&&setTimeout(function(){a.$scope.$apply()},0)},i.prototype.recursivelyCheckIfSelected=function(e){var t=!1,n=!1;if(e.children)for(var i=0;i<e.children.length;i++){var o=e.children[i];if(o.group)switch(this.recursivelyCheckIfSelected(o)){case 0:t=!0;break;case 1:n=!0;break;case 2:n=t=!0}else this.isNodeSelected(o)?t=!0:n=!0;if(t&&n)return 2}return t?0:n?1:3},i.prototype.isNodeSelected=function(e){if(!this.gridOptionsWrapper.isGroupSelectsChildren()||!e.group)return void 0!==this.selectedNodesById[e.id];switch(this.recursivelyCheckIfSelected(e)){case 0:return!0;case 1:return!1;default:return}},i.prototype.updateGroupParentsIfNeeded=function(){if(this.gridOptionsWrapper.isGroupSelectsChildren())for(var e=this.rowRenderer.getFirstVirtualRenderedRow(),t=this.rowRenderer.getLastVirtualRenderedRow(),n=e;n<=t;n++){var i,o=this.rowModel.getVirtualRow(n);o.group&&(i=this.isNodeSelected(o),this.angularGrid.onVirtualRowSelected(n,i),this.eParentsOfRows.forEach(function(e){i?r.default.querySelectorAll_addCssClass(e,'[row="'+n+'"]',"ag-row-selected"):r.default.querySelectorAll_removeCssClass(e,'[row="'+n+'"]',"ag-row-selected")}))}},i);function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var f=n(6),r=n(15),s=n(8),g=n(5),m=n(16),a=n(17),o=n(18),l=n(19),i=(c.prototype.sizeColumnsToFit=function(e){this._columnController.sizeColumnsToFit(e)},c.prototype.setColumnGroupOpened=function(e,t,n){this._columnController.setColumnGroupOpened(e,t,n)},c.prototype.getColumnGroup=function(e,t){return this._columnController.getColumnGroup(e,t)},c.prototype.getDisplayNameForCol=function(e){return this._columnController.getDisplayNameForCol(e)},c.prototype.getColumn=function(e){return this._columnController.getColumn(e)},c.prototype.setState=function(e){return this._columnController.setState(e)},c.prototype.getState=function(){return this._columnController.getState()},c.prototype.resetState=function(){this._columnController.resetState()},c.prototype.isPinning=function(){return this._columnController.isPinningLeft()||this._columnController.isPinningRight()},c.prototype.isPinningLeft=function(){return this._columnController.isPinningLeft()},c.prototype.isPinningRight=function(){return this._columnController.isPinningRight()},c.prototype.getDisplayedColAfter=function(e){return this._columnController.getDisplayedColAfter(e)},c.prototype.getDisplayedColBefore=function(e){return this._columnController.getDisplayedColBefore(e)},c.prototype.setColumnVisible=function(e,t){this._columnController.setColumnVisible(e,t)},c.prototype.setColumnsVisible=function(e,t){this._columnController.setColumnsVisible(e,t)},c.prototype.setColumnPinned=function(e,t){this._columnController.setColumnPinned(e,t)},c.prototype.setColumnsPinned=function(e,t){this._columnController.setColumnsPinned(e,t)},c.prototype.getAllColumns=function(){return this._columnController.getAllColumns()},c.prototype.getDisplayedLeftColumns=function(){return this._columnController.getDisplayedLeftColumns()},c.prototype.getDisplayedCenterColumns=function(){return this._columnController.getDisplayedCenterColumns()},c.prototype.getDisplayedRightColumns=function(){return this._columnController.getDisplayedRightColumns()},c.prototype.getAllDisplayedColumns=function(){return this._columnController.getAllDisplayedColumns()},c.prototype.getRowGroupColumns=function(){return this._columnController.getRowGroupColumns()},c.prototype.getValueColumns=function(){return this._columnController.getValueColumns()},c.prototype.moveColumn=function(e,t){this._columnController.moveColumnByIndex(e,t)},c.prototype.moveRowGroupColumn=function(e,t){this._columnController.moveRowGroupColumn(e,t)},c.prototype.setColumnAggFunction=function(e,t){this._columnController.setColumnAggFunction(e,t)},c.prototype.setColumnWidth=function(e,t,n){this._columnController.setColumnWidth(e,t,n=void 0===n?!0:n)},c.prototype.removeValueColumn=function(e){this._columnController.removeValueColumn(e)},c.prototype.addValueColumn=function(e){this._columnController.addValueColumn(e)},c.prototype.removeRowGroupColumn=function(e){this._columnController.removeRowGroupColumn(e)},c.prototype.addRowGroupColumn=function(e){this._columnController.addRowGroupColumn(e)},c.prototype.getLeftDisplayedColumnGroups=function(){return this._columnController.getLeftDisplayedColumnGroups()},c.prototype.getCenterDisplayedColumnGroups=function(){return this._columnController.getCenterDisplayedColumnGroups()},c.prototype.getRightDisplayedColumnGroups=function(){return this._columnController.getRightDisplayedColumnGroups()},c.prototype.getAllDisplayedColumnGroups=function(){return this._columnController.getAllDisplayedColumnGroups()},c.prototype.autoSizeColumn=function(e){return this._columnController.autoSizeColumn(e)},c.prototype.autoSizeColumns=function(e){return this._columnController.autoSizeColumns(e)},c.prototype.columnGroupOpened=function(e,t){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,t)},c.prototype.hideColumns=function(e,t){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this._columnController.setColumnsVisible(e,!t)},c.prototype.hideColumn=function(e,t){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this._columnController.setColumnVisible(e,!t)},c);function c(e){this._columnController=e}function u(){this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.headerRowCount=0,this.setupComplete=!1}t.ColumnApi=i,u.prototype.init=function(e,t,n,i,o,r,a,s,l,c,u,d){this.gridOptionsWrapper=n,this.angularGrid=e,this.selectionRendererFactory=t,this.expressionService=i,this.valueService=o,this.masterSlaveController=r,this.eventService=a,this.balancedColumnTreeBuilder=s,this.displayedGroupCreator=l,this.columnUtils=c,this.autoWidthCalculator=u,this.logger=d.create("ColumnController")},u.prototype.autoSizeColumns=function(e){var n=this;this.actionOnColumns(e,function(e){var t=n.autoWidthCalculator.getPreferredWidthForColumn(e);0<t&&(t=n.normaliseColumnWidth(e,t),e.setActualWidth(t))},function(){return new m.default(g.Events.EVENT_COLUMN_RESIZED).withFinished(!0)})},u.prototype.autoSizeColumn=function(e){this.autoSizeColumns([e])},u.prototype.getColumnsFromTree=function(e){var o=[];return function e(t){for(var n=0;n<t.length;n++){var i=t[n];i instanceof s.default?o.push(i):i instanceof a.OriginalColumnGroup&&e(i.getChildren())}}(e),o},u.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},u.prototype.getColumnApi=function(){return new i(this)},u.prototype.isSetupComplete=function(){return this.setupComplete},u.prototype.getHeaderRowCount=function(){return this.headerRowCount},u.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},u.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},u.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},u.prototype.isColumnDisplayed=function(e){return 0<=this.getAllDisplayedColumns().indexOf(e)},u.prototype.getAllDisplayedColumns=function(){return this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},u.prototype.getPinnedLeftContainerWidth=function(){return this.getWithOfColsInList(this.displayedLeftColumns)},u.prototype.getPinnedRightContainerWidth=function(){return this.getWithOfColsInList(this.displayedRightColumns)},u.prototype.addRowGroupColumn=function(e){this.allColumns.indexOf(e)<0?console.warn("not a valid column: "+e):0<=this.rowGroupColumns.indexOf(e)?console.warn("column is already a value column"):(this.rowGroupColumns.push(e),this.updateModel(),e=new m.default(g.Events.EVENT_COLUMN_ROW_GROUP_CHANGE),this.eventService.dispatchEvent(g.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,e))},u.prototype.removeRowGroupColumn=function(e){this.rowGroupColumns.indexOf(e)<0?console.warn("column not a row group"):(f.default.removeFromArray(this.rowGroupColumns,e),this.updateModel(),e=new m.default(g.Events.EVENT_COLUMN_ROW_GROUP_CHANGE),this.eventService.dispatchEvent(g.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,e))},u.prototype.addValueColumn=function(e){this.allColumns.indexOf(e)<0?console.warn("not a valid column: "+e):0<=this.valueColumns.indexOf(e)?console.warn("column is already a value column"):(e.getAggFunc()||e.setAggFunc(s.default.AGG_SUM),this.valueColumns.push(e),e=new m.default(g.Events.EVENT_COLUMN_VALUE_CHANGE),this.eventService.dispatchEvent(g.Events.EVENT_COLUMN_VALUE_CHANGE,e))},u.prototype.removeValueColumn=function(e){this.valueColumns.indexOf(e)<0?console.warn("column not a value"):(f.default.removeFromArray(this.valueColumns,e),e=new m.default(g.Events.EVENT_COLUMN_VALUE_CHANGE),this.eventService.dispatchEvent(g.Events.EVENT_COLUMN_VALUE_CHANGE,e))},u.prototype.getFirstRightPinnedColIndex=function(){return this.displayedLeftColumns.length+this.displayedCenterColumns.length},u.prototype.normaliseColumnWidth=function(e,t){return t<e.getMinWidth()&&(t=e.getMinWidth()),t=e.isGreaterThanMax(t)?e.getMaxWidth():t},u.prototype.setColumnWidth=function(e,t,n){var i,e=this.getColumn(e);e&&(t=this.normaliseColumnWidth(e,t),(i=e.getActualWidth()!==t)&&(e.setActualWidth(t),this.setLeftValues()),(n||i)&&(t=new m.default(g.Events.EVENT_COLUMN_RESIZED).withColumn(e).withFinished(n),this.eventService.dispatchEvent(g.Events.EVENT_COLUMN_RESIZED,t)))},u.prototype.setColumnAggFunction=function(e,t){e.setAggFunc(t);e=new m.default(g.Events.EVENT_COLUMN_VALUE_CHANGE);this.eventService.dispatchEvent(g.Events.EVENT_COLUMN_VALUE_CHANGE,e)},u.prototype.moveRowGroupColumn=function(e,t){var n=this.rowGroupColumns[e],e=(this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,n),new m.default(g.Events.EVENT_COLUMN_ROW_GROUP_CHANGE));this.eventService.dispatchEvent(g.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,e)},u.prototype.getColumnIndex=function(e){return this.allColumns.indexOf(e)},u.prototype.getPathForColumn=function(e){return this.columnUtils.getPathForColumn(e,this.getAllDisplayedColumnGroups())},u.prototype.moveColumns=function(e,n){var i=this;this.actionOnColumns(e,function(e){var t=i.allColumns.indexOf(e);i.allColumns.splice(t,1),i.allColumns.splice(n,0,e)},function(){return new m.default(g.Events.EVENT_COLUMN_MOVED).withToIndex(n)}),this.updateModel()},u.prototype.moveColumn=function(e,t){this.moveColumns([e],t)},u.prototype.moveColumnByIndex=function(e,t){e=this.allColumns[e];this.moveColumn(e,t)},u.prototype.getBodyContainerWidth=function(){return this.getWithOfColsInList(this.displayedCenterColumns)},u.prototype.getValueColumns=function(){return this.valueColumns},u.prototype.getRowGroupColumns=function(){return this.rowGroupColumns},u.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns},u.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns},u.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns},u.prototype.getAllColumns=function(){return this.allColumns},u.prototype.setColumnVisible=function(e,t){this.setColumnsVisible([e],t)},u.prototype.setColumnsVisible=function(e,t){this.actionOnColumns(e,function(e){e.setVisible(t)},function(){return new m.default(g.Events.EVENT_COLUMN_VISIBLE).withVisible(t)})},u.prototype.setColumnPinned=function(e,t){this.setColumnsPinned([e],t)},u.prototype.setColumnsPinned=function(e,t){var n=!0===t||t===s.default.PINNED_LEFT?s.default.PINNED_LEFT:t===s.default.PINNED_RIGHT?s.default.PINNED_RIGHT:null;this.actionOnColumns(e,function(e){e.setPinned(n)},function(){return new m.default(g.Events.EVENT_COLUMN_PINNED).withPinned(n)})},u.prototype.actionOnColumns=function(e,t,n){var i,o=this;e&&0!==e.length&&(i=[],e.forEach(function(e){e=o.getColumn(e);e&&(t(e),i.push(e))}),0!==i.length&&(this.updateModel(),(e=n()).withColumns(i),1===i.length&&e.withColumn(i[0]),this.eventService.dispatchEvent(e.getType(),e)))},u.prototype.getDisplayedColBeforeForMoving=function(e){if(e===this.groupAutoColumn)return null;var t=this.getDisplayedColBefore(e);return t!==this.groupAutoColumn&&t&&t.getPinned()===e.getPinned()?t:null},u.prototype.getPixelsBeforeConsideringPinned=function(e){for(var t=this.getAllDisplayedColumns(),n=0,i=0;i<t.length;i++){var o=t[i];if(o===e)return n;o.getPinned()===e.getPinned()&&(n+=o.getActualWidth())}return null},u.prototype.getDisplayedColAfterForMoving=function(e){if(e===this.groupAutoColumn)return null;var t=this.getDisplayedColAfter(e);return t!==this.groupAutoColumn&&t&&t.getPinned()===e.getPinned()?t:null},u.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),e=t.indexOf(e);return 0<e?t[e-1]:null},u.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),e=t.indexOf(e);return e<t.length-1?t[e+1]:null},u.prototype.isPinningLeft=function(){return 0<this.displayedLeftColumns.length},u.prototype.isPinningRight=function(){return 0<this.displayedRightColumns.length},u.prototype.clearSortBarThisColumn=function(t){this.getAllColumnsIncludingAuto().forEach(function(e){e!==t&&(e.sort=null)})},u.prototype.getAllColumnsIncludingAuto=function(){var e=this.allColumns.slice(0);return this.groupAutoColumn&&e.push(this.groupAutoColumn),e},u.prototype.getColumnsWithSortingOrdered=function(){var e=f.default.filter(this.getAllColumnsIncludingAuto(),function(e){return!!e.getSort()});return e.sort(function(e,t){return e.sortedAt-t.sortedAt}),e},u.prototype.getSortForRowController=function(){var e=this.getColumnsWithSortingOrdered();return f.default.map(e,function(e){return{inverter:e.getSort()===s.default.SORT_ASC?1:-1,column:e}})},u.prototype.getSortModel=function(){var e=this.getColumnsWithSortingOrdered();return f.default.map(e,function(e){return{colId:e.getColId(),sort:e.getSort()}})},u.prototype.setSortModel=function(r){var a;this.gridOptionsWrapper.isEnableSorting()?(a=r&&0<r.length,this.getAllColumnsIncludingAuto().forEach(function(e){var t=null,n=-1;if(a&&!e.getColDef().suppressSorting)for(var i=0;i<r.length;i++){var o=r[i];"string"==typeof o.colId&&"string"==typeof e.getColId()&&o.colId===e.getColId()&&(t=o.sort,n=i)}t?(e.setSort(t),e.setSortedAt(n)):(e.setSort(null),e.setSortedAt(null))})):console.warn("ag-grid: You are setting the sort model on a grid that does not have sorting enabled")},u.prototype.getState=function(){if(!this.allColumns||this.allColumns.length<0)return[];for(var e=[],t=0;t<this.allColumns.length;t++){var n=this.allColumns[t],i=this.rowGroupColumns.indexOf(n),n={colId:n.getColId(),hide:!n.isVisible(),aggFunc:n.getAggFunc()?n.getAggFunc():null,width:n.getActualWidth(),pinned:n.getPinned(),rowGroupIndex:0<=i?i:null};e.push(n)}return e},u.prototype.resetState=function(){var e=this.allColumns=this.getColumnsFromTree(this.originalBalancedTree),t=[];e&&e.forEach(function(e){t.push({colId:e.getColId(),aggFunc:e.getColDef().aggFunc,hide:e.getColDef().hide,pinned:e.getColDef().pinned,rowGroupIndex:e.getColDef().rowGroupIndex,width:e.getColDef().width})}),this.setState(t)},u.prototype.setState=function(a){var n=this,i=this.allColumns,e=(this.allColumns=[],this.rowGroupColumns=[],this.valueColumns=[],a&&a.forEach(function(e){var t=f.default.find(i,"colId",e.colId);t?(t.setVisible(!e.hide),t.setPinned(e.pinned),e.width>=n.gridOptionsWrapper.getMinColWidth()&&t.setActualWidth(e.width),0<=[s.default.AGG_MIN,s.default.AGG_MAX,s.default.AGG_SUM].indexOf(e.aggFunc)?(t.setAggFunc(e.aggFunc),n.valueColumns.push(t)):t.setAggFunc(null),"number"==typeof e.rowGroupIndex&&0<=e.rowGroupIndex&&n.rowGroupColumns.push(t),n.allColumns.push(t),i.splice(i.indexOf(t),1)):console.warn("ag-grid: column "+e.colId+" not found")}),i.forEach(function(e){e.setVisible(!1),e.setAggFunc(null),e.setPinned(null),n.allColumns.push(e)}),this.rowGroupColumns.sort(function(e,t){for(var n=-1,i=-1,o=0;o<a.length;o++){var r=a[o];r.colId===e.getColId()&&(n=r.rowGroupIndex),r.colId===t.getColId()&&(i=r.rowGroupIndex)}return n-i}),this.updateModel(),new m.default(g.Events.EVENT_COLUMN_EVERYTHING_CHANGED));this.eventService.dispatchEvent(g.Events.EVENT_COLUMN_EVERYTHING_CHANGED,e)},u.prototype.getColumns=function(e){var t=this,n=[];return e&&e.forEach(function(e){e=t.getColumn(e);e&&n.push(e)}),n},u.prototype.getColumn=function(i){if(!i)return null;for(var e=0;e<this.allColumns.length;e++)if(t(this.allColumns[e]))return this.allColumns[e];return this.groupAutoColumn&&t(this.groupAutoColumn)?this.groupAutoColumn:(console.log("could not find column for key "+i),null);function t(e){var t=e===i,n=e.getColDef()===i,e=e.getColId()===i;return t||n||e}},u.prototype.getDisplayNameForCol=function(e){var t,e=e.colDef,n=e.headerValueGetter;return n?(t={colDef:e,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},"function"==typeof n?n(t):"string"==typeof n?this.expressionService.evaluate(n,t):void console.warn("ag-grid: headerValueGetter must be a function or a string")):e.displayName?(console.warn("ag-grid: Found displayName "+e.displayName+", please use headerName instead, displayName is deprecated."),e.displayName):e.headerName},u.prototype.getColumnGroup=function(t,n){if(!t)return null;if(t instanceof r.default)return t;var e=this.getAllDisplayedColumnGroups(),i="number"==typeof n,o=null;return this.columnUtils.deptFirstAllColumnTreeSearch(e,function(e){e instanceof r.default&&(e=e,(i?t===e.getGroupId()&&n===e.getInstanceId():t===e.getGroupId())&&(o=e))}),o},u.prototype.onColumnsChanged=function(){var e=this.gridOptionsWrapper.getColumnDefs(),e=this.balancedColumnTreeBuilder.createBalancedColumnGroups(e),e=(this.originalBalancedTree=e.balancedTree,this.headerRowCount=e.treeDept+1,this.allColumns=this.getColumnsFromTree(this.originalBalancedTree),this.extractRowGroupColumns(),this.createValueColumns(),this.updateModel(),new m.default(g.Events.EVENT_COLUMN_EVERYTHING_CHANGED));this.eventService.dispatchEvent(g.Events.EVENT_COLUMN_EVERYTHING_CHANGED,e),this.setupComplete=!0},u.prototype.extractRowGroupColumns=function(){var t=this;this.rowGroupColumns=[],this.allColumns.forEach(function(e){"number"==typeof e.getColDef().rowGroupIndex&&t.rowGroupColumns.push(e)}),this.rowGroupColumns.sort(function(e,t){return e.getColDef().rowGroupIndex-t.getColDef().rowGroupIndex})},u.prototype.setColumnGroupOpened=function(e,t,n){e=this.getColumnGroup(e,n);e&&(this.logger.log("columnGroupOpened("+e.getGroupId()+","+t+")"),e.setExpanded(t),this.updateGroupsAndDisplayedColumns(),n=new m.default(g.Events.EVENT_COLUMN_GROUP_OPENED).withColumnGroup(e),this.eventService.dispatchEvent(g.Events.EVENT_COLUMN_GROUP_OPENED,n))},u.prototype.getColumnGroupState=function(){var n={};return this.columnUtils.deptFirstDisplayedColumnTreeSearch(this.getAllDisplayedColumnGroups(),function(e){var t;e instanceof r.default&&(t=(e=e).getGroupId(),n.hasOwnProperty(t)||(n[t]=e.isExpanded()))}),n},u.prototype.setColumnGroupState=function(n){this.columnUtils.deptFirstDisplayedColumnTreeSearch(this.getAllDisplayedColumnGroups(),function(e){var t;e instanceof r.default&&(t=(e=e).getGroupId(),!0===n[t]&&e.isExpandable()&&e.setExpanded(!0))})},u.prototype.updateModel=function(){var e=this.getColumnGroupState(),t=(this.createGroupAutoColumn(),this.updateVisibleColumns());this.buildAllGroups(t),this.setColumnGroupState(e),this.updateGroupsAndDisplayedColumns()},u.prototype.updateGroupsAndDisplayedColumns=function(){this.updateGroups(),this.updateDisplayedColumnsFromGroups()},u.prototype.updateDisplayedColumnsFromGroups=function(){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.setLeftValues()},u.prototype.setLeftValues=function(){[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach(function(e){var t=0;e.forEach(function(e){e.setLeft(t),t+=e.getActualWidth()})})},u.prototype.addToDisplayedColumns=function(e,t){t.length=0,this.columnUtils.deptFirstDisplayedColumnTreeSearch(e,function(e){e instanceof s.default&&t.push(e)})},u.prototype.sizeColumnsToFit=function(e){var t=this,n=this.getAllDisplayedColumns();if(!(e<=0||0===n.length)){for(var i=f.default.filter(n,function(e){return!0===e.getColDef().suppressSizeToFit}),o=f.default.filter(n,function(e){return!0!==e.getColDef().suppressSizeToFit}),n=o.slice(0),r=!1;!r;){var r=!0,a=e-h(i);if(a<=0)o.forEach(function(e){e.setMinimum()});else for(var s=a/h(o),l=a,c=o.length-1;0<=c;c--){var u=o[c],d=Math.round(u.getActualWidth()*s);d<u.getMinWidth()?(u.setMinimum(),p(u),r=!1):u.isGreaterThanMax(d)?(u.setActualWidth(u.getMaxWidth()),p(u),r=!1):0===c?u.setActualWidth(l):(l-=d,u.setActualWidth(d))}}this.setLeftValues(),n.forEach(function(e){e=new m.default(g.Events.EVENT_COLUMN_RESIZED).withColumn(e);t.eventService.dispatchEvent(g.Events.EVENT_COLUMN_RESIZED,e)})}function p(e){f.default.removeFromArray(o,e),i.push(e)}function h(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].getActualWidth();return t}},u.prototype.buildAllGroups=function(e){var t=f.default.filter(e,function(e){return"left"===e.getPinned()}),n=f.default.filter(e,function(e){return"right"===e.getPinned()}),e=f.default.filter(e,function(e){return"left"!==e.getPinned()&&"right"!==e.getPinned()}),i=new o.default;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(t,this.originalBalancedTree,i),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(n,this.originalBalancedTree,i),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(e,this.originalBalancedTree,i)},u.prototype.updateGroups=function(){var e=this.getAllDisplayedColumnGroups();this.columnUtils.deptFirstAllColumnTreeSearch(e,function(e){e instanceof r.default&&e.calculateDisplayedColumns()})},u.prototype.createGroupAutoColumn=function(){var e,t,n,i;0<this.rowGroupColumns.length&&!this.gridOptionsWrapper.isGroupSuppressAutoColumn()&&!this.gridOptionsWrapper.isGroupUseEntireRow()&&!this.gridOptionsWrapper.isGroupSuppressRow()?((e=(e=this.gridOptionsWrapper.getGroupColumnDef())||{headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group"),comparator:l.defaultGroupComparator,cellRenderer:{renderer:"group"}}).suppressMovable=!0,t=this.columnUtils.calculateColInitialWidth(e),n=this.gridOptionsWrapper.getMinColWidth(),i=this.gridOptionsWrapper.getMaxColWidth(),this.groupAutoColumn=new s.default(e,t,"ag-Grid-AutoColumn",n,i)):this.groupAutoColumn=null},u.prototype.updateVisibleColumns=function(){var e=[];this.groupAutoColumn&&e.push(this.groupAutoColumn);for(var t=0;t<this.allColumns.length;t++){var n=this.allColumns[t],i=0<=this.rowGroupColumns.indexOf(n)&&this.gridOptionsWrapper.isGroupHideGroupColumns();n.isVisible()&&!i&&e.push(this.allColumns[t])}return e},u.prototype.createValueColumns=function(){this.valueColumns=[];for(var e=0;e<this.allColumns.length;e++){var t=this.allColumns[e];t.getColDef().aggFunc&&(t.setAggFunc(t.getColDef().aggFunc),this.valueColumns.push(t))}},u.prototype.getWithOfColsInList=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].getActualWidth();return t},t.ColumnController=u},function(e,t,n){var i=n(8),n=(o.prototype.getHeaderName=function(){return this.originalColumnGroup.getColGroupDef()?this.originalColumnGroup.getColGroupDef().headerName:null},o.prototype.getGroupId=function(){return this.groupId},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.isChildInThisGroupDeepSearch=function(t){var n=!1;return this.children.forEach(function(e){t===e&&(n=!0),e instanceof o&&e.isChildInThisGroupDeepSearch(t)&&(n=!0)}),n},o.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},o.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()}),t},o.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},o.prototype.getDisplayedChildren=function(){return this.displayedChildren},o.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},o.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},o.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},o.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},o.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},o.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},o.prototype.setExpanded=function(e){this.originalColumnGroup.setExpanded(e)},o.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof i.default?t.push(e):e instanceof o&&e.addDisplayedLeafColumns(t)})},o.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof i.default?t.push(e):e instanceof o&&e.addLeafColumns(t)})},o.prototype.getChildren=function(){return this.children},o.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},o.prototype.calculateDisplayedColumns=function(){if(this.displayedChildren=[],this.originalColumnGroup.isExpandable())for(var e=0,t=this.children.length;e<t;e++){var n=this.children[e];switch(n.getColumnGroupShow()){case o.HEADER_GROUP_SHOW_OPEN:this.originalColumnGroup.isExpanded()&&this.displayedChildren.push(n);break;case o.HEADER_GROUP_SHOW_CLOSED:this.originalColumnGroup.isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n)}}else this.displayedChildren=this.children},o.HEADER_GROUP_SHOW_OPEN="open",o.HEADER_GROUP_SHOW_CLOSED="closed",o);function o(e,t,n){this.displayedChildren=[],this.groupId=t,this.instanceId=n,this.originalColumnGroup=e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(5),n=(o.prototype.toString=function(){var e="ColumnChangeEvent {type: "+this.type;return this.column&&(e+=", column: "+this.column.getColId()),this.columnGroup&&(e+=this.columnGroup.getColGroupDef().headerName),this.toIndex&&(e+=", toIndex: "+this.toIndex),this.visible&&(e+=", visible: "+this.visible),this.pinned&&(e+=", pinned: "+this.pinned),"boolean"==typeof this.finished&&(e+=", finished: "+this.finished),e+="}"},o.prototype.withPinned=function(e){return this.pinned=e,this},o.prototype.withVisible=function(e){return this.visible=e,this},o.prototype.isVisible=function(){return this.visible},o.prototype.getPinned=function(){return this.pinned},o.prototype.withColumn=function(e){return this.column=e,this},o.prototype.withColumns=function(e){return this.columns=e,this},o.prototype.withFinished=function(e){return this.finished=e,this},o.prototype.withColumnGroup=function(e){return this.columnGroup=e,this},o.prototype.withToIndex=function(e){return this.toIndex=e,this},o.prototype.getToIndex=function(){return this.toIndex},o.prototype.getType=function(){return this.type},o.prototype.getColumn=function(){return this.column},o.prototype.getColumns=function(){return this.columns},o.prototype.getColumnGroup=function(){return this.columnGroup},o.prototype.isRowGroupChanged=function(){return this.type===i.Events.EVENT_COLUMN_ROW_GROUP_CHANGE||this.type===i.Events.EVENT_COLUMN_EVERYTHING_CHANGED},o.prototype.isValueChanged=function(){return this.type===i.Events.EVENT_COLUMN_VALUE_CHANGE||this.type===i.Events.EVENT_COLUMN_EVERYTHING_CHANGED},o.prototype.isIndividualColumnResized=function(){return this.type===i.Events.EVENT_COLUMN_RESIZED&&void 0!==this.column&&null!==this.column},o.prototype.isFinished=function(){return this.finished},o);function o(e){this.type=e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var a=n(15);function i(e,t){this.expandable=!1,this.expanded=!1,this.colGroupDef=e,this.groupId=t}i.prototype.setExpanded=function(e){this.expanded=e},i.prototype.isExpandable=function(){return this.expandable},i.prototype.isExpanded=function(){return this.expanded},i.prototype.getGroupId=function(){return this.groupId},i.prototype.setChildren=function(e){this.children=e},i.prototype.getChildren=function(){return this.children},i.prototype.getColGroupDef=function(){return this.colGroupDef},i.prototype.getColumnGroupShow=function(){return this.colGroupDef?this.colGroupDef.columnGroupShow:this.children[0].getColumnGroupShow()},i.prototype.calculateExpandable=function(){for(var e=!1,t=!1,n=!1,i=0,o=this.children.length;i<o;i++){var r=this.children[i].getColumnGroupShow();r===a.default.HEADER_GROUP_SHOW_OPEN?n=e=!0:r===a.default.HEADER_GROUP_SHOW_CLOSED?n=t=!0:t=e=!0}this.expandable=e&&t&&n},t.OriginalColumnGroup=i},function(e,t){i.prototype.getInstanceIdForKey=function(e){var t=this.existingIds[e],t="number"!=typeof t?0:t+1;return this.existingIds[e]=t};var n=i;function i(){this.existingIds={}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var a=n(6);t.defaultGroupComparator=function(e,t,n,i){var o=n.group&&i.group,r=!n.group&&!i.group;return o?a.default.defaultComparator(n.key,i.key):r?a.default.defaultComparator(e,t):n.group?1:-1}},function(e,t,n){var r=n(6),s=n(21),h=n(26),a=n(5),l=n(3),n=(i.prototype.init=function(e,t,n,i,o,r,a,s,l,c,u,d,p){this.columnModel=e,this.gridOptionsWrapper=t,this.angularGrid=i,this.selectionRendererFactory=o,this.gridPanel=n,this.$compile=r,this.$scope=a,this.selectionController=s,this.expressionService=l,this.templateService=c,this.valueService=u,this.findAllElements(n),this.eventService=d,this.floatingRowModel=p,this.cellRendererMap={group:h.default(t,o,l,d),default:function(e){return e.value}},this.renderedRows={}},i.prototype.setRowModel=function(e){this.rowModel=e},i.prototype.getAllCellsForColumn=function(n){var i=[];function e(e,t){t=t.getCellForCol(n);t&&i.push(t)}return r.default.iterateObject(this.renderedRows,e),r.default.iterateObject(this.renderedBottomFloatingRows,e),r.default.iterateObject(this.renderedBottomFloatingRows,e),i},i.prototype.setMainRowWidths=function(){var i=this.columnModel.getBodyContainerWidth()+"px";this.eAllBodyContainers.forEach(function(e){for(var t=e.querySelectorAll(".ag-row"),n=0;n<t.length;n++)t[n].style.width=i})},i.prototype.findAllElements=function(e){this.eBodyContainer=e.getBodyContainer(),this.ePinnedLeftColsContainer=e.getPinnedLeftColsContainer(),this.ePinnedRightColsContainer=e.getPinnedRightColsContainer(),this.eFloatingTopContainer=e.getFloatingTopContainer(),this.eFloatingTopPinnedLeftContainer=e.getPinnedLeftFloatingTop(),this.eFloatingTopPinnedRightContainer=e.getPinnedRightFloatingTop(),this.eFloatingBottomContainer=e.getFloatingBottomContainer(),this.eFloatingBottomPinnedLeftContainer=e.getPinnedLeftFloatingBottom(),this.eFloatingBottomPinnedRightContainer=e.getPinnedRightFloatingBottom(),this.eBodyViewport=e.getBodyViewport(),this.eParentsOfRows=e.getRowsParent(),this.eAllBodyContainers=[this.eBodyContainer,this.eFloatingBottomContainer,this.eFloatingTopContainer],this.eAllPinnedLeftContainers=[this.ePinnedLeftColsContainer,this.eFloatingBottomPinnedLeftContainer,this.eFloatingTopPinnedLeftContainer],this.eAllPinnedRightContainers=[this.ePinnedRightColsContainer,this.eFloatingBottomPinnedRightContainer,this.eFloatingTopPinnedRightContainer]},i.prototype.refreshAllFloatingRows=function(){this.refreshFloatingRows(this.renderedTopFloatingRows,this.floatingRowModel.getFloatingTopRowData(),this.eFloatingTopPinnedLeftContainer,this.eFloatingTopPinnedRightContainer,this.eFloatingTopContainer),this.refreshFloatingRows(this.renderedBottomFloatingRows,this.floatingRowModel.getFloatingBottomRowData(),this.eFloatingBottomPinnedLeftContainer,this.eFloatingBottomPinnedRightContainer,this.eFloatingBottomContainer)},i.prototype.refreshFloatingRows=function(n,e,i,o,r){var a=this,t=(n.forEach(function(e){e.destroy()}),n.length=0,this.columnModel.getAllDisplayedColumns());t&&0!=t.length&&e&&e.forEach(function(e,t){e=new s.default(a.gridOptionsWrapper,a.valueService,a.$scope,a.angularGrid,a.columnModel,a.expressionService,a.cellRendererMap,a.selectionRendererFactory,a.$compile,a.templateService,a.selectionController,a,r,i,o,e,t,a.eventService);n.push(e)})},i.prototype.refreshView=function(e){var t;this.gridOptionsWrapper.isForPrint()||(t=this.rowModel.getVirtualRowCombinedHeight(),this.eBodyContainer.style.height=t+"px",this.ePinnedLeftColsContainer.style.height=t+"px",this.ePinnedRightColsContainer.style.height=t+"px"),this.refreshAllVirtualRows(e),this.refreshAllFloatingRows()},i.prototype.softRefreshView=function(){r.default.iterateObject(this.renderedRows,function(e,t){t.softRefresh()})},i.prototype.refreshRows=function(n){var i;n&&0!=n.length&&(i=[],r.default.iterateObject(this.renderedRows,function(e,t){t=t.getRowNode();0<=n.indexOf(t)&&i.push(e)}),this.removeVirtualRow(i),this.drawVirtualRows())},i.prototype.refreshCells=function(i,o){i&&0!=i.length&&r.default.iterateObject(this.renderedRows,function(e,t){var n=t.getRowNode();0<=i.indexOf(n)&&t.refreshCells(o)})},i.prototype.rowDataChanged=function(t){var n=[],i=this.renderedRows;Object.keys(i).forEach(function(e){i[e].isDataInList(t)&&n.push(e)}),this.removeVirtualRow(n),this.drawVirtualRows()},i.prototype.destroy=function(){var e=Object.keys(this.renderedRows);this.removeVirtualRow(e)},i.prototype.refreshAllVirtualRows=function(e){var t=Object.keys(this.renderedRows);this.removeVirtualRow(t,e),this.drawVirtualRows()},i.prototype.refreshGroupRows=function(){var t=[],n=this;Object.keys(this.renderedRows).forEach(function(e){n.renderedRows[e].isGroup()&&t.push(e)}),this.removeVirtualRow(t),this.ensureRowsRendered()},i.prototype.removeVirtualRow=function(e,t){var n=this,i="number"==typeof t?t:-1;e.forEach(function(e){i<=e&&(n.unbindVirtualRow(e),n.focusedCell&&n.focusedCell.rowIndex==e&&(n.focusedCell=null))})},i.prototype.unbindVirtualRow=function(e){var t=this.renderedRows[e],t=(t.destroy(),{node:t.getRowNode(),rowIndex:e});this.eventService.dispatchEvent(a.Events.EVENT_VIRTUAL_ROW_REMOVED,t),this.angularGrid.onVirtualRowRemoved(e),delete this.renderedRows[e]},i.prototype.drawVirtualRows=function(){this.workOutFirstAndLastRowsToRender(),this.ensureRowsRendered()},i.prototype.workOutFirstAndLastRowsToRender=function(){var e,t,n,i=this.rowModel.getVirtualRowCount();if(0===i)return this.firstVirtualRenderedRow=0,void(this.lastVirtualRenderedRow=-1);this.gridOptionsWrapper.isForPrint()?(this.firstVirtualRenderedRow=0,this.lastVirtualRenderedRow=i):(t=(e=this.eBodyViewport.scrollTop)+this.eBodyViewport.offsetHeight,e=this.rowModel.getRowAtPixel(e),t=this.rowModel.getRowAtPixel(t),i-1<(t+=n=this.gridOptionsWrapper.getRowBuffer())&&(t=i-1),this.firstVirtualRenderedRow=e=(e-=n)<0?0:e,this.lastVirtualRenderedRow=t)},i.prototype.getFirstVirtualRenderedRow=function(){return this.firstVirtualRenderedRow},i.prototype.getLastVirtualRenderedRow=function(){return this.lastVirtualRenderedRow},i.prototype.ensureRowsRendered=function(){for(var e,t=this,n=this.columnModel.getBodyContainerWidth(),i=Object.keys(this.renderedRows),o=this.firstVirtualRenderedRow;o<=this.lastVirtualRenderedRow;o++)0<=i.indexOf(o.toString())?i.splice(i.indexOf(o.toString()),1):(e=this.rowModel.getVirtualRow(o))&&this.insertRow(e,o,n);this.removeVirtualRow(i),this.gridOptionsWrapper.isAngularCompileRows()&&setTimeout(function(){t.$scope.$apply()},0)},i.prototype.insertRow=function(e,t,n){var i=this.columnModel.getAllDisplayedColumns();i&&0!=i.length&&(i=new s.default(this.gridOptionsWrapper,this.valueService,this.$scope,this.angularGrid,this.columnModel,this.expressionService,this.cellRendererMap,this.selectionRendererFactory,this.$compile,this.templateService,this.selectionController,this,this.eBodyContainer,this.ePinnedLeftColsContainer,this.ePinnedRightColsContainer,e,t,this.eventService),this.renderedRows[t]=i)},i.prototype.getRenderedNodes=function(){var t=this.renderedRows;return Object.keys(t).map(function(e){return t[e].getRowNode()})},i.prototype.getIndexOfRenderedNode=function(e){for(var t=this.renderedRows,n=Object.keys(t),i=0;i<n.length;i++){var o=n[i];if(t[o].getRowNode()===e)return t[o].getRowIndex()}return-1},i.prototype.navigateToNextCell=function(e,t,n){for(var i,o,r={rowIndex:t,column:n};!o;){if(!(r=this.getNextCellToFocus(e,r)))return;o=(i=this.renderedRows[r.rowIndex]).getCellForCol(r.column)}this.gridPanel.ensureIndexVisible(i.getRowIndex()),this.focusCell(o,r.rowIndex,r.column.getColId(),r.column.getColDef(),!0)},i.prototype.getNextCellToFocus=function(e,t){var n,i,o=t.rowIndex,r=t.column;switch(e){case l.default.KEY_UP:if(o===this.firstVirtualRenderedRow)return null;n=o-1,i=r;break;case l.default.KEY_DOWN:if(o===this.lastVirtualRenderedRow)return null;n=o+1,i=r;break;case l.default.KEY_RIGHT:var a=this.columnModel.getDisplayedColAfter(r);if(!a)return null;n=o,i=a;break;case l.default.KEY_LEFT:a=this.columnModel.getDisplayedColBefore(r);if(!a)return null;n=o,i=a}return{rowIndex:n,column:i}},i.prototype.onRowSelected=function(e,t){this.renderedRows[e]&&this.renderedRows[e].onRowSelected(t)},i.prototype.focusCell=function(e,n,i,t,o){this.gridOptionsWrapper.isSuppressCellSelection()||(this.eParentsOfRows.forEach(function(e){r.default.querySelectorAll_replaceCssClass(e,".ag-cell-focus","ag-cell-focus","ag-cell-no-focus"),r.default.querySelectorAll_replaceCssClass(e,".ag-row-focus","ag-row-focus","ag-row-no-focus");r.default.querySelectorAll_replaceCssClass(e,'[row="'+n+'"] [colId="'+i+'"]',"ag-cell-no-focus","ag-cell-focus");var t='[row="'+n+'"]';r.default.querySelectorAll_replaceCssClass(e,t,"ag-row-no-focus","ag-row-focus")}),this.focusedCell={rowIndex:n,colId:i,node:this.rowModel.getVirtualRow(n),colDef:t},o&&e.focus(),this.eventService.dispatchEvent(a.Events.EVENT_CELL_FOCUSED,this.focusedCell))},i.prototype.getFocusedCell=function(){return this.focusedCell},i.prototype.setFocusedCell=function(e,t){var n=this.renderedRows[e],i=this.columnModel.getAllDisplayedColumns()[t];n&&i&&(n=n.getCellForCol(i),this.focusCell(n,e,t,i.getColDef(),!0))},i.prototype.startEditingNextCell=function(e,t,n){for(var i=this.firstVirtualRenderedRow,o=this.lastVirtualRenderedRow,r=e,a=this.columnModel.getAllDisplayedColumns(),s=t;;){var l=a.indexOf(s);if(n){if((s=a[l-1])||(s=a[a.length-1],r--),r<i)return}else if((s=a[l+1])||(s=a[0],r++),o<r)return;l=this.renderedRows[r].getRenderedCellForColumn(s);if(l.isCellEditable())return l.startEditing(),void l.focusCell(!1)}},i);function i(){this.renderedTopFloatingRows=[],this.renderedBottomFloatingRows=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var o=n(6),a=n(22),s=n(8),i=n(23),r=n(5),n=(l.prototype.onRowSelected=function(n){o.default.iterateObject(this.renderedCells,function(e,t){t.setSelected(n)})},l.prototype.softRefresh=function(){o.default.iterateObject(this.renderedCells,function(e,t){t.isVolatile()&&t.refreshCell()})},l.prototype.getRenderedCellForColumn=function(e){return this.renderedCells[e.getColId()]},l.prototype.getCellForCol=function(e){e=this.renderedCells[e.getColId()];return e?e.getVGridCell().getElement():null},l.prototype.destroy=function(){this.destroyScope(),this.pinningLeft&&this.ePinnedLeftContainer.removeChild(this.vPinnedLeftRow.getElement()),this.pinningRight&&this.ePinnedRightContainer.removeChild(this.vPinnedRightRow.getElement()),this.eBodyContainer.removeChild(this.vBodyRow.getElement()),o.default.iterateObject(this.renderedCells,function(e,t){t.destroy()})},l.prototype.destroyScope=function(){this.scope&&(this.scope.$destroy(),this.scope=null)},l.prototype.isDataInList=function(e){return 0<=e.indexOf(this.node.data)},l.prototype.isNodeInList=function(e){return 0<=e.indexOf(this.node)},l.prototype.isGroup=function(){return!0===this.node.group},l.prototype.drawNormalRow=function(){for(var e=this.columnController.getAllDisplayedColumns(),t=this.columnController.getFirstRightPinnedColIndex(),n=0;n<e.length;n++){var i=e[n],o=new a.default(n===t,i,this.$compile,this.rowRenderer,this.gridOptionsWrapper,this.expressionService,this.selectionRendererFactory,this.selectionController,this.templateService,this.cellRendererMap,this.node,this.rowIndex,n,this.scope,this.columnController,this.valueService,this.eventService),r=o.getVGridCell();(i.getPinned()===s.default.PINNED_LEFT?this.vPinnedLeftRow:i.getPinned()===s.default.PINNED_RIGHT?this.vPinnedRightRow:this.vBodyRow).appendChild(r),this.renderedCells[i.getColId()]=o}},l.prototype.bindVirtualElement=function(e){var t=e.toHtmlString(),t=o.default.loadTemplate(t);e.elementAttached(t)},l.prototype.createGroupRow=function(){var e,t=this.createGroupSpanningEntireRowCell(!1);this.pinningLeft?(this.vPinnedLeftRow.appendChild(t),e=this.createGroupSpanningEntireRowCell(!0),this.vBodyRow.appendChild(e)):this.vBodyRow.appendChild(t),this.pinningRight&&(e=this.createGroupSpanningEntireRowCell(!0),this.vPinnedRightRow.appendChild(e))},l.prototype.createGroupSpanningEntireRowCell=function(e){if(e)i=document.createElement("span");else{var e=(e=this.gridOptionsWrapper.getGroupRowRenderer())||{renderer:"group",innerRenderer:this.gridOptionsWrapper.getGroupRowInnerRenderer()},t={node:this.node,data:this.node.data,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),colDef:{cellRenderer:e}};if("object"==typeof e&&null!==e){var n=e;if(!(n=this.cellRendererMap[n.renderer]))throw"Cell renderer "+e+" not found, available are "+Object.keys(this.cellRendererMap)}else{if("function"!=typeof e)throw"Cell Renderer must be String or Function";n=e}var e=n(t),i=o.default.isNodeOrElement(e)?e:o.default.loadTemplate(e)}return this.node.footer?o.default.addCssClass(i,"ag-footer-cell-entire-row"):o.default.addCssClass(i,"ag-group-cell-entire-row"),i},l.prototype.createChildScopeOrNull=function(e){var t;return this.gridOptionsWrapper.isAngularCompileRows()?((t=this.parentScope.$new()).data=e,t):null},l.prototype.addDynamicStyles=function(){var e=this.gridOptionsWrapper.getRowStyle(),e=(e&&("function"==typeof e?console.log("ag-Grid: rowStyle should be a string or an array, not be a function, use getRowStyle() instead"):(this.vBodyRow.addStyles(e),this.pinningLeft&&this.vPinnedLeftRow.addStyles(e),this.pinningRight&&this.vPinnedRightRow.addStyles(e))),this.gridOptionsWrapper.getRowStyleFunc());e&&(e=e({data:this.node.data,node:this.node,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),$scope:this.scope}),this.vBodyRow.addStyles(e),this.pinningLeft&&this.vPinnedLeftRow.addStyles(e),this.pinningRight&&this.vPinnedRightRow.addStyles(e))},l.prototype.createParams=function(){return{node:this.node,data:this.node.data,rowIndex:this.rowIndex,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()}},l.prototype.createEvent=function(e,t){var n=this.createParams();return n.event=e,n.eventSource=t,n},l.prototype.createRowContainer=function(){var e=new i.default("div"),n=this;return e.addEventListener("click",function(e){var t=n.createEvent(e,this),t=(n.eventService.dispatchEvent(r.Events.EVENT_ROW_CLICKED,t),e.ctrlKey||e.metaKey);n.angularGrid.onRowClicked(t,n.rowIndex,n.node)}),e.addEventListener("dblclick",function(e){e=n.createEvent(e,this);n.eventService.dispatchEvent(r.Events.EVENT_ROW_DOUBLE_CLICKED,e)}),e},l.prototype.getRowNode=function(){return this.node},l.prototype.getRowIndex=function(){return this.rowIndex},l.prototype.refreshCells=function(e){var i;e&&(i=this.columnController.getColumns(e),o.default.iterateObject(this.renderedCells,function(e,t){var n=t.getColumn();0<=i.indexOf(n)&&t.refreshCell()}))},l.prototype.addDynamicClasses=function(){var t=[],e=(t.push("ag-row"),t.push("ag-row-no-focus"),t.push(this.rowIndex%2==0?"ag-row-even":"ag-row-odd"),this.selectionController.isNodeSelected(this.node)&&t.push("ag-row-selected"),this.node.group?(t.push("ag-row-group"),t.push("ag-row-level-"+this.node.level),!this.node.footer&&this.node.expanded&&t.push("ag-row-group-expanded"),this.node.footer||this.node.expanded||t.push("ag-row-group-contracted"),this.node.footer&&t.push("ag-row-footer")):this.node.parent?t.push("ag-row-level-"+(this.node.parent.level+1)):t.push("ag-row-level-0"),this.gridOptionsWrapper.getRowClass()),e=(e&&("function"==typeof e?console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead"):"string"==typeof e?t.push(e):Array.isArray(e)&&e.forEach(function(e){t.push(e)})),this.gridOptionsWrapper.getRowClassFunc());e&&(e=e({node:this.node,data:this.node.data,rowIndex:this.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()}))&&("string"==typeof e?t.push(e):Array.isArray(e)&&e.forEach(function(e){t.push(e)})),this.vBodyRow.addClasses(t),this.pinningLeft&&this.vPinnedLeftRow.addClasses(t),this.pinningRight&&this.vPinnedRightRow.addClasses(t)},l);function l(e,t,n,i,o,r,a,s,l,c,u,d,p,h,f,g,m,v){this.renderedCells={},this.gridOptionsWrapper=e,this.valueService=t,this.parentScope=n,this.angularGrid=i,this.expressionService=r,this.columnController=o,this.cellRendererMap=a,this.selectionRendererFactory=s,this.$compile=l,this.templateService=c,this.selectionController=u,this.rowRenderer=d,this.eBodyContainer=p,this.ePinnedLeftContainer=h,this.ePinnedRightContainer=f,this.pinningLeft=o.isPinningLeft(),this.pinningRight=o.isPinningRight(),this.eventService=v;e=this.gridOptionsWrapper.isGroupUseEntireRow(),t=g.group&&e,this.vBodyRow=this.createRowContainer(),this.pinningLeft&&(this.vPinnedLeftRow=this.createRowContainer()),this.pinningRight&&(this.vPinnedRightRow=this.createRowContainer()),this.rowIndex=m,this.node=g,this.scope=this.createChildScopeOrNull(g.data),t||this.drawNormalRow(),this.addDynamicStyles(),this.addDynamicClasses(),n=this.rowIndex.toString(),this.node.floatingBottom?n="fb-"+n:this.node.floatingTop&&(n="ft-"+n),this.vBodyRow.setAttribute("row",n),this.pinningLeft&&this.vPinnedLeftRow.setAttribute("row",n),this.pinningRight&&this.vPinnedRightRow.setAttribute("row",n),"function"!=typeof this.gridOptionsWrapper.getBusinessKeyForNodeFunc()||"string"!=typeof(i=this.gridOptionsWrapper.getBusinessKeyForNodeFunc()(this.node))&&"number"!=typeof i||(this.vBodyRow.setAttribute("row-id",i),this.pinningLeft&&this.vPinnedLeftRow.setAttribute("row-id",i),this.pinningRight&&this.vPinnedRightRow.setAttribute("row-id",i)),this.gridOptionsWrapper.isForPrint()||(r=this.node.rowTop+"px",this.vBodyRow.style.top=r,this.pinningLeft&&(this.vPinnedLeftRow.style.top=r),this.pinningRight&&(this.vPinnedRightRow.style.top=r)),a=this.node.rowHeight+"px";this.vBodyRow.style.height=a,this.pinningLeft&&(this.vPinnedLeftRow.style.height=a),this.pinningRight&&(this.vPinnedRightRow.style.height=a),t&&this.createGroupRow(),this.bindVirtualElement(this.vBodyRow),this.pinningLeft&&this.bindVirtualElement(this.vPinnedLeftRow),this.pinningRight&&this.bindVirtualElement(this.vPinnedRightRow),this.scope&&(this.$compile(this.vBodyRow.getElement())(this.scope),this.pinningLeft&&this.$compile(this.vPinnedLeftRow.getElement())(this.scope),this.pinningRight&&this.$compile(this.vPinnedRightRow.getElement())(this.scope)),this.eBodyContainer.appendChild(this.vBodyRow.getElement()),this.pinningLeft&&this.ePinnedLeftContainer.appendChild(this.vPinnedLeftRow.getElement()),this.pinningRight&&this.ePinnedRightContainer.appendChild(this.vPinnedRightRow.getElement())}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var a=n(6),i=n(23),o=n(8),s=n(3),r=n(5),l=n(25),n=(c.prototype.destroy=function(){this.destroyMethods.forEach(function(e){e()})},c.prototype.calculateCheckboxSelection=function(){if(this.node.floating)return!1;var e,t=this.column.getColDef();return"boolean"==typeof t.checkboxSelection?t.checkboxSelection:!!(e=!(e="function"==typeof t.checkboxSelection?t.checkboxSelection:e)&&this.gridOptionsWrapper.getCheckboxSelection()?this.gridOptionsWrapper.getCheckboxSelection():e)&&e(this.createParams())},c.prototype.getColumn=function(){return this.column},c.prototype.getValue=function(){return this.valueService.getValue(this.column.getColDef(),this.data,this.node)},c.prototype.getVGridCell=function(){return this.vGridCell},c.prototype.getDataForRow=function(){if(this.node.footer)return this.node.data;if(!this.node.group)return this.node.data;var e=this.gridOptionsWrapper.isGroupIncludeFooter(),t=this.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.node.expanded&&e&&!t?void 0:this.node.data},c.prototype.setLeftOnCell=function(){function e(){t.vGridCell.addStyles({left:t.column.getLeft()+"px"})}var t=this;this.column.addEventListener(o.default.EVENT_LEFT_CHANGED,e),this.destroyMethods.push(function(){t.column.removeEventListener(o.default.EVENT_LEFT_CHANGED,e)}),e()},c.prototype.setWidthOnCell=function(){function e(){t.vGridCell.addStyles({width:t.column.getActualWidth()+"px"})}var t=this;this.column.addEventListener(o.default.EVENT_WIDTH_CHANGED,e),this.destroyMethods.push(function(){t.column.removeEventListener(o.default.EVENT_WIDTH_CHANGED,e)}),e()},c.prototype.setupComponents=function(){this.vGridCell=new i.default("div"),this.setLeftOnCell(),this.setWidthOnCell(),this.gridOptionsWrapper.isSuppressCellSelection()||this.node.floating||this.vGridCell.setAttribute("tabindex","-1"),this.addClasses(),this.addCellClickedHandler(),this.addCellDoubleClickedHandler(),this.addCellContextMenuHandler(),this.node.floating||this.addCellNavigationHandler(),this.createParentOfValue(),this.populateCell(),this.eCheckbox&&this.setSelected(this.selectionController.isNodeSelected(this.node))},c.prototype.startEditing=function(e){var t=this,n=this,i=(this.editingCell=!0,a.default.removeAllChildren(this.vGridCell.getElement()),document.createElement("input")),e=(i.type="text",a.default.addCssClass(i,"ag-cell-edit-input"),e!==s.default.KEY_BACKSPACE&&e!==s.default.KEY_DELETE),o=this.getValue(),r=(e&&null!=o&&(i.value=o),i.style.width=this.column.getActualWidth()-14+"px",this.vGridCell.appendChild(i),i.focus(),i.select(),function(){n.stopEditing(i,r)});i.addEventListener("blur",r),i.addEventListener("keypress",function(e){(e.which||e.keyCode)===s.default.KEY_ENTER&&(t.stopEditing(i,r),t.focusCell(!0))}),i.addEventListener("keydown",function(e){(e.which||e.keyCode)===s.default.KEY_ESCAPE&&(t.stopEditing(i,r,!0),t.focusCell(!0))}),i.addEventListener("keydown",function(e){if((e.which||e.keyCode)==s.default.KEY_TAB)return n.stopEditing(i,r),n.rowRenderer.startEditingNextCell(n.rowIndex,n.column,e.shiftKey),e.preventDefault(),!1})},c.prototype.focusCell=function(e){this.rowRenderer.focusCell(this.vGridCell.getElement(),this.rowIndex,this.column.getColId(),this.column.getColDef(),e)},c.prototype.stopEditing=function(e,t,n){void 0===n&&(n=!1),this.editingCell=!1;var i=e.value,o=this.column.getColDef();e.removeEventListener("blur",t),n||(e={node:this.node,data:this.node.data,oldValue:this.node.data[o.field],newValue:i,rowIndex:this.rowIndex,colDef:o,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},o.newValueHandler?o.newValueHandler(e):this.valueService.setValueUsingField(this.node.data,o.field,i),this.value=this.getValue(),e.newValue=this.value,"function"==typeof o.onCellValueChanged&&o.onCellValueChanged(e),this.eventService.dispatchEvent(r.Events.EVENT_CELL_VALUE_CHANGED,e)),a.default.removeAllChildren(this.vGridCell.getElement()),this.checkboxSelection&&this.vGridCell.appendChild(this.vCellWrapper.getElement()),this.refreshCell()},c.prototype.createParams=function(){return{node:this.node,data:this.node.data,value:this.value,rowIndex:this.rowIndex,colIndex:this.colIndex,colDef:this.column.getColDef(),$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()}},c.prototype.createEvent=function(e,t){var n=this.createParams();return n.event=e,n.eventSource=t,n},c.prototype.addCellDoubleClickedHandler=function(){var t=this,n=this.column.getColDef();this.vGridCell.addEventListener("dblclick",function(e){e=t.createEvent(e,this);t.eventService.dispatchEvent(r.Events.EVENT_CELL_DOUBLE_CLICKED,e),"function"==typeof n.onCellDoubleClicked&&n.onCellDoubleClicked(e),!t.gridOptionsWrapper.isSingleClickEdit()&&t.isCellEditable()&&t.startEditing()})},c.prototype.addCellContextMenuHandler=function(){var t=this,n=this.column.getColDef();this.vGridCell.addEventListener("contextmenu",function(e){e=t.createEvent(e,this);t.eventService.dispatchEvent(r.Events.EVENT_CELL_CONTEXT_MENU,e),n.onCellContextMenu&&n.onCellContextMenu(e)})},c.prototype.isCellEditable=function(){if(this.editingCell)return!1;if(this.node.group)return!1;var e,t=this.column.getColDef();return"boolean"==typeof t.editable?t.editable:"function"==typeof t.editable&&(e=this.createParams(),(0,t.editable)(e))},c.prototype.addCellClickedHandler=function(){var t=this.column.getColDef(),n=this;this.vGridCell.addEventListener("click",function(e){n.node.floating||n.focusCell(!1);e=n.createEvent(e,this);n.eventService.dispatchEvent(r.Events.EVENT_CELL_CLICKED,e),t.onCellClicked&&t.onCellClicked(e),n.gridOptionsWrapper.isSingleClickEdit()&&n.isCellEditable()&&n.startEditing()})},c.prototype.populateCell=function(){this.putDataIntoCell(),this.addStylesFromCollDef(),this.addClassesFromCollDef(),this.addClassesFromRules()},c.prototype.addStylesFromCollDef=function(){var e,t=this.column.getColDef();t.cellStyle&&(e="function"==typeof t.cellStyle?(e={value:this.value,data:this.node.data,node:this.node,colDef:t,column:this.column,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},(0,t.cellStyle)(e)):t.cellStyle)&&this.vGridCell.addStyles(e)},c.prototype.addClassesFromCollDef=function(){var e,t=this,n=this.column.getColDef();n.cellClass&&("string"==typeof(e="function"==typeof n.cellClass?(e={value:this.value,data:this.node.data,node:this.node,colDef:n,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},(0,n.cellClass)(e)):n.cellClass)?this.vGridCell.addClass(e):Array.isArray(e)&&e.forEach(function(e){t.vGridCell.addClass(e)}))},c.prototype.addClassesFromRules=function(){var e=this.column.getColDef(),t=e.cellClassRules;if("object"==typeof t&&null!==t)for(var n={value:this.value,data:this.node.data,node:this.node,colDef:e,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},i=Object.keys(t),o=0;o<i.length;o++){var r,a=i[o],s=t[a];"string"==typeof s?r=this.expressionService.evaluate(s,n):"function"==typeof s&&(r=s(n)),r?this.vGridCell.addClass(a):this.vGridCell.removeClass(a)}},c.prototype.addCellNavigationHandler=function(){var n=this;this.vGridCell.addEventListener("keydown",function(e){var t;if(!n.editingCell&&e.target===n.vGridCell.getElement())return(t=e.which||e.keyCode)===s.default.KEY_DOWN||t===s.default.KEY_UP||t===s.default.KEY_LEFT||t===s.default.KEY_RIGHT?(e.preventDefault(),void n.rowRenderer.navigateToNextCell(t,n.rowIndex,n.column)):n.isKeycodeForStartEditing(t)&&n.isCellEditable()?(n.startEditing(t),void e.preventDefault()):void(t===s.default.KEY_SPACE&&n.gridOptionsWrapper.isRowSelection()&&(n.selectionController.isNodeSelected(n.node)?n.selectionController.deselectNode(n.node):n.selectionController.selectNode(n.node,!0),e.preventDefault()))})},c.prototype.isKeycodeForStartEditing=function(e){return e===s.default.KEY_ENTER||e===s.default.KEY_BACKSPACE||e===s.default.KEY_DELETE},c.prototype.createSelectionCheckbox=function(){this.eCheckbox=document.createElement("input"),this.eCheckbox.type="checkbox",this.eCheckbox.name="name",this.eCheckbox.className="ag-selection-checkbox",this.eCheckbox.addEventListener("click",function(e){e.stopPropagation()});var e=this;this.checkboxOnChangeListener=function(){e.eCheckbox.checked?e.selectionController.selectIndex(e.rowIndex,!0):e.selectionController.deselectIndex(e.rowIndex)},this.eCheckbox.onchange=this.checkboxOnChangeListener},c.prototype.setSelected=function(e){this.eCheckbox&&(this.eCheckbox.onchange=null,"boolean"==typeof e?(this.eCheckbox.checked=e,this.eCheckbox.indeterminate=!1):this.eCheckbox.indeterminate=!0,this.eCheckbox.onchange=this.checkboxOnChangeListener)},c.prototype.createParentOfValue=function(){this.checkboxSelection?(this.vCellWrapper=new i.default("span"),this.vCellWrapper.addClass("ag-cell-wrapper"),this.vGridCell.appendChild(this.vCellWrapper),this.createSelectionCheckbox(),this.vCellWrapper.appendChild(new l.default(this.eCheckbox)),this.vSpanWithValue=new i.default("span"),this.vSpanWithValue.addClass("ag-cell-value"),this.vCellWrapper.appendChild(this.vSpanWithValue),this.vParentOfValue=this.vSpanWithValue):(this.vGridCell.addClass("ag-cell-value"),this.vParentOfValue=this.vGridCell)},c.prototype.isVolatile=function(){return this.column.getColDef().volatile},c.prototype.refreshCell=function(){a.default.removeAllChildren(this.vParentOfValue.getElement()),this.value=this.getValue(),this.populateCell(),this.checkboxSelection&&this.setSelected(this.selectionController.isNodeSelected(this.node)),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(this.vGridCell.getElement())(this.scope)},c.prototype.putDataIntoCell=function(){var e,t=this.column.getColDef();t.template?this.vParentOfValue.setInnerHtml(t.template):t.templateUrl?(e=this.templateService.getTemplate(t.templateUrl,this.refreshCell.bind(this,!0)))&&this.vParentOfValue.setInnerHtml(e):t.floatingCellRenderer&&this.node.floating?this.useCellRenderer(t.floatingCellRenderer):t.cellRenderer?this.useCellRenderer(t.cellRenderer):void 0!==this.value&&null!==this.value&&""!==this.value&&this.vParentOfValue.setInnerHtml(this.value.toString())},c.prototype.useCellRenderer=function(e){var t,n=this.column.getColDef(),n={value:this.value,valueGetter:this.getValue,data:this.node.data,node:this.node,colDef:n,column:this.column,$scope:this.scope,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.vGridCell,eParentOfValue:this.vParentOfValue};if("object"==typeof e&&null!==e){if(!(t=this.cellRendererMap[e.renderer]))throw"Cell renderer "+e+" not found, available are "+Object.keys(this.cellRendererMap)}else{if("function"!=typeof e)throw"Cell Renderer must be String or Function";t=e}e=t(n);a.default.isNodeOrElement(e)?this.vParentOfValue.appendChild(e):this.vParentOfValue.setInnerHtml(e)},c.prototype.addClasses=function(){this.vGridCell.addClass("ag-cell"),this.vGridCell.addClass("ag-cell-no-focus"),this.vGridCell.setAttribute("colId",this.column.getColId()),this.node.group&&this.node.footer&&this.vGridCell.addClass("ag-footer-cell"),this.node.group&&!this.node.footer&&this.vGridCell.addClass("ag-group-cell"),this.firstRightPinnedColumn&&this.vGridCell.addClass("ag-cell-first-right-pinned")},c);function c(e,t,n,i,o,r,a,s,l,c,u,d,p,h,f,g,m){this.destroyMethods=[],this.firstRightPinnedColumn=e,this.column=t,this.rowRenderer=i,this.gridOptionsWrapper=o,this.expressionService=r,this.selectionRendererFactory=a,this.selectionController=s,this.cellRendererMap=c,this.$compile=n,this.templateService=l,this.columnController=f,this.valueService=g,this.eventService=m,this.node=u,this.rowIndex=d,this.colIndex=p,this.scope=h,this.data=this.getDataForRow(),this.value=this.getValue(),this.checkboxSelection=this.calculateCheckboxSelection(),this.setupComponents()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i,o=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n(6),a=n(24),s=n(25),n=(i=a.default,o(l,i),l.prototype.getElement=function(){return this.element},l.prototype.setInnerHtml=function(e){this.bound?this.element.innerHTML=e:this.innerHtml=e},l.prototype.addStyles=function(e){var n=this;e&&(this.bound||this.style||(this.style={}),r.default.iterateObject(e,function(e,t){n.bound?n.element.style[e]=t:n.style[e]=t}))},l.prototype.attachEventListeners=function(e){if(this.eventListeners)for(var t=0;t<this.eventListeners.length;t++){var n=this.eventListeners[t];e.addEventListener(n.event,n.listener)}},l.prototype.addClass=function(e){this.bound?r.default.addCssClass(this.element,e):(this.classes||(this.classes=[]),this.classes.push(e))},l.prototype.removeClass=function(e){if(this.bound)r.default.removeCssClass(this.element,e);else if(this.classes)for(;0<=this.classes.indexOf(e);)r.default.removeFromArray(this.classes,e)},l.prototype.addClasses=function(e){if(e&&!(e.length<=0))if(this.bound)for(var t=0;t<e.length;t++)r.default.addCssClass(this.element,e[t]);else{this.classes||(this.classes=[]);for(var n=0;n<e.length;n++)this.classes.push(e[n])}},l.prototype.toHtmlString=function(){var e="",e=(e=(e=(e+="<"+this.type+' v_element_id="'+this.getId()+'" ')+this.toHtmlStringClasses())+this.toHtmlStringAttributes())+this.toHtmlStringStyles()+">";return null!==this.innerHtml&&void 0!==this.innerHtml&&(e+=this.innerHtml),e=(e+=this.toHtmlStringChildren())+("</"+this.type+">")},l.prototype.toHtmlStringChildren=function(){if(!this.children)return"";for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toHtmlString();return e},l.prototype.toHtmlStringAttributes=function(){if(!this.attributes)return"";var n="";return r.default.iterateObject(this.attributes,function(e,t){n+=" "+e+'="'+t+'"'}),n},l.prototype.toHtmlStringClasses=function(){return this.classes?' class="'+this.classes.join(" ")+'"':""},l.prototype.toHtmlStringStyles=function(){var n=' style="',i=!1;return r.default.iterateObject(this.style,function(e,t){n+=" "+e+": "+t+";",i=!0}),n+='"',i?n:""},l.prototype.appendChild=function(e){this.bound?r.default.isNodeOrElement(e)?this.element.appendChild(e):console.error("cannot appendChild with virtual child to already bound VHTMLElement"):(this.children||(this.children=[]),r.default.isNodeOrElement(e)?this.children.push(new s.default(e)):this.children.push(e))},l.prototype.setAttribute=function(e,t){this.bound?this.element.setAttribute(e,t):(this.attributes||(this.attributes={}),this.attributes[e]=t)},l.prototype.addEventListener=function(e,t){this.bound?this.element.addEventListener(e,t):(this.eventListeners||(this.eventListeners=[]),e=new c(e,t),this.eventListeners.push(e))},l.prototype.elementAttached=function(e){i.prototype.elementAttached.call(this,e),this.element=e,this.attachEventListeners(e),this.fireElementAttachedToChildren(e),this.bound=!0},l.prototype.fireElementAttachedToChildren=function(e){if(this.children)for(var t=0;t<this.children.length;t++){var n=this.children[t],i=e.querySelector('[v_element_id="'+n.getId()+'"]');n.elementAttached(i)}},l);function l(e){i.call(this),this.style={},this.type=e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var c=function(e,t){this.event=e,this.listener=t}},function(e,t){i.prototype.getId=function(){return this.id},i.prototype.addElementAttachedListener=function(e){this.elementAttachedListeners||(this.elementAttachedListeners=[]),this.elementAttachedListeners.push(e)},i.prototype.fireElementAttached=function(e){if(this.elementAttachedListeners)for(var t=0;t<this.elementAttachedListeners.length;t++)(0,this.elementAttachedListeners[t])(e)},i.prototype.elementAttached=function(e){this.fireElementAttached(e)},i.prototype.toHtmlString=function(){return null},i.idSequence=0;var n=i;function i(){this.id=i.idSequence++}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i,o=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},n=n(24),n=(i=n.default,o(r,i),r.prototype.toHtmlString=function(){return'<span v_element_id="'+this.getId()+'"></span>'},r.prototype.elementAttached=function(e){var t=e.parentNode;t.insertBefore(this.wrappedElement,e),t.removeChild(e)},r);function r(e){i.call(this),this.wrappedElement=e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(27),$=n(6),x=n(3),k=n(5),o=i.default.getInstance();Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(g,m,v,b){return function(e){var o,r,a,t,n,i,s,l,c,u,d,p=document.createElement("span"),h=e.node;function f(){var e,t,n,i;e=r,t=a,(n=o).node.expanded=!n.node.expanded,i=function(e){return g.isGroupIncludeFooter()?e.rowIndex:e.rowIndex+1}(n),n.api.onGroupExpandedOrCollapsed(i),y(e,t,n.node.expanded),i={node:n.node},b.dispatchEvent(k.Events.EVENT_ROW_GROUP_OPENED,i)}return h.group&&!h.footer&&(t=p,o=e,r=w(!0),a=w(!1),t.appendChild(r),t.appendChild(a),r.addEventListener("click",f),a.addEventListener("click",f),t.addEventListener("dblclick",f),y(r,a,o.node.expanded),o.eGridCell&&o.eGridCell.addEventListener("keydown",function(e){$.default.isKeyPressed(e,x.default.KEY_ENTER)&&(f(),e.preventDefault())})),e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.checkbox&&!h.footer&&(t=m.createSelectionCheckbox(h,e.rowIndex),p.appendChild(t)),e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.innerRenderer?(c=e.colDef.cellRenderer.innerRenderer,$.default.useRenderer(p,c,e)):h.footer?(c=p,s=C(n=e),n.colDef&&n.colDef.cellRenderer&&n.colDef.cellRenderer.footerValueGetter?(l=n.colDef.cellRenderer.footerValueGetter,(n=$.default.cloneObject(n)).value=s,"function"==typeof l?i=l(n):"string"==typeof l?i=v.evaluate(l,n):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")):i="Total "+s,l=document.createTextNode(i),c.appendChild(l)):h.group?(n=p,i=C(s=e),(l=s.api.getColumnDef(s.node.field))&&"function"==typeof l.cellRenderer?(s.value=i,$.default.useRenderer(n,l.cellRenderer,s)):n.appendChild(document.createTextNode(i)),s.colDef.cellRenderer&&s.colDef.cellRenderer.suppressCount||!(0<=s.node.allChildrenCount)||n.appendChild(document.createTextNode(" ("+s.node.allChildrenCount+")"))):(u=p,(d=e).value&&(d=document.createTextNode(" "+d.value),u.appendChild(d))),e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.suppressPadding||!(h.footer||0<h.level)||(u=e.colDef&&e.colDef.cellRenderer&&0<=e.colDef.cellRenderer.padding?e.colDef.cellRenderer.padding:10,d=h.level*u,h.footer?d+=10:h.group||(d+=5),p.style.paddingLeft=d+"px"),p};function y(e,t,n){$.default.setVisible(e,!n),$.default.setVisible(t,n)}function w(e){e=e?$.default.createIcon("groupContracted",g,null,o.createArrowRightSvg):$.default.createIcon("groupExpanded",g,null,o.createArrowDownSvg);return $.default.addCssClass(e,"ag-group-expand"),e}function C(e){var t=e.colDef.cellRenderer;return t&&t.keyMap&&"object"==typeof t.keyMap&&null!==e.colDef.cellRenderer&&t.keyMap[e.node.key]||e.node.key}}},function(e,t){var i="http://www.w3.org/2000/svg",n=(o.getInstance=function(){return this.theInstance||(this.theInstance=new o),this.theInstance},o.prototype.createFilterSvg=function(){var e=a(),t=document.createElementNS(i,"polygon");return t.setAttribute("points","0,0 4,4 4,10 6,10 6,4 10,0"),t.setAttribute("class","ag-header-icon"),e.appendChild(t),e},o.prototype.createColumnShowingSvg=function(){return s(!0)},o.prototype.createColumnHiddenSvg=function(){return s(!1)},o.prototype.createMenuSvg=function(){var n=document.createElementNS(i,"svg");return n.setAttribute("width","12"),n.setAttribute("height","12"),["0","5","10"].forEach(function(e){var t=document.createElementNS(i,"rect");t.setAttribute("y",e),t.setAttribute("width","12"),t.setAttribute("height","2"),t.setAttribute("class","ag-header-icon"),n.appendChild(t)}),n},o.prototype.createArrowUpSvg=function(){return r("0,10 5,0 10,10")},o.prototype.createArrowLeftSvg=function(){return r("10,0 0,5 10,10")},o.prototype.createArrowDownSvg=function(){return r("0,0 5,10 10,0")},o.prototype.createArrowRightSvg=function(){return r("0,0 10,5 0,10")},o.prototype.createSmallArrowDownSvg=function(){return r("0,0 3,6 6,0",6)},o.prototype.createArrowUpDownSvg=function(){var e=a(),t=document.createElementNS(i,"polygon"),t=(t.setAttribute("points","0,4 5,0 10,4"),e.appendChild(t),document.createElementNS(i,"polygon"));return t.setAttribute("points","0,6 5,10 10,6"),e.appendChild(t),e},o);function o(){}function r(e,t){var t=a(t),n=document.createElementNS(i,"polygon");return n.setAttribute("points",e),t.appendChild(n),t}function a(e){var t=document.createElementNS(i,"svg");return 0<e?(t.setAttribute("width",e),t.setAttribute("height",e)):(t.setAttribute("width","10"),t.setAttribute("height","10")),t}function s(e){var t=a(),n=document.createElementNS(i,"circle");return n.setAttribute("cx","5"),n.setAttribute("cy","5"),n.setAttribute("r","5"),n.setAttribute("stroke","black"),n.setAttribute("stroke-width","2"),e?n.setAttribute("fill","black"):n.setAttribute("fill","none"),t.appendChild(n),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(6),s=n(15),o=n(29),r=n(31),n=(a.prototype.init=function(e,t,n,i,o,r,a,s,l){this.gridOptionsWrapper=e,this.columnController=t,this.grid=i,this.filterManager=o,this.$scope=r,this.$compile=a,this.headerTemplateLoader=s,this.dragService=l,this.gridPanel=n,this.findAllElements()},a.prototype.findAllElements=function(){this.ePinnedLeftHeader=this.gridPanel.getPinnedLeftHeader(),this.ePinnedRightHeader=this.gridPanel.getPinnedRightHeader(),this.eHeaderContainer=this.gridPanel.getHeaderContainer(),this.eHeaderViewport=this.gridPanel.getHeaderViewport(),this.eRoot=this.gridPanel.getRoot(),this.eHeaderOverlay=this.gridPanel.getHeaderOverlay()},a.prototype.refreshHeader=function(){i.default.removeAllChildren(this.ePinnedLeftHeader),i.default.removeAllChildren(this.ePinnedRightHeader),i.default.removeAllChildren(this.eHeaderContainer),this.headerElements.forEach(function(e){e.destroy()}),this.headerElements=[],this.insertHeaderRowsIntoContainer(this.columnController.getLeftDisplayedColumnGroups(),this.ePinnedLeftHeader),this.insertHeaderRowsIntoContainer(this.columnController.getRightDisplayedColumnGroups(),this.ePinnedRightHeader),this.insertHeaderRowsIntoContainer(this.columnController.getCenterDisplayedColumnGroups(),this.eHeaderContainer)},a.prototype.addChildToOverlay=function(e){this.eHeaderOverlay&&this.eHeaderOverlay.appendChild(e)},a.prototype.removeChildFromOverlay=function(e){this.eHeaderOverlay&&this.eHeaderOverlay.removeChild(e)},a.prototype.addTreeNodesAtDept=function(e,t,n){var i=this;e.forEach(function(e){0===t?n.push(e):e instanceof s.default&&i.addTreeNodesAtDept(e.getDisplayedChildren(),t-1,n)})},a.prototype.setPinnedColContainerWidth=function(){var e;this.gridOptionsWrapper.isForPrint()||(e=this.columnController.getPinnedLeftContainerWidth()+"px",this.eHeaderViewport.style.marginLeft=e,e=this.columnController.getPinnedRightContainerWidth()+"px",this.eHeaderViewport.style.marginRight=e)},a.prototype.getRightPinnedStartPixel=function(){return this.ePinnedRightHeader.getBoundingClientRect().left-this.eHeaderOverlay.getBoundingClientRect().left},a.prototype.insertHeaderRowsIntoContainer=function(e,t){for(var n=this,i=this.gridOptionsWrapper.getHeaderHeight(),o=0;;o++){var r=[];if(this.addTreeNodesAtDept(e,o,r),0===r.length)break;var a=document.createElement("div");a.className="ag-header-row",a.style.top=o*i+"px",a.style.height=i+"px",r.forEach(function(e){e instanceof s.default&&0==e.getDisplayedChildren().length||(e=n.createHeaderElement(e),n.headerElements.push(e),a.appendChild(e.getGui()))}),t.appendChild(a)}this.eHeaderOverlay&&(this.eHeaderOverlay.style.height=i+"px",this.eHeaderOverlay.style.top=(o-1)*i+"px")},a.prototype.createHeaderElement=function(e){return e instanceof s.default?new o.default(e,this.gridOptionsWrapper,this.columnController,this.eRoot,this.$scope,this.filterManager,this.$compile,this.dragService):new r.default(e,null,this.gridOptionsWrapper,this.$scope,this.filterManager,this.columnController,this.$compile,this.grid,this.eRoot,this.headerTemplateLoader,this,this.dragService,this.gridPanel)},a.prototype.updateSortIcons=function(){this.headerElements.forEach(function(e){e.refreshSortIcon()})},a.prototype.updateFilterIcons=function(){this.headerElements.forEach(function(e){e.refreshFilterIcon()})},a.prototype.onIndividualColumnResized=function(t){this.headerElements.forEach(function(e){e.onIndividualColumnResized(t)})},a);function a(){this.headerElements=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var l,i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},o=n(6),r=n(27),n=n(30),a=r.default.getInstance(),r=(l=n.default,i(s,l),s.prototype.getGui=function(){return this.eHeaderGroupCell},s.prototype.onIndividualColumnResized=function(e){this.columnGroup.isChildInThisGroupDeepSearch(e)&&this.setWidthOfGroupHeaderCell()},s.prototype.setupComponents=function(e,t){var n=this,i=(this.eHeaderGroupCell=document.createElement("div"),["ag-header-group-cell"]),i=(this.columnGroup.getColGroupDef()?i.push("ag-header-group-cell-with-group"):i.push("ag-header-group-cell-no-group"),this.eHeaderGroupCell.className=i.join(" "),this.addHeaderClassesFromCollDef(this.columnGroup.getColGroupDef(),this.eHeaderGroupCell),this.getGridOptionsWrapper().isEnableColResize()&&(this.eHeaderCellResize=document.createElement("div"),this.eHeaderCellResize.className="ag-header-cell-resize",this.eHeaderGroupCell.appendChild(this.eHeaderCellResize),t.addDragHandling({eDraggableElement:this.eHeaderCellResize,eBody:e,cursor:"col-resize",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)}),this.getGridOptionsWrapper().isSuppressAutoSize()||this.eHeaderCellResize.addEventListener("dblclick",function(e){var t=[];n.columnGroup.getDisplayedLeafColumns().forEach(function(e){e.getColDef().suppressAutoSize||t.push(e.getColId())}),0<t.length&&n.columnController.autoSizeColumns(t)})),this.columnGroup.getHeaderName());i&&""!==i&&((t=document.createElement("div")).className="ag-header-group-cell-label",this.eHeaderGroupCell.appendChild(t),o.default.isBrowserSafari()&&(t.style.display="table-cell"),(e=document.createElement("span")).className="ag-header-group-text",e.innerHTML=i,t.appendChild(e),this.columnGroup.isExpandable()&&this.addGroupExpandIcon(t)),this.setWidthOfGroupHeaderCell()},s.prototype.setWidthOfGroupHeaderCell=function(){this.eHeaderGroupCell.style.width=o.default.formatWidth(this.columnGroup.getActualWidth())},s.prototype.addGroupExpandIcon=function(e){var t=this.columnGroup.isExpanded()?o.default.createIcon("columnGroupOpened",this.getGridOptionsWrapper(),null,a.createArrowLeftSvg):o.default.createIcon("columnGroupClosed",this.getGridOptionsWrapper(),null,a.createArrowRightSvg),n=(t.className="ag-header-expand-icon",e.appendChild(t),this);t.onclick=function(){var e=!n.columnGroup.isExpanded();n.columnController.setColumnGroupOpened(n.columnGroup,e)}},s.prototype.onDragStart=function(){var t=this;this.groupWidthStart=this.columnGroup.getActualWidth(),this.childrenWidthStarts=[],this.columnGroup.getDisplayedLeafColumns().forEach(function(e){t.childrenWidthStarts.push(e.getActualWidth())})},s.prototype.onDragging=function(e,i){var o=this,e=this.groupWidthStart+e,t=this.columnGroup.getMinWidth(),r=(e=e<t?t:e)/this.groupWidthStart,a=e,s=this.columnGroup.getDisplayedLeafColumns();s.forEach(function(e,t){var n;t!==s.length-1?((n=o.childrenWidthStarts[t]*r)<e.getMinWidth()&&(n=e.getMinWidth()),a-=n):n=a,o.columnController.setColumnWidth(e,n,i)})},s);function s(e,t,n,i,o,r,a,s){l.call(this,t),this.columnController=n,this.columnGroup=e,this.parentScope=o,this.filterManager=r,this.$compile=a,this.setupComponents(i,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){var i=n(6),n=(o.prototype.destroy=function(){},o.prototype.refreshFilterIcon=function(){},o.prototype.refreshSortIcon=function(){},o.prototype.onIndividualColumnResized=function(e){},o.prototype.getGui=function(){return null},o.prototype.getGridOptionsWrapper=function(){return this.gridOptionsWrapper},o.prototype.addHeaderClassesFromCollDef=function(e,t){var n;e&&e.headerClass&&("string"==typeof(n="function"==typeof e.headerClass?(n={colDef:e,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},(0,e.headerClass)(n)):e.headerClass)?i.default.addCssClass(t,n):Array.isArray(n)&&n.forEach(function(e){i.default.addCssClass(t,e)}))},o);function o(e){this.gridOptionsWrapper=e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var h,i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n(6),o=n(30),a=n(8),s=n(32),n=(h=o.default,i(l,h),l.prototype.getGui=function(){return this.eHeaderCell},l.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){e()})},l.prototype.createScope=function(e){var t=this;this.getGridOptionsWrapper().isAngularCompileHeaders()&&(this.childScope=e.$new(),this.childScope.colDef=this.column.getColDef(),this.childScope.colDefWrapper=this.column,this.destroyFunctions.push(function(){t.childScope.$destroy()}))},l.prototype.addAttributes=function(){this.eHeaderCell.setAttribute("colId",this.column.getColId())},l.prototype.addMenu=function(){var e,t,n=this.eHeaderCell.querySelector("#agMenu");n&&(this.getGridOptionsWrapper().isEnableFilter()&&!this.column.getColDef().suppressMenu?(e=this,n.addEventListener("click",function(){e.filterManager.showFilter(e.column,this)}),this.getGridOptionsWrapper().isSuppressMenuHide()||(n.style.opacity="0",this.eHeaderCell.addEventListener("mouseenter",function(){n.style.opacity="1"}),this.eHeaderCell.addEventListener("mouseleave",function(){n.style.opacity="0"})),(t=n.style).transition="opacity 0.5s, border 0.2s",t["-webkit-transition"]="opacity 0.5s, border 0.2s"):r.default.removeFromParent(n))},l.prototype.removeSortIcons=function(){r.default.removeFromParent(this.eHeaderCell.querySelector("#agSortAsc")),r.default.removeFromParent(this.eHeaderCell.querySelector("#agSortDesc")),r.default.removeFromParent(this.eHeaderCell.querySelector("#agNoSort"))},l.prototype.addSortIcons=function(){this.eSortAsc=this.eHeaderCell.querySelector("#agSortAsc"),this.eSortDesc=this.eHeaderCell.querySelector("#agSortDesc"),this.eSortNone=this.eHeaderCell.querySelector("#agNoSort"),this.eSortAsc&&(this.eSortAsc.style.display="none"),this.eSortDesc&&(this.eSortDesc.style.display="none"),this.column.getColDef().unSortIcon||this.getGridOptionsWrapper().isUnSortIcon()||r.default.removeFromParent(this.eSortNone)},l.prototype.addMovingCss=function(){function e(){t.column.isMoving()?r.default.addCssClass(t.eHeaderCell,"ag-header-cell-moving"):r.default.removeCssClass(t.eHeaderCell,"ag-header-cell-moving")}var t=this;e(),this.column.addEventListener(a.default.EVENT_MOVING_CHANGED,e),this.destroyFunctions.push(function(){t.column.removeEventListener(a.default.EVENT_MOVING_CHANGED,e)})},l.prototype.setupComponents=function(e,t,n,i){this.eHeaderCell=this.headerTemplateLoader.createHeaderElement(this.column),r.default.addCssClass(this.eHeaderCell,"ag-header-cell"),this.createScope(t),this.addAttributes(),this.addHeaderClassesFromCollDef(this.column.getColDef(),this.eHeaderCell),this.addMovingCss();var o,t=this.column.getColDef(),e=(t.headerTooltip&&(this.eHeaderCell.title=t.headerTooltip),this.eText=this.eHeaderCell.querySelector("#agText"),this.eHeaderCellLabel=this.eHeaderCell.querySelector("#agHeaderCellLabel"),this.addResize(e,n),this.addMove(e,n,i),this.addMenu(),this.addSort(),this.eFilterIcon=this.eHeaderCell.querySelector("#agFilter"),t.headerCellRenderer?o=t.headerCellRenderer:this.getGridOptionsWrapper().getHeaderCellRenderer()&&(o=this.getGridOptionsWrapper().getHeaderCellRenderer()),this.columnController.getDisplayNameForCol(this.column));this.eText&&(o?this.useRenderer(e,o):(this.eText.className="ag-header-cell-text",this.eText.innerHTML=e)),this.eHeaderCell.style.width=r.default.formatWidth(this.column.getActualWidth()),this.refreshFilterIcon(),this.refreshSortIcon()},l.prototype.addSort=function(){this.getGridOptionsWrapper().isEnableSorting()&&!this.column.getColDef().suppressSorting?(this.addSortIcons(),this.addSortHandling()):this.removeSortIcons()},l.prototype.addMove=function(e,t,n){this.getGridOptionsWrapper().isSuppressMovableColumns()||this.column.getColDef().suppressMovable||this.getGridOptionsWrapper().isForPrint()||this.eHeaderCellLabel&&new s.MoveColumnController(this.column,this.eHeaderCellLabel,e,this.eHeaderCell,this.headerRenderer,this.columnController,t,n,this.getGridOptionsWrapper())},l.prototype.addResize=function(e,t){var n=this,i=this.column.getColDef(),o=this.eHeaderCell.querySelector("#agResizeBar");o&&(this.getGridOptionsWrapper().isEnableColResize()&&!i.suppressResize?(t.addDragHandling({eDraggableElement:o,eBody:e,cursor:"col-resize",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)}),this.getGridOptionsWrapper().isSuppressAutoSize()||i.suppressAutoSize||o.addEventListener("dblclick",function(e){n.columnController.autoSizeColumn(n.column)})):r.default.removeFromParent(o))},l.prototype.useRenderer=function(e,t){t=t({colDef:this.column.getColDef(),$scope:this.childScope,context:this.getGridOptionsWrapper().getContext(),value:e,api:this.getGridOptionsWrapper().getApi(),eHeaderCell:this.eHeaderCell}),t=r.default.isNodeOrElement(t)?t:((e=document.createElement("span")).innerHTML=t,e);this.getGridOptionsWrapper().isAngularCompileHeaders()?(e=this.$compile(t)(this.childScope)[0],this.eText.appendChild(e)):this.eText.appendChild(t)},l.prototype.refreshFilterIcon=function(){var e=this.filterManager.isFilterPresentForCol(this.column.getColId());this.eFilterIcon&&(r.default.addOrRemoveCssClass(this.eHeaderCell,"ag-header-cell-filtered",e),this.eFilterIcon.style.display=e?"inline":"none")},l.prototype.refreshSortIcon=function(){var e=this.column.getSort()===a.default.SORT_ASC,t=this.column.getSort()===a.default.SORT_DESC,n=this.column.getSort()!==a.default.SORT_DESC&&this.column.getSort()!==a.default.SORT_ASC;this.eSortAsc&&r.default.setVisible(this.eSortAsc,e),this.eSortDesc&&r.default.setVisible(this.eSortDesc,t),this.eSortNone&&r.default.setVisible(this.eSortNone,n),r.default.addOrRemoveCssClass(this.eHeaderCell,"ag-header-cell-sorted-asc",e),r.default.addOrRemoveCssClass(this.eHeaderCell,"ag-header-cell-sorted-desc",t),r.default.addOrRemoveCssClass(this.eHeaderCell,"ag-header-cell-sorted-none",n)},l.prototype.getNextSortDirection=function(){var e,t,n=this.column.getColDef().sortingOrder?this.column.getColDef().sortingOrder:this.getGridOptionsWrapper().getSortingOrder()?this.getGridOptionsWrapper().getSortingOrder():l.DEFAULT_SORTING_ORDER;{if(Array.isArray(n)&&!(n.length<=0))return t=(e=n.indexOf(this.column.getSort()))==n.length-1,t=e<0||t?n[0]:n[e+1],l.DEFAULT_SORTING_ORDER.indexOf(t)<0?(console.warn("ag-grid: invalid sort type "+t),null):t;console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+n)}},l.prototype.addSortHandling=function(){var t=this;this.eHeaderCellLabel&&this.eHeaderCellLabel.addEventListener("click",function(e){t.column.setSort(t.getNextSortDirection()),t.column.getSort()?t.column.setSortedAt((new Date).valueOf()):t.column.setSortedAt(null),!t.getGridOptionsWrapper().isSuppressMultiSort()&&e.shiftKey||t.columnController.clearSortBarThisColumn(t.column),t.grid.onSortingChanged()})},l.prototype.onDragStart=function(){this.startWidth=this.column.getActualWidth()},l.prototype.onDragging=function(e,t){e=this.startWidth+e;this.columnController.setColumnWidth(this.column,e,t)},l.prototype.onIndividualColumnResized=function(e){this.column===e&&(e=e.getActualWidth()+"px",this.eHeaderCell.style.width=e)},l.DEFAULT_SORTING_ORDER=[a.default.SORT_ASC,a.default.SORT_DESC,null],l);function l(e,t,n,i,o,r,a,s,l,c,u,d,p){h.call(this,n),this.destroyFunctions=[],this.column=e,this.parentGroup=t,this.filterManager=o,this.columnController=r,this.$compile=a,this.grid=s,this.headerTemplateLoader=c,this.headerRenderer=u,this.setupComponents(l,i,d,p)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(6),o=n(8);function r(e,t,n,i,o,r,a,s,l){this.lastDelta=0,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.eHeaderCell=i,this.headerRenderer=o,this.columnController=r,this.column=e,this.gridPanel=s,this.addMovingCssToGrid=!l.isSuppressMovingCss(),this.centreWidth=s.getCenterWidth(),a.addDragHandling({eDraggableElement:t,eBody:n,cursor:"move",startAfterPixels:4,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)})}r.prototype.onDragStart=function(e){this.column.getPinned()===o.default.PINNED_LEFT?this.floatPadding=0:this.column.getPinned()===o.default.PINNED_RIGHT?this.floatPadding=this.headerRenderer.getRightPinnedStartPixel():(this.floatPadding=this.columnController.getPinnedLeftContainerWidth(),this.floatPadding-=this.gridPanel.getHorizontalScrollPosition()),this.eFloatingCloneCell=this.eHeaderCell.cloneNode(!0),this.headerRenderer.addChildToOverlay(this.eFloatingCloneCell),this.startLeftPosition=this.columnController.getPixelsBeforeConsideringPinned(this.column),i.default.addCssClass(this.eFloatingCloneCell,"ag-header-cell-moving-clone"),this.eFloatingCloneCell.style.position="absolute",this.eFloatingCloneCell.style.top="0px",this.eFloatingCloneCell.style.left=this.floatPadding+this.startLeftPosition+"px";var t=this.eFloatingCloneCell.querySelector("#agMenu"),t=(t&&(t.style.display="none"),this.eHeaderCell.getBoundingClientRect().left);this.clickPositionOnHeader=e.clientX-t,this.column.setMoving(!0),this.addMovingCssToGrid&&this.gridPanel.setMovingCss(!0),this.scrollSinceStart=0,this.hoveringOverPixelLastTime=this.startLeftPosition+this.clickPositionOnHeader+this.scrollSinceStart},r.prototype.onDragging=function(e,t){this.eFloatingCloneCell.style.left=this.floatPadding+(this.startLeftPosition+e)+"px";for(var n,i,o=this.startLeftPosition+this.clickPositionOnHeader+e+this.scrollSinceStart,r=o>this.hoveringOverPixelLastTime,a=o<this.hoveringOverPixelLastTime,s=(this.hoveringOverPixelLastTime=o,!0);s;){var l=this.column.getLeft()>o,c=this.column.getLeft()+this.column.getActualWidth()<o&&r,s=!1,u=null;l&&a&&(u=this.columnController.getDisplayedColBeforeForMoving(this.column)),(u=c?this.columnController.getDisplayedColAfterForMoving(this.column):u)&&(l=this.columnController.getColumnIndex(u),c=this.getColumnsAndOrphans(this.column),this.columnController.moveColumns(c.reverse(),l),s=!0)}this.column.isPinned()||(i=(n=this.gridPanel.getHorizontalScrollPosition())+this.gridPanel.getCenterWidth(),this.needToMoveLeft=o<n+50,this.needToMoveRight=i-50<o,this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()),t&&(this.column.setMoving(!1),this.headerRenderer.removeChildFromOverlay(this.eFloatingCloneCell),this.addMovingCssToGrid&&this.gridPanel.setMovingCss(!1),this.ensureIntervalCleared()),this.lastDelta=e},r.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=setInterval(this.moveInterval.bind(this),100))},r.prototype.ensureIntervalCleared=function(){this.moveInterval&&(clearInterval(this.movingIntervalId),this.movingIntervalId=null)},r.prototype.moveInterval=function(){this.intervalCount++,100<(e=10+5*this.intervalCount)&&(e=100);var e,t=0;this.needToMoveLeft?t=this.gridPanel.scrollHorizontally(-e):this.needToMoveRight&&(t=this.gridPanel.scrollHorizontally(e)),this.scrollSinceStart+=t,this.onDragging(this.lastDelta,!1)},r.prototype.getColumnsAndOrphans=function(e){for(var t=this.columnController.getPathForColumn(e),n=t.length-1;0<=n;n--){var i=t[n],o=1===i.getDisplayedChildren().length,r=1<i.getChildren().length;if(o&&r)return i.getLeafColumns()}return[e]},t.MoveColumnController=r},function(e,t,n){var s=n(6),l=n(34),c=n(35),u=n(36),n=(i.prototype.init=function(e,t,n,i,o,r,a){this.$compile=n,this.$scope=i,this.gridOptionsWrapper=t,this.grid=e,this.allFilters={},this.columnController=o,this.popupService=r,this.valueService=a,this.columnController=o,this.quickFilter=null},i.prototype.setFilterModel=function(n){var i,o=this;n?(i=Object.keys(n),s.default.iterateObject(this.allFilters,function(e,t){s.default.removeFromArray(i,e);e=n[e];o.setModelOnFilterWrapper(t.filter,e)}),s.default.iterateArray(i,function(e){var t=o.columnController.getColumn(e);t?(t=o.getOrCreateFilterWrapper(t),o.setModelOnFilterWrapper(t.filter,n[e])):console.warn("Warning ag-grid setFilterModel - no column found for colId "+e)})):s.default.iterateObject(this.allFilters,function(e,t){o.setModelOnFilterWrapper(t.filter,null)}),this.grid.onFilterChanged()},i.prototype.setModelOnFilterWrapper=function(e,t){"function"!=typeof e.getApi?console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel"):"function"!=typeof(e=e.getApi()).setModel?console.warn("Warning ag-grid - filter API missing setModel method, which is needed for setFilterModel"):e.setModel(t)},i.prototype.getFilterModel=function(){var n={};return s.default.iterateObject(this.allFilters,function(e,t){"function"!=typeof t.filter.getApi?console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel"):"function"!=typeof(t=t.filter.getApi()).getModel?console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel"):(t=t.getModel())&&(n[e]=t)}),n},i.prototype.setRowModel=function(e){this.rowModel=e},i.prototype.isAdvancedFilterPresent=function(){var n=!1;return s.default.iterateObject(this.allFilters,function(e,t){t.filter.isFilterActive||console.error("Filter is missing method isFilterActive"),t.filter.isFilterActive()&&(n=!0)}),n},i.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.advancedFilterPresent||this.externalFilterPresent},i.prototype.isFilterPresentForCol=function(e){e=this.allFilters[e];return!!e&&(e.filter.isFilterActive||console.error("Filter is missing method isFilterActive"),e.filter.isFilterActive())},i.prototype.doesFilterPass=function(e,t){for(var n=e.data,i=Object.keys(this.allFilters),o=0,r=i.length;o<r;o++){var a=i[o],a=this.allFilters[a];if(void 0!==a)if(a.filter!==t)if(a.filter.isFilterActive())if(a.filter.doesFilterPass||console.error("Filter is missing method doesFilterPass"),!a.filter.doesFilterPass({node:e,data:n}))return!1}return!0},i.prototype.setQuickFilter=function(e){return this.quickFilter!==(e=void 0!==e&&""!==e?e:null)&&(this.gridOptionsWrapper.isVirtualPaging()?void console.warn("ag-grid: cannot do quick filtering when doing virtual paging"):(null!==(e=void 0!==e&&""!==e?e:null)&&(e=e.toUpperCase()),this.quickFilter=e,!0))},i.prototype.onFilterChanged=function(){this.advancedFilterPresent=this.isAdvancedFilterPresent(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),s.default.iterateObject(this.allFilters,function(e,t){t.filter.onAnyFilterChanged&&t.filter.onAnyFilterChanged()})},i.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},i.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter(t,e)},i.prototype.doesRowPassFilter=function(e,t){return!(this.isQuickFilterPresent()&&(e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(this.quickFilter)<0))&&(!(this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(e))&&!(this.advancedFilterPresent&&!this.doesFilterPass(e,t)))},i.prototype.aggregateRowForQuickFilter=function(n){var i="",o=this;this.columnController.getAllColumns().forEach(function(e){var t=n.data,e=o.valueService.getValue(e.getColDef(),t,n);e&&""!==e&&(i=i+e.toString().toUpperCase()+"_")}),n.quickFilterAggregateText=i},i.prototype.onNewRowsLoaded=function(){var t=this;Object.keys(this.allFilters).forEach(function(e){e=t.allFilters[e].filter;e.onNewRowsLoaded&&e.onNewRowsLoaded()})},i.prototype.createValueGetter=function(t){var n=this;return function(e){return n.valueService.getValue(t.getColDef(),e.data,e)}},i.prototype.getFilterApi=function(e){e=this.getOrCreateFilterWrapper(e);if(e&&"function"==typeof e.filter.getApi)return e.filter.getApi()},i.prototype.getOrCreateFilterWrapper=function(e){var t=this.allFilters[e.getColId()];return t||(t=this.createFilterWrapper(e),this.allFilters[e.getColId()]=t),t},i.prototype.createFilterWrapper=function(e){var t=e.getColDef(),n={column:e,filter:null,scope:null,gui:null},i=("function"==typeof t.filter?(this.gridOptionsWrapper.isAngularCompileFilters()&&(n.scope=this.$scope.$new()),this.assertMethodHasNoParameters(t.filter),n.filter=new t.filter):"text"===t.filter?n.filter=new l.default:"number"===t.filter?n.filter=new c.default:n.filter=new u.default,this.grid.onFilterChanged.bind(this.grid)),o=this.grid.onFilterModified.bind(this.grid),r=this.doesRowPassOtherFilters.bind(this,n.filter),a=t.filterParams,t={colDef:t,rowModel:this.rowModel,filterChangedCallback:i,filterModifiedCallback:o,filterParams:a,localeTextFunc:this.gridOptionsWrapper.getLocaleTextFunc(),valueGetter:this.createValueGetter(e),doesRowPassOtherFilter:r,context:this.gridOptionsWrapper.getContext,$scope:n.scope};if(!n.filter.init)throw"Filter is missing method init";if(n.filter.init(t),!n.filter.getGui)throw"Filter is missing method getGui";i=document.createElement("div"),i.className="ag-filter",o=n.filter.getGui();return s.default.isNodeOrElement(o)?i.appendChild(o):((a=document.createElement("span")).innerHTML=o,i.appendChild(a)),n.scope?n.gui=this.$compile(i)(n.scope)[0]:n.gui=i,n},i.prototype.destroy=function(){s.default.iterateObject(this.allFilters,function(e,t){t.filter.destroy&&t.filter.destroy()})},i.prototype.assertMethodHasNoParameters=function(e){0<s.default.getFunctionParameters(e).length&&(console.warn("ag-grid: It looks like your filter is of the old type and expecting parameters in the constructor."),console.warn("ag-grid: From ag-grid 1.14, the constructor should take no parameters and init() used instead."))},i.prototype.showFilter=function(e,t){var e=this.getOrCreateFilterWrapper(e),n=this.popupService.addAsModalPopup(e.gui,!0);this.popupService.positionPopup(t,e.gui,!0),e.filter.afterGuiAttached&&e.filter.afterGuiAttached({hidePopup:n,eventSource:t})},i);function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(6),o='<div><div><select class="ag-filter-select" id="filterType"><option value="1">[CONTAINS]</option><option value="2">[EQUALS]</option><option value="3">[STARTS WITH]</option><option value="4">[ENDS WITH]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',n=(r.prototype.init=function(e){this.filterParams=e.filterParams,this.applyActive=this.filterParams&&!0===this.filterParams.apply,this.filterChangedCallback=e.filterChangedCallback,this.filterModifiedCallback=e.filterModifiedCallback,this.localeTextFunc=e.localeTextFunc,this.valueGetter=e.valueGetter,this.createGui(),this.filterText=null,this.filterType=1,this.createApi()},r.prototype.onNewRowsLoaded=function(){this.filterParams&&"keep"===this.filterParams.newRowsAction||(this.api.setType(1),this.api.setFilter(null))},r.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},r.prototype.doesFilterPass=function(e){if(!this.filterText)return!0;e=this.valueGetter(e);if(!e)return!1;var t=e.toString().toLowerCase();switch(this.filterType){case 1:return 0<=t.indexOf(this.filterText);case 2:return t===this.filterText;case 3:return 0===t.indexOf(this.filterText);case 4:var n=t.indexOf(this.filterText);return 0<=n&&n===t.length-this.filterText.length;default:return console.warn("invalid filter type "+this.filterType),!1}},r.prototype.getGui=function(){return this.eGui},r.prototype.isFilterActive=function(){return null!==this.filterText},r.prototype.createTemplate=function(){return o.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[CONTAINS]",this.localeTextFunc("contains","Contains")).replace("[STARTS WITH]",this.localeTextFunc("startsWith","Starts with")).replace("[ENDS WITH]",this.localeTextFunc("endsWith","Ends with")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},r.prototype.createGui=function(){this.eGui=i.default.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),i.default.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},r.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):i.default.removeElement(this.eGui,"#applyPanel")},r.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},r.prototype.onFilterChanged=function(){var e=i.default.makeNull(this.eFilterTextField.value),e=null!=(e=e&&""===e.trim()?null:e)?e.toLowerCase():null;this.filterText!==e&&(this.filterText=e,this.filterChanged())},r.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},r.prototype.createApi=function(){var t=this;this.api={EQUALS:2,CONTAINS:1,STARTS_WITH:3,ENDS_WITH:4,setType:function(e){t.filterType=e,t.eTypeSelect.value=e},setFilter:function(e){(e=i.default.makeNull(e))?(t.filterText=e.toLowerCase(),t.eFilterTextField.value=e):(t.filterText=null,t.eFilterTextField.value=null)},getType:function(){return t.filterType},getFilter:function(){return t.filterText},getModel:function(){return t.isFilterActive()?{type:t.filterType,filter:t.filterText}:null},setModel:function(e){e?(this.setType(e.type),this.setFilter(e.filter)):this.setFilter(null)}}},r.prototype.getApi=function(){return this.api},r);function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(6),o='<div><div><select class="ag-filter-select" id="filterType"><option value="1">[EQUALS]</option><option value="2">[LESS THAN]</option><option value="3">[GREATER THAN]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',n=(r.prototype.init=function(e){this.filterParams=e.filterParams,this.applyActive=this.filterParams&&!0===this.filterParams.apply,this.filterChangedCallback=e.filterChangedCallback,this.filterModifiedCallback=e.filterModifiedCallback,this.localeTextFunc=e.localeTextFunc,this.valueGetter=e.valueGetter,this.createGui(),this.filterNumber=null,this.filterType=1,this.createApi()},r.prototype.onNewRowsLoaded=function(){this.filterParams&&"keep"===this.filterParams.newRowsAction||(this.api.setType(1),this.api.setFilter(null))},r.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},r.prototype.doesFilterPass=function(e){if(null===this.filterNumber)return!0;var t,e=this.valueGetter(e);if(!e&&0!==e)return!1;switch(t="number"==typeof e?e:parseFloat(e),this.filterType){case 1:return t===this.filterNumber;case 2:return t<this.filterNumber;case 3:return t>this.filterNumber;default:return console.warn("invalid filter type "+this.filterType),!1}},r.prototype.getGui=function(){return this.eGui},r.prototype.isFilterActive=function(){return null!==this.filterNumber},r.prototype.createTemplate=function(){return o.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[LESS THAN]",this.localeTextFunc("lessThan","Less than")).replace("[GREATER THAN]",this.localeTextFunc("greaterThan","Greater than")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},r.prototype.createGui=function(){this.eGui=i.default.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),i.default.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},r.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):i.default.removeElement(this.eGui,"#applyPanel")},r.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},r.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},r.prototype.onFilterChanged=function(){var e=i.default.makeNull(this.eFilterTextField.value),e=null!=(e=e&&""===e.trim()?null:e)?parseFloat(e):null;this.filterNumber!==e&&(this.filterNumber=e,this.filterChanged())},r.prototype.createApi=function(){var t=this;this.api={EQUALS:1,LESS_THAN:2,GREATER_THAN:3,setType:function(e){t.filterType=e,t.eTypeSelect.value=e},setFilter:function(e){null!==(e=i.default.makeNull(e))&&"number"!=typeof e&&(e=parseFloat(e)),t.filterNumber=e,t.eFilterTextField.value=e},getType:function(){return t.filterType},getFilter:function(){return t.filterNumber},getModel:function(){return t.isFilterActive()?{type:t.filterType,filter:t.filterNumber}:null},setModel:function(e){e?(this.setType(e.type),this.setFilter(e.filter)):this.setFilter(null)}}},r.prototype.getApi=function(){return this.api},r);function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var s=n(6),i=n(37),o='<div><div class="ag-filter-header-container"><input class="ag-filter-filter" type="text" placeholder="[SEARCH...]"/></div><div class="ag-filter-header-container"><label><input id="selectAll" type="checkbox" class="ag-filter-checkbox"/>([SELECT ALL])</label></div><div class="ag-filter-list-viewport"><div class="ag-filter-list-container"><div id="itemForRepeat" class="ag-filter-item"><label><input type="checkbox" class="ag-filter-checkbox" filter-checkbox="true"/><span class="ag-filter-value"></span></label></div></div></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',n=(r.prototype.init=function(e){this.filterParams=e.filterParams,this.rowHeight=this.filterParams&&this.filterParams.cellHeight?this.filterParams.cellHeight:20,this.applyActive=this.filterParams&&!0===this.filterParams.apply,this.model=new i.default(e.colDef,e.rowModel,e.valueGetter,e.doesRowPassOtherFilter),this.filterChangedCallback=e.filterChangedCallback,this.filterModifiedCallback=e.filterModifiedCallback,this.valueGetter=e.valueGetter,this.rowsInBodyContainer={},this.colDef=e.colDef,this.localeTextFunc=e.localeTextFunc,this.filterParams&&(this.cellRenderer=this.filterParams.cellRenderer),this.createGui(),this.addScrollListener(),this.createApi()},r.prototype.afterGuiAttached=function(){this.drawVirtualRows()},r.prototype.isFilterActive=function(){return this.model.isFilterActive()},r.prototype.doesFilterPass=function(e){if(this.model.isEverythingSelected())return!0;if(this.model.isNothingSelected())return!1;var t=this.valueGetter(e),t=s.default.makeNull(t);if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(this.model.isValueSelected(t[n]))return!0;return!1}return this.model.isValueSelected(t)},r.prototype.getGui=function(){return this.eGui},r.prototype.onNewRowsLoaded=function(){var e=this.filterParams&&"keep"===this.filterParams.newRowsAction,t=this.eSelectAll&&this.eSelectAll.checked&&!this.eSelectAll.indeterminate;this.model.refreshAfterNewRowsLoaded(e,t),this.setContainerHeight(),this.refreshVirtualRows()},r.prototype.onAnyFilterChanged=function(){this.model.refreshAfterAnyFilterChanged(),this.setContainerHeight(),this.refreshVirtualRows()},r.prototype.createTemplate=function(){return o.replace("[SELECT ALL]",this.localeTextFunc("selectAll","Select All")).replace("[SEARCH...]",this.localeTextFunc("searchOoo","Search...")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},r.prototype.createGui=function(){var e=this;this.eGui=s.default.loadTemplate(this.createTemplate()),this.eListContainer=this.eGui.querySelector(".ag-filter-list-container"),this.eFilterValueTemplate=this.eGui.querySelector("#itemForRepeat"),this.eSelectAll=this.eGui.querySelector("#selectAll"),this.eListViewport=this.eGui.querySelector(".ag-filter-list-viewport"),this.eMiniFilter=this.eGui.querySelector(".ag-filter-filter"),this.eListContainer.style.height=this.model.getUniqueValueCount()*this.rowHeight+"px",this.setContainerHeight(),this.eMiniFilter.value=this.model.getMiniFilter(),s.default.addChangeListener(this.eMiniFilter,function(){e.onMiniFilterChanged()}),s.default.removeAllChildren(this.eListContainer),this.eSelectAll.onclick=this.onSelectAll.bind(this),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0,this.setupApply()},r.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):s.default.removeElement(this.eGui,"#applyPanel")},r.prototype.setContainerHeight=function(){this.eListContainer.style.height=this.model.getDisplayedValueCount()*this.rowHeight+"px"},r.prototype.drawVirtualRows=function(){var e=this.eListViewport.scrollTop,t=e+this.eListViewport.offsetHeight,e=Math.floor(e/this.rowHeight),t=Math.floor(t/this.rowHeight);this.ensureRowsRendered(e,t)},r.prototype.ensureRowsRendered=function(e,t){for(var n,i=Object.keys(this.rowsInBodyContainer),o=e;o<=t;o++)0<=i.indexOf(o.toString())?i.splice(i.indexOf(o.toString()),1):this.model.getDisplayedValueCount()>o&&(n=this.model.getDisplayedValue(o),this.insertRow(n,o));this.removeVirtualRows(i)},r.prototype.removeVirtualRows=function(e){var n=this;e.forEach(function(e){var t=n.rowsInBodyContainer[e];n.eListContainer.removeChild(t),delete n.rowsInBodyContainer[e]})},r.prototype.insertRow=function(e,t){var n,i=this,o=this.eFilterValueTemplate.cloneNode(!0),r=o.querySelector(".ag-filter-value"),a=(this.cellRenderer?(n=this.cellRenderer({value:e}),s.default.isNode(n)?r.appendChild(n):r.innerHTML=n):(n="("+this.localeTextFunc("blanks","Blanks")+")",r.innerHTML=null===e?n:e),o.querySelector("input"));a.checked=this.model.isValueSelected(e),a.onclick=function(){i.onCheckboxClicked(a,e)},o.style.top=this.rowHeight*t+"px",this.eListContainer.appendChild(o),this.rowsInBodyContainer[t]=o},r.prototype.onCheckboxClicked=function(e,t){e.checked?(this.model.selectValue(t),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.eSelectAll.indeterminate=!0):(this.model.unselectValue(t),this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0),this.filterChanged()},r.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},r.prototype.onMiniFilterChanged=function(){this.model.setMiniFilter(this.eMiniFilter.value)&&(this.setContainerHeight(),this.refreshVirtualRows())},r.prototype.refreshVirtualRows=function(){this.clearVirtualRows(),this.drawVirtualRows()},r.prototype.clearVirtualRows=function(){var e=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(e)},r.prototype.onSelectAll=function(){var e=this.eSelectAll.checked;e?this.model.selectEverything():this.model.selectNothing(),this.updateAllCheckboxes(e),this.filterChanged()},r.prototype.updateAllCheckboxes=function(e){for(var t=this.eListContainer.querySelectorAll("[filter-checkbox=true]"),n=0,i=t.length;n<i;n++)t[n].checked=e},r.prototype.addScrollListener=function(){var e=this;this.eListViewport.addEventListener("scroll",function(){e.drawVirtualRows()})},r.prototype.getApi=function(){return this.api},r.prototype.createApi=function(){var t=this.model,n=this;this.api={setMiniFilter:function(e){t.setMiniFilter(e)},getMiniFilter:function(){return t.getMiniFilter()},selectEverything:function(){n.eSelectAll.indeterminate=!1,n.eSelectAll.checked=!0,t.selectEverything()},isFilterActive:function(){return t.isFilterActive()},selectNothing:function(){n.eSelectAll.indeterminate=!1,n.eSelectAll.checked=!1,t.selectNothing()},unselectValue:function(e){t.unselectValue(e),n.refreshVirtualRows()},selectValue:function(e){t.selectValue(e),n.refreshVirtualRows()},isValueSelected:function(e){return t.isValueSelected(e)},isEverythingSelected:function(){return t.isEverythingSelected()},isNothingSelected:function(){return t.isNothingSelected()},getUniqueValueCount:function(){return t.getUniqueValueCount()},getUniqueValue:function(e){return t.getUniqueValue(e)},getModel:function(){return t.getModel()},setModel:function(e){t.setModel(e),n.refreshVirtualRows()}}},r);function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(6),n=(o.prototype.refreshAfterNewRowsLoaded=function(e,t){this.createAllUniqueValues(),this.createAvailableUniqueValues();var n=Object.keys(this.selectedValuesMap);this.selectedValuesMap={},this.processMiniFilter(),e?this.setModel(n,t):this.selectEverything()},o.prototype.refreshAfterAnyFilterChanged=function(){this.showingAvailableOnly&&(this.createAvailableUniqueValues(),this.processMiniFilter())},o.prototype.createAllUniqueValues=function(){this.usingProvidedSet?this.allUniqueValues=i.default.toStrings(this.filterParams.values):this.allUniqueValues=i.default.toStrings(this.getUniqueValues(!1)),this.sortValues(this.allUniqueValues)},o.prototype.createAvailableUniqueValues=function(){!this.showingAvailableOnly||this.usingProvidedSet?this.availableUniqueValues=this.allUniqueValues:(this.availableUniqueValues=i.default.toStrings(this.getUniqueValues(!0)),this.sortValues(this.availableUniqueValues))},o.prototype.sortValues=function(e){this.filterParams&&this.filterParams.comparator?e.sort(this.filterParams.comparator):this.colDef.comparator?e.sort(this.colDef.comparator):e.sort(i.default.defaultComparator)},o.prototype.getUniqueValues=function(i){var o=this,t={},n=[];function r(e){t.hasOwnProperty(e)||(n.push(e),t[e]=1)}return this.rowModel.forEachNode(function(e){if(!e.group){var t=o.valueGetter(e);if(""!==t&&void 0!==t||(t=null),!i||o.doesRowPassOtherFilters(e))if(null!=t&&Array.isArray(t))for(var n=0;n<t.length;n++)r(t[n]);else r(t)}}),n},o.prototype.setMiniFilter=function(e){return e=i.default.makeNull(e),this.miniFilter!==e&&(this.miniFilter=e,this.processMiniFilter(),!0)},o.prototype.getMiniFilter=function(){return this.miniFilter},o.prototype.processMiniFilter=function(){if(null===this.miniFilter)this.displayedValues=this.availableUniqueValues;else{this.displayedValues=[];for(var e=this.miniFilter.toUpperCase(),t=0,n=this.availableUniqueValues.length;t<n;t++){var i=this.availableUniqueValues[t];null!==i&&0<=i.toString().toUpperCase().indexOf(e)&&this.displayedValues.push(i)}}},o.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},o.prototype.getDisplayedValue=function(e){return this.displayedValues[e]},o.prototype.selectEverything=function(){for(var e=this.allUniqueValues.length,t=0;t<e;t++){var n=this.allUniqueValues[t];this.selectedValuesMap[n]=null}this.selectedValuesCount=e},o.prototype.isFilterActive=function(){return this.allUniqueValues.length!==this.selectedValuesCount},o.prototype.selectNothing=function(){this.selectedValuesMap={},this.selectedValuesCount=0},o.prototype.getUniqueValueCount=function(){return this.allUniqueValues.length},o.prototype.getUniqueValue=function(e){return this.allUniqueValues[e]},o.prototype.unselectValue=function(e){void 0!==this.selectedValuesMap[e]&&(delete this.selectedValuesMap[e],this.selectedValuesCount--)},o.prototype.selectValue=function(e){void 0===this.selectedValuesMap[e]&&(this.selectedValuesMap[e]=null,this.selectedValuesCount++)},o.prototype.isValueSelected=function(e){return void 0!==this.selectedValuesMap[e]},o.prototype.isEverythingSelected=function(){return this.allUniqueValues.length===this.selectedValuesCount},o.prototype.isNothingSelected=function(){return 0===this.allUniqueValues.length},o.prototype.getModel=function(){if(!this.isFilterActive())return null;var t=[];return i.default.iterateObject(this.selectedValuesMap,function(e){t.push(e)}),t},o.prototype.setModel=function(e,t){if(e&&!t){this.selectNothing();for(var n=0;n<e.length;n++){var i=e[n];0<=this.allUniqueValues.indexOf(i)?this.selectValue(e[n]):console.warn("Value "+i+" is not a valid value for filter")}}else this.selectEverything()},o);function o(e,t,n,i){this.colDef=e,this.rowModel=t,this.valueGetter=n,this.doesRowPassOtherFilters=i,this.filterParams=this.colDef.filterParams,this.usingProvidedSet=this.filterParams&&this.filterParams.values,this.showingAvailableOnly=this.filterParams&&!this.filterParams.suppressRemoveEntries,this.createAllUniqueValues(),this.createAvailableUniqueValues(),this.displayedValues=this.availableUniqueValues,this.miniFilter=null,this.selectedValuesMap={},this.selectEverything()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){i.prototype.init=function(e,t,n){this.gridOptionsWrapper=e,this.expressionService=t,this.columnController=n},i.prototype.getValue=function(e,t,n){var i=this.gridOptionsWrapper.isEnableCellExpressions(),o=e.field;return o=e.valueGetter?this.executeValueGetter(e.valueGetter,t,e,n):o&&t?this.getValueUsingField(t,o):void 0,i&&"string"==typeof o&&0===o.indexOf("=")&&(i=o.substring(1),o=this.executeValueGetter(i,t,e,n)),o},i.prototype.getValueUsingField=function(e,t){if(t&&e){if(t.indexOf(".")<0)return e[t];for(var n=t.split("."),i=e,o=0;o<n.length;o++)if(!(i=i[n[o]]))return null;return i}},i.prototype.setValueUsingField=function(e,t,n){if(t&&e)if(t.indexOf(".")<0)e[t]=n;else for(var i=t.split("."),o=e;0<i.length&&o;){var r=i.shift();0===i.length?o[r]=n:o=o[r]}},i.prototype.executeValueGetter=function(e,t,n,i){var o=this.gridOptionsWrapper.getContext(),n={data:t,node:i,colDef:n,api:this.gridOptionsWrapper.getApi(),context:o,getValue:this.getValueCallback.bind(this,t,i)};return"function"==typeof e?e(n):"string"==typeof e?this.expressionService.evaluate(e,n):void 0},i.prototype.getValueCallback=function(e,t,n){n=this.columnController.getColumn(n);return n?this.getValue(n.getColDef(),e,t):null};var n=i;function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var l=n(5),n=(i.prototype.init=function(e,t,n,i,o){this.gridOptionsWrapper=e,this.columnController=t,this.gridPanel=n,this.eventService=o,this.logger=i.create("MasterSlaveService"),o.addEventListener(l.Events.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),o.addEventListener(l.Events.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),o.addEventListener(l.Events.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),o.addEventListener(l.Events.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),o.addEventListener(l.Events.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this))},i.prototype.fireEvent=function(t){var e;this.consuming||(e=this.gridOptionsWrapper.getSlaveGrids())&&e.forEach(function(e){e.api&&(e=e.api.__getMasterSlaveService(),t(e))})},i.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},i.prototype.fireColumnEvent=function(t){this.fireEvent(function(e){e.onColumnEvent(t)})},i.prototype.fireHorizontalScrollEvent=function(t){this.fireEvent(function(e){e.onScrollEvent(t)})},i.prototype.onScrollEvent=function(e){var t=this;this.onEvent(function(){t.gridPanel.setHorizontalScrollPosition(e)})},i.prototype.getMasterColumns=function(e){var t=[];return e.getColumn()&&t.push(e.getColumn()),e.getColumns()&&e.getColumns().forEach(function(e){t.push(e)}),t},i.prototype.getColumnIds=function(e){var t=[];return e.getColumn()&&t.push(e.getColumn().getColId()),e.getColumns()&&e.getColumns().forEach(function(e){t.push(e.getColId())}),t},i.prototype.onColumnEvent=function(a){var s=this;this.onEvent(function(){var e=a.getColumn();if(e&&(t=s.columnController.getColumn(e.getColId())),!e||t){var t,n,i=a.getColumnGroup();if(i&&(e=i.getGroupId(),t=i.getInstanceId(),n=s.columnController.getColumnGroup(e,t)),!i||n){var o=s.getColumnIds(a),r=s.getMasterColumns(a);switch(a.getType()){case l.Events.EVENT_COLUMN_MOVED:s.logger.log("onColumnEvent-> processing "+a+" toIndex = "+a.getToIndex()),s.columnController.moveColumns(o,a.getToIndex());break;case l.Events.EVENT_COLUMN_VISIBLE:s.logger.log("onColumnEvent-> processing "+a+" visible = "+a.isVisible()),s.columnController.setColumnsVisible(o,a.isVisible());break;case l.Events.EVENT_COLUMN_PINNED:s.logger.log("onColumnEvent-> processing "+a+" pinned = "+a.getPinned()),s.columnController.setColumnsPinned(o,a.getPinned());break;case l.Events.EVENT_COLUMN_GROUP_OPENED:s.logger.log("onColumnEvent-> processing "+a+" expanded = "+i.isExpanded()),s.columnController.setColumnGroupOpened(n,i.isExpanded());break;case l.Events.EVENT_COLUMN_RESIZED:r.forEach(function(e){s.logger.log("onColumnEvent-> processing "+a+" actualWidth = "+e.getActualWidth()),s.columnController.setColumnWidth(e.getColId(),e.getActualWidth(),a.isFinished())})}}}})},i);function i(){this.consuming=!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(6),n=(o.prototype.init=function(e){this.logger=e.create("DragAndDropService");var t=this;this.mouseUpEventListener=function(){t.stopDragging()},document.addEventListener("mouseup",this.mouseUpEventListener),this.logger.log("initialised")},o.prototype.destroy=function(){document.removeEventListener("mouseup",this.mouseUpEventListener),this.logger.log("destroyed")},o.prototype.stopDragging=function(){this.dragItem&&(this.setDragCssClasses(this.dragItem.eDragSource,!1),this.dragItem=null)},o.prototype.setDragCssClasses=function(e,t){i.default.addOrRemoveCssClass(e,"ag-dragging",t),i.default.addOrRemoveCssClass(e,"ag-not-dragging",!t)},o.prototype.addDragSource=function(e,t){this.setDragCssClasses(e,!1),e.addEventListener("mousedown",this.onMouseDownDragSource.bind(this,e,t))},o.prototype.onMouseDownDragSource=function(e,t){var n,i;this.dragItem&&this.stopDragging(),t.getData&&(n=t.getData()),t.getContainerId&&(i=t.getContainerId()),this.dragItem={eDragSource:e,data:n,containerId:i},this.setDragCssClasses(this.dragItem.eDragSource,!0)},o.prototype.addDropTarget=function(e,t){var n=!1,i=!1,o=this;e.addEventListener("mouseover",function(){n||(n=!0,i=!!o.dragItem&&t.acceptDrag(o.dragItem))}),e.addEventListener("mouseout",function(){i&&t.noDrop(),i=n=!1}),e.addEventListener("mouseup",function(){i&&o.dragItem&&t.drop(o.dragItem)})},o);function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var a=n(6),i=n(42),o='<div class="ag-overlay-panel"><div class="ag-overlay-wrapper ag-overlay-[OVERLAY_NAME]-wrapper">[OVERLAY_TEMPLATE]</div></div>',n=(r.prototype.init=function(e,t,n,i,o,r){this.gridOptionsWrapper=e,this.forPrint=this.gridOptionsWrapper.isForPrint(),this.setupComponents(),this.scrollWidth=a.default.getScrollbarWidth(),this.columnController=t,this.rowRenderer=n,this.masterSlaveService=i,this.floatingRowModel=r,this.logger=o.create("GridPanel")},r.prototype.getLayout=function(){return this.layout},r.prototype.setupComponents=function(){this.forPrint?(this.eRoot=a.default.loadTemplate('<div><div class="ag-header-container"></div><div class="ag-floating-top-container"></div><div class="ag-body-container"></div><div class="ag-floating-bottom-container"></div></div>'),a.default.addCssClass(this.eRoot,"ag-root ag-no-scrolls")):(this.eRoot=a.default.loadTemplate('<div><div class="ag-header"><div class="ag-pinned-left-header"></div><div class="ag-pinned-right-header"></div><div class="ag-header-viewport"><div class="ag-header-container"></div></div><div class="ag-header-overlay"></div></div><div class="ag-floating-top"><div class="ag-pinned-left-floating-top"></div><div class="ag-pinned-right-floating-top"></div><div class="ag-floating-top-viewport"><div class="ag-floating-top-container"></div></div></div><div class="ag-floating-bottom"><div class="ag-pinned-left-floating-bottom"></div><div class="ag-pinned-right-floating-bottom"></div><div class="ag-floating-bottom-viewport"><div class="ag-floating-bottom-container"></div></div></div><div class="ag-body"><div class="ag-pinned-left-cols-viewport"><div class="ag-pinned-left-cols-container"></div></div><div class="ag-pinned-right-cols-viewport"><div class="ag-pinned-right-cols-container"></div></div><div class="ag-body-viewport-wrapper"><div class="ag-body-viewport"><div class="ag-body-container"></div></div></div></div></div>'),a.default.addCssClass(this.eRoot,"ag-root ag-scrolls")),this.findElements(),this.layout=new i.default({overlays:{loading:a.default.loadTemplate(this.createLoadingOverlayTemplate()),noRows:a.default.loadTemplate(this.createNoRowsOverlayTemplate())},center:this.eRoot,dontFill:this.forPrint,name:"eGridPanel"}),this.layout.addSizeChangeListener(this.onBodyHeightChange.bind(this)),this.addScrollListener(),this.gridOptionsWrapper.isSuppressHorizontalScroll()&&(this.eBodyViewport.style.overflowX="hidden")},r.prototype.setMovingCss=function(e){a.default.addOrRemoveCssClass(this.eRoot,"ag-column-moving",e)},r.prototype.getPinnedLeftFloatingTop=function(){return this.ePinnedLeftFloatingTop},r.prototype.getPinnedRightFloatingTop=function(){return this.ePinnedRightFloatingTop},r.prototype.getFloatingTopContainer=function(){return this.eFloatingTopContainer},r.prototype.getPinnedLeftFloatingBottom=function(){return this.ePinnedLeftFloatingBottom},r.prototype.getPinnedRightFloatingBottom=function(){return this.ePinnedRightFloatingBottom},r.prototype.getFloatingBottomContainer=function(){return this.eFloatingBottomContainer},r.prototype.createOverlayTemplate=function(e,t,n){e=o.replace("[OVERLAY_NAME]",e);return e=n?e.replace("[OVERLAY_TEMPLATE]",n):e.replace("[OVERLAY_TEMPLATE]",t)},r.prototype.createLoadingOverlayTemplate=function(){var e=this.gridOptionsWrapper.getOverlayLoadingTemplate(),e=this.createOverlayTemplate("loading",'<span class="ag-overlay-loading-center">[LOADING...]</span>',e),t=this.gridOptionsWrapper.getLocaleTextFunc();return e.replace("[LOADING...]",t("loadingOoo","Loading..."))},r.prototype.createNoRowsOverlayTemplate=function(){var e=this.gridOptionsWrapper.getOverlayNoRowsTemplate(),e=this.createOverlayTemplate("no-rows",'<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e),t=this.gridOptionsWrapper.getLocaleTextFunc();return e.replace("[NO_ROWS_TO_SHOW]",t("noRowsToShow","No Rows To Show"))},r.prototype.ensureIndexVisible=function(e){this.logger.log("ensureIndexVisible: "+e);var t,n,i,o,r=this.rowModel.getVirtualRowCount();"number"!=typeof e||e<0||r<=e?console.warn("invalid row index for ensureIndexVisible: "+e):(r=(e=(r=this.rowModel.getVirtualRow(e)).rowTop)+r.rowHeight,i=this.eBodyViewport.scrollTop,t=this.eBodyViewport.offsetHeight,this.isHorizontalScrollShowing()&&(t-=this.scrollWidth),n=e<i,i=i+t<r,o=this.columnController.isPinningRight()?this.ePinnedRightColsViewport:this.eBodyViewport,n?o.scrollTop=e:i&&(o.scrollTop=r-t))},r.prototype.getCenterWidth=function(){return this.eBodyViewport.clientWidth},r.prototype.isHorizontalScrollShowing=function(){return this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth},r.prototype.isVerticalScrollShowing=function(){return!this.columnController.isPinningRight()&&this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight},r.prototype.periodicallyCheck=function(){var e;this.columnController.isPinningRight()&&(e=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth,this.ePinnedRightColsContainer.style.marginBottom=e?this.scrollWidth+"px":"")},r.prototype.ensureColumnVisible=function(e){var t,n,i,o,e=this.columnController.getColumn(e);e.isPinned()?console.warn("calling ensureIndexVisible on a "+e.getPinned()+" pinned column doesn't make sense for column "+e.getColId()):this.columnController.isColumnDisplayed(e)?(e=(t=e.getLeft())+e.getActualWidth(),n=this.eBodyViewport.scrollLeft,i=this.eBodyViewport.offsetWidth,this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight&&(i-=this.scrollWidth),o=n+i<e,t<n?this.eBodyViewport.scrollLeft=t:o&&(this.eBodyViewport.scrollLeft=e-i)):console.warn("column is not currently visible")},r.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.layout.showOverlay("loading")},r.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.layout.showOverlay("noRows")},r.prototype.hideOverlay=function(){this.layout.hideOverlay()},r.prototype.getWidthForSizeColsToFit=function(){var e=this.eBody.clientWidth;return this.isVerticalScrollShowing()&&(e-=this.scrollWidth),e},r.prototype.sizeColumnsToFit=function(e){var t=this,n=this.getWidthForSizeColsToFit();0<n?this.columnController.sizeColumnsToFit(n):void 0===e?setTimeout(function(){t.sizeColumnsToFit(100)},0):100===e?setTimeout(function(){t.sizeColumnsToFit(-1)},100):console.log("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},r.prototype.setRowModel=function(e){this.rowModel=e},r.prototype.getBodyContainer=function(){return this.eBodyContainer},r.prototype.getBodyViewport=function(){return this.eBodyViewport},r.prototype.getPinnedLeftColsContainer=function(){return this.ePinnedLeftColsContainer},r.prototype.getPinnedRightColsContainer=function(){return this.ePinnedRightColsContainer},r.prototype.getHeaderContainer=function(){return this.eHeaderContainer},r.prototype.getHeaderOverlay=function(){return this.eHeaderOverlay},r.prototype.getRoot=function(){return this.eRoot},r.prototype.getPinnedLeftHeader=function(){return this.ePinnedLeftHeader},r.prototype.getPinnedRightHeader=function(){return this.ePinnedRightHeader},r.prototype.getRowsParent=function(){return this.eParentsOfRows},r.prototype.queryHtmlElement=function(e){return this.eRoot.querySelector(e)},r.prototype.findElements=function(){this.forPrint?(this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eParentsOfRows=[this.eBodyContainer,this.eFloatingTopContainer,this.eFloatingBottomContainer]):(this.eBody=this.queryHtmlElement(".ag-body"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eBodyViewport=this.queryHtmlElement(".ag-body-viewport"),this.eBodyViewportWrapper=this.queryHtmlElement(".ag-body-viewport-wrapper"),this.ePinnedLeftColsContainer=this.queryHtmlElement(".ag-pinned-left-cols-container"),this.ePinnedRightColsContainer=this.queryHtmlElement(".ag-pinned-right-cols-container"),this.ePinnedLeftColsViewport=this.queryHtmlElement(".ag-pinned-left-cols-viewport"),this.ePinnedRightColsViewport=this.queryHtmlElement(".ag-pinned-right-cols-viewport"),this.ePinnedLeftHeader=this.queryHtmlElement(".ag-pinned-left-header"),this.ePinnedRightHeader=this.queryHtmlElement(".ag-pinned-right-header"),this.eHeader=this.queryHtmlElement(".ag-header"),this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eHeaderOverlay=this.queryHtmlElement(".ag-header-overlay"),this.eHeaderViewport=this.queryHtmlElement(".ag-header-viewport"),this.eFloatingTop=this.queryHtmlElement(".ag-floating-top"),this.ePinnedLeftFloatingTop=this.queryHtmlElement(".ag-pinned-left-floating-top"),this.ePinnedRightFloatingTop=this.queryHtmlElement(".ag-pinned-right-floating-top"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingBottom=this.queryHtmlElement(".ag-floating-bottom"),this.ePinnedLeftFloatingBottom=this.queryHtmlElement(".ag-pinned-left-floating-bottom"),this.ePinnedRightFloatingBottom=this.queryHtmlElement(".ag-pinned-right-floating-bottom"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eParentsOfRows=[this.eBody,this.eFloatingTop,this.eFloatingBottom],this.ePinnedLeftColsViewport.addEventListener("mousewheel",this.pinnedLeftMouseWheelListener.bind(this)),this.eBodyViewport.addEventListener("mousewheel",this.centerMouseWheelListener.bind(this)),this.ePinnedLeftColsViewport.addEventListener("DOMMouseScroll",this.pinnedLeftMouseWheelListener.bind(this)),this.eBodyViewport.addEventListener("DOMMouseScroll",this.centerMouseWheelListener.bind(this)))},r.prototype.getHeaderViewport=function(){return this.eHeaderViewport},r.prototype.centerMouseWheelListener=function(e){if(this.columnController.isPinningRight())return this.generalMouseWheelListener(e,this.ePinnedRightColsViewport)},r.prototype.pinnedLeftMouseWheelListener=function(e){var t=this.columnController.isPinningRight()?this.ePinnedRightColsViewport:this.eBodyViewport;return this.generalMouseWheelListener(e,t)},r.prototype.generalMouseWheelListener=function(e,t){if(e.deltaY&&0!=e.deltaX)n=e.deltaY;else if(e.wheelDelta&&0!=e.wheelDelta)n=-e.wheelDelta;else{if(!e.detail||0==e.detail)return;n=20*e.detail}var n=this.eBodyViewport.scrollTop+n;return t.scrollTop=n,e.preventDefault(),!1},r.prototype.setBodyContainerWidth=function(){var e=this.columnController.getBodyContainerWidth()+"px";this.eBodyContainer.style.width=e,this.forPrint||(this.eFloatingBottomContainer.style.width=e,this.eFloatingTopContainer.style.width=e)},r.prototype.setPinnedColContainerWidth=function(){var e;this.forPrint||(e=this.columnController.getPinnedLeftContainerWidth()+"px",this.ePinnedLeftColsContainer.style.width=e,this.ePinnedLeftFloatingBottom.style.width=e,this.ePinnedLeftFloatingTop.style.width=e,this.eBodyViewportWrapper.style.marginLeft=e,e=this.columnController.getPinnedRightContainerWidth()+"px",this.ePinnedRightColsContainer.style.width=e,this.ePinnedRightFloatingBottom.style.width=e,this.ePinnedRightFloatingTop.style.width=e,this.eBodyViewportWrapper.style.marginRight=e)},r.prototype.showPinnedColContainersIfNeeded=function(){this.forPrint||(this.columnController.isPinningLeft()?(this.ePinnedLeftHeader.style.display="inline-block",this.ePinnedLeftColsViewport.style.display="inline"):(this.ePinnedLeftHeader.style.display="none",this.ePinnedLeftColsViewport.style.display="none"),this.columnController.isPinningRight()?(this.ePinnedRightHeader.style.display="inline-block",this.ePinnedRightColsViewport.style.display="inline",this.eBodyViewport.style.overflowY="hidden"):(this.ePinnedRightHeader.style.display="none",this.ePinnedRightColsViewport.style.display="none",this.eBodyViewport.style.overflowY="auto"))},r.prototype.onBodyHeightChange=function(){this.sizeHeaderAndBody()},r.prototype.sizeHeaderAndBody=function(){var e,t,n,i,o,r;this.forPrint||(r=this.layout.getCentreHeight())&&(e=this.gridOptionsWrapper.getHeaderHeight()*this.columnController.getHeaderRowCount(),this.eHeader.style.height=e+"px",n=e+(t=this.floatingRowModel.getFloatingTopTotalHeight()),o=r-(i=this.floatingRowModel.getFloatingBottomTotalHeight()),r=r-e-i-t,this.eBody.style.paddingTop=n+"px",this.eBody.style.paddingBottom=i+"px",this.eFloatingTop.style.top=e+"px",this.eFloatingTop.style.height=t+"px",this.eFloatingBottom.style.height=i+"px",this.eFloatingBottom.style.top=o+"px",this.ePinnedLeftColsViewport.style.height=r+"px",this.ePinnedRightColsViewport.style.height=r+"px")},r.prototype.setHorizontalScrollPosition=function(e){this.eBodyViewport.scrollLeft=e},r.prototype.scrollHorizontally=function(e){var t=this.eBodyViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.eBodyViewport.scrollLeft-t},r.prototype.getHorizontalScrollPosition=function(){return this.eBodyViewport.scrollLeft},r.prototype.addScrollListener=function(){var t=this;this.forPrint||(this.eBodyViewport.addEventListener("scroll",function(){var e=t.eBodyViewport.scrollLeft;e!==t.lastLeftPosition&&(t.lastLeftPosition=e,t.horizontallyScrollHeaderCenterAndFloatingCenter(e),t.masterSlaveService.fireHorizontalScrollEvent(e)),t.columnController.isPinningRight()||(e=t.eBodyViewport.scrollTop)!==t.lastTopPosition&&(t.lastTopPosition=e,t.verticallyScrollLeftPinned(e),t.requestDrawVirtualRows())}),this.ePinnedRightColsViewport.addEventListener("scroll",function(){var e=t.ePinnedRightColsViewport.scrollTop;e!==t.lastTopPosition&&(t.lastTopPosition=e,t.verticallyScrollLeftPinned(e),t.verticallyScrollBody(e),t.requestDrawVirtualRows())}),this.ePinnedLeftColsViewport.addEventListener("scroll",function(){t.ePinnedLeftColsViewport.scrollTop=0}))},r.prototype.requestDrawVirtualRows=function(){var e,t=this,n=!this.gridOptionsWrapper.isSuppressScrollLag()&&(this.gridOptionsWrapper.getIsScrollLag()?this.gridOptionsWrapper.getIsScrollLag()():a.default.isBrowserIE()||a.default.isBrowserSafari());n?(this.scrollLagCounter++,e=this.scrollLagCounter,setTimeout(function(){t.scrollLagCounter===e&&t.rowRenderer.drawVirtualRows()},50)):this.rowRenderer.drawVirtualRows()},r.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){this.eHeaderContainer.style.left=-e+"px",this.eFloatingBottomContainer.style.left=-e+"px",this.eFloatingTopContainer.style.left=-e+"px"},r.prototype.verticallyScrollLeftPinned=function(e){this.ePinnedLeftColsContainer.style.top=-e+"px"},r.prototype.verticallyScrollBody=function(e){this.eBodyViewport.scrollTop=e},r);function r(){this.scrollLagCounter=0,this.lastLeftPosition=-1,this.lastTopPosition=-1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var o=n(6),n=(i.prototype.addSizeChangeListener=function(e){this.sizeChangeListeners.push(e)},i.prototype.fireSizeChanged=function(){this.sizeChangeListeners.forEach(function(e){e()})},i.prototype.setupPanels=function(e){this.eNorthWrapper=this.eGui.querySelector("#north"),this.eSouthWrapper=this.eGui.querySelector("#south"),this.eEastWrapper=this.eGui.querySelector("#east"),this.eWestWrapper=this.eGui.querySelector("#west"),this.eCenterWrapper=this.eGui.querySelector("#center"),this.eOverlayWrapper=this.eGui.querySelector("#overlay"),this.eCenterRow=this.eGui.querySelector("#centerRow"),this.eNorthChildLayout=this.setupPanel(e.north,this.eNorthWrapper),this.eSouthChildLayout=this.setupPanel(e.south,this.eSouthWrapper),this.eEastChildLayout=this.setupPanel(e.east,this.eEastWrapper),this.eWestChildLayout=this.setupPanel(e.west,this.eWestWrapper),this.eCenterChildLayout=this.setupPanel(e.center,this.eCenterWrapper)},i.prototype.setupPanel=function(e,t){if(t)return e?e.isLayoutPanel?(this.childPanels.push(e),t.appendChild(e.getGui()),e):(t.appendChild(e),null):(t.parentNode.removeChild(t),null)},i.prototype.getGui=function(){return this.eGui},i.prototype.doLayout=function(){if(!o.default.isVisible(this.eGui))return!1;var e,t=!1,n=[this.eNorthChildLayout,this.eSouthChildLayout,this.eEastChildLayout,this.eWestChildLayout],i=this;return o.default.forEach(n,function(e){i.layoutChild(e)&&(t=!0)}),this.layoutActive&&(n=this.layoutHeight(),e=this.layoutWidth(),(n||e)&&(t=!0)),(t=this.layoutChild(this.eCenterChildLayout)?!0:t)&&this.fireSizeChanged(),t},i.prototype.layoutChild=function(e){return!!e&&e.doLayout()},i.prototype.layoutHeight=function(){return this.fullHeight?this.layoutHeightFullHeight():this.layoutHeightNormal()},i.prototype.layoutHeightFullHeight=function(){var e=o.default.offsetHeight(this.eGui);return this.centerHeightLastTime!==(e=e<0?0:e)&&(this.centerHeightLastTime=e,!0)},i.prototype.layoutHeightNormal=function(){var e=o.default.offsetHeight(this.eGui)-o.default.offsetHeight(this.eNorthWrapper)-o.default.offsetHeight(this.eSouthWrapper);return this.centerHeightLastTime!==(e=e<0?0:e)&&(this.eCenterRow.style.height=e+"px",this.centerHeightLastTime=e,!0)},i.prototype.getCentreHeight=function(){return this.centerHeightLastTime},i.prototype.layoutWidth=function(){var e=o.default.offsetWidth(this.eGui)-o.default.offsetWidth(this.eEastWrapper)-o.default.offsetWidth(this.eWestWrapper);this.eCenterWrapper.style.width=(e=e<0?0:e)+"px"},i.prototype.setEastVisible=function(e){this.eEastWrapper&&(this.eEastWrapper.style.display=e?"":"none"),this.doLayout()},i.prototype.setupOverlays=function(){this.overlays?this.hideOverlay():this.eOverlayWrapper.parentNode.removeChild(this.eOverlayWrapper)},i.prototype.hideOverlay=function(){o.default.removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="none"},i.prototype.showOverlay=function(e){e=this.overlays?this.overlays[e]:null;e?(o.default.removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="",this.eOverlayWrapper.appendChild(e)):(console.log("ag-Grid: unknown overlay"),this.hideOverlay())},i.prototype.setSouthVisible=function(e){this.eSouthWrapper&&(this.eSouthWrapper.style.display=e?"":"none"),this.doLayout()},i);function i(e){var t;this.sizeChangeListeners=[],this.isLayoutPanel=!0,this.fullHeight=!e.north&&!e.south,e.dontFill?this.layoutActive=!(t='<div style="position: relative;"><div id="north"></div><div id="centerRow"><div id="west"></div><div id="east"></div><div id="center"></div></div><div id="south"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>'):(t=this.fullHeight?'<div style="height: 100%; overflow: auto; position: relative;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>':'<div style="height: 100%; position: relative;"><div id="north"></div><div id="centerRow" style="height: 100%; overflow: hidden;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div></div><div id="south"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>',this.layoutActive=!0),this.eGui=o.default.loadTemplate(t),this.id="borderLayout",e.name&&(this.id+="_"+e.name),this.eGui.setAttribute("id",this.id),this.childPanels=[],e&&this.setupPanels(e),this.overlays=e.overlays,this.setupOverlays()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var h=n(44),i=n(3);function o(e,t,n,i,o,r,a,s,l,c,u,d,p){this.grid=e,this.rowRenderer=t,this.headerRenderer=n,this.filterManager=i,this.columnController=o,this.inMemoryRowController=r,this.selectionController=a,this.gridOptionsWrapper=s,this.gridPanel=l,this.valueService=c,this.masterSlaveService=u,this.eventService=d,this.floatingRowModel=p,this.csvCreator=new h.default(this.inMemoryRowController,this.columnController,this.grid,this.valueService)}o.prototype.__getMasterSlaveService=function(){return this.masterSlaveService},o.prototype.getDataAsCsv=function(e){return this.csvCreator.getDataAsCsv(e)},o.prototype.exportDataAsCsv=function(e){this.csvCreator.exportDataAsCsv(e)},o.prototype.setDatasource=function(e){this.grid.setDatasource(e)},o.prototype.onNewDatasource=function(){console.log("ag-Grid: onNewDatasource deprecated, please use setDatasource()"),this.grid.setDatasource()},o.prototype.setRowData=function(e){this.grid.setRowData(e)},o.prototype.setRows=function(e){console.log("ag-Grid: setRows deprecated, please use setRowData()"),this.grid.setRowData(e)},o.prototype.onNewRows=function(){console.log("ag-Grid: onNewRows deprecated, please use setRowData()"),this.grid.setRowData()},o.prototype.setFloatingTopRowData=function(e){this.floatingRowModel.setFloatingTopRowData(e),this.gridPanel.onBodyHeightChange(),this.refreshView()},o.prototype.setFloatingBottomRowData=function(e){this.floatingRowModel.setFloatingBottomRowData(e),this.gridPanel.onBodyHeightChange(),this.refreshView()},o.prototype.onNewCols=function(){console.error("ag-Grid: deprecated, please call setColumnDefs instead providing a list of the defs"),this.grid.setColumnDefs()},o.prototype.setColumnDefs=function(e){this.grid.setColumnDefs(e)},o.prototype.unselectAll=function(){console.error("unselectAll deprecated, call deselectAll instead"),this.deselectAll()},o.prototype.refreshRows=function(e){this.rowRenderer.refreshRows(e)},o.prototype.refreshCells=function(e,t){this.rowRenderer.refreshCells(e,t)},o.prototype.rowDataChanged=function(e){this.rowRenderer.rowDataChanged(e)},o.prototype.refreshView=function(){this.rowRenderer.refreshView()},o.prototype.softRefreshView=function(){this.rowRenderer.softRefreshView()},o.prototype.refreshGroupRows=function(){this.rowRenderer.refreshGroupRows()},o.prototype.refreshHeader=function(){this.headerRenderer.refreshHeader(),this.headerRenderer.updateFilterIcons()},o.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},o.prototype.isAdvancedFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},o.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},o.prototype.getModel=function(){return this.grid.getRowModel()},o.prototype.onGroupExpandedOrCollapsed=function(e){this.grid.updateModelAndRefresh(i.default.STEP_MAP,e)},o.prototype.expandAll=function(){this.inMemoryRowController.expandOrCollapseAll(!0,null),this.grid.updateModelAndRefresh(i.default.STEP_MAP)},o.prototype.collapseAll=function(){this.inMemoryRowController.expandOrCollapseAll(!1,null),this.grid.updateModelAndRefresh(i.default.STEP_MAP)},o.prototype.addVirtualRowListener=function(e,t,n){"string"!=typeof e&&console.log("ag-Grid: addVirtualRowListener has changed, the first parameter should be the event name, pleae check the documentation."),this.grid.addVirtualRowListener(e,t,n)},o.prototype.setQuickFilter=function(e){this.grid.onQuickFilterChanged(e)},o.prototype.selectIndex=function(e,t,n){this.selectionController.selectIndex(e,t,n)},o.prototype.deselectIndex=function(e,t){this.selectionController.deselectIndex(e,t=void 0===t?!1:t)},o.prototype.selectNode=function(e,t,n){this.selectionController.selectNode(e,t=void 0===t?!1:t,n=void 0===n?!1:n)},o.prototype.deselectNode=function(e,t){this.selectionController.deselectNode(e,t=void 0===t?!1:t)},o.prototype.selectAll=function(){this.selectionController.selectAll(),this.rowRenderer.refreshView()},o.prototype.deselectAll=function(){this.selectionController.deselectAll(),this.rowRenderer.refreshView()},o.prototype.recomputeAggregates=function(){this.inMemoryRowController.doAggregate(),this.rowRenderer.refreshGroupRows()},o.prototype.sizeColumnsToFit=function(){this.gridOptionsWrapper.isForPrint()?console.warn("ag-grid: sizeColumnsToFit does not work when forPrint=true"):this.gridPanel.sizeColumnsToFit()},o.prototype.showLoadingOverlay=function(){this.grid.showLoadingOverlay()},o.prototype.showNoRowsOverlay=function(){this.grid.showNoRowsOverlay()},o.prototype.hideOverlay=function(){this.grid.hideOverlay()},o.prototype.showLoading=function(e){console.warn("ag-Grid: showLoading is deprecated, please use api.showLoadingOverlay() and api.hideOverlay() instead"),e?this.grid.showLoadingOverlay():this.grid.hideOverlay()},o.prototype.isNodeSelected=function(e){return this.selectionController.isNodeSelected(e)},o.prototype.getSelectedNodesById=function(){return this.selectionController.getSelectedNodesById()},o.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},o.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},o.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},o.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},o.prototype.ensureColIndexVisible=function(e){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},o.prototype.ensureColumnVisible=function(e){this.gridPanel.ensureColumnVisible(e)},o.prototype.ensureIndexVisible=function(e){this.gridPanel.ensureIndexVisible(e)},o.prototype.ensureNodeVisible=function(e){this.grid.ensureNodeVisible(e)},o.prototype.forEachInMemory=function(e){console.warn("ag-Grid: please use forEachNode instead of forEachInMemory, method is same, I just renamed it, forEachInMemory is deprecated"),this.forEachNode(e)},o.prototype.forEachNode=function(e){this.grid.getRowModel().forEachNode(e)},o.prototype.forEachNodeAfterFilter=function(e){this.grid.getRowModel().forEachNodeAfterFilter(e)},o.prototype.forEachNodeAfterFilterAndSort=function(e){this.grid.getRowModel().forEachNodeAfterFilterAndSort(e)},o.prototype.getFilterApiForColDef=function(e){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterApi instead"),this.getFilterApi(e)},o.prototype.getFilterApi=function(e){e=this.columnController.getColumn(e);return this.filterManager.getFilterApi(e)},o.prototype.getColumnDef=function(e){e=this.columnController.getColumn(e);return e?e.getColDef():null},o.prototype.onFilterChanged=function(){this.grid.onFilterChanged()},o.prototype.setSortModel=function(e){this.grid.setSortModel(e)},o.prototype.getSortModel=function(){return this.grid.getSortModel()},o.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},o.prototype.getFilterModel=function(){return this.grid.getFilterModel()},o.prototype.getFocusedCell=function(){return this.rowRenderer.getFocusedCell()},o.prototype.setFocusedCell=function(e,t){this.grid.setFocusedCell(e,t)},o.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setHeaderHeight(e),this.gridPanel.onBodyHeightChange()},o.prototype.showToolPanel=function(e){this.grid.showToolPanel(e)},o.prototype.isToolPanelShowing=function(){return this.grid.isToolPanelShowing()},o.prototype.doLayout=function(){this.grid.doLayout()},o.prototype.getValue=function(e,t,n){return this.valueService.getValue(e,t,n)},o.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},o.prototype.addGlobalListener=function(e){this.eventService.addGlobalListener(e)},o.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},o.prototype.removeGlobalListener=function(e){this.eventService.removeGlobalListener(e)},o.prototype.dispatchEvent=function(e,t){this.eventService.dispatchEvent(e,t)},o.prototype.refreshRowGroup=function(){this.grid.refreshRowGroup()},o.prototype.destroy=function(){this.grid.destroy()},t.GridApi=o},function(e,t){i.prototype.exportDataAsCsv=function(e){var t,n=this.getDataAsCsv(e),e=e&&e.fileName&&0!==e.fileName.length?e.fileName:"export.csv",n=new Blob(["\ufeff",n],{type:"text/csv;charset=utf-8;"});window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(n,e):((t=document.createElement("a")).href=window.URL.createObjectURL(n),t.download=e,document.body.appendChild(t),t.click(),document.body.removeChild(t))},i.prototype.getDataAsCsv=function(e){var i=this;if(!this.grid.isUsingInMemoryModel())return console.log("ag-Grid: getDataAsCsv not available when doing virtual pagination"),"";var o="",t=e&&e.skipGroups,n=e&&e.skipHeader,r=e&&e.skipFooters,a=e&&e.customHeader,s=e&&e.customFooter,l=e&&e.allColumns,c=e&&e.columnSeparator||",",u=l?this.columnController.getAllColumns():this.columnController.getAllDisplayedColumns();return u&&0!==u.length?(a&&(o+=e.customHeader),n||(u.forEach(function(e,t){e=i.columnController.getDisplayNameForCol(e);0!=t&&(o+=c),o+='"'+i.escape(e=null==e?"":e)+'"'}),o+="\r\n"),this.rowController.forEachNodeAfterFilterAndSort(function(n){t&&n.group||r&&n.footer||(u.forEach(function(e,t){e=n.group&&0===t?i.createValueForGroupNode(n):i.valueService.getValue(e.getColDef(),n.data,n);0!=t&&(o+=c),o+='"'+i.escape(e=null==e?"":e)+'"'}),o+="\r\n")}),s&&(o+=e.customFooter),o):""},i.prototype.createValueForGroupNode=function(e){for(var t=[e.key];e.parent;)e=e.parent,t.push(e.key);return t.reverse().join(" -> ")},i.prototype.escape=function(e){if(null==e)return"";e="string"==typeof e?e:"function"==typeof e.toString?e.toString():(console.warn("known value type during csv conversio"),"");return e.replace(/"/g,'""')};var n=i;function i(e,t,n,i){this.rowController=e,this.columnController=t,this.grid=n,this.valueService=i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var r=n(6),i=n(27).default.getInstance(),n=(o.prototype.init=function(e){this.gridOptionsWrapper=e},o.prototype.createHeaderElement=function(e){var t,n={column:e,colDef:e.getColDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},i=e.getColDef().headerCellTemplate;return"string"==typeof(i=(i=!(i=!(i="function"==typeof i?i(n):i)&&this.gridOptionsWrapper.getHeaderCellTemplate()?this.gridOptionsWrapper.getHeaderCellTemplate():i)&&this.gridOptionsWrapper.getHeaderCellTemplateFunc()?this.gridOptionsWrapper.getHeaderCellTemplateFunc()(n):i)||this.createDefaultHeaderElement(e))?t=r.default.loadTemplate(i):r.default.isNodeOrElement(i)?t=i:console.error("ag-Grid: header template must be a string or an HTML element"),t},o.prototype.createDefaultHeaderElement=function(e){var t=r.default.loadTemplate(o.HEADER_CELL_TEMPLATE);return this.addInIcon(t,"sortAscending","#agSortAsc",e,i.createArrowUpSvg),this.addInIcon(t,"sortDescending","#agSortDesc",e,i.createArrowDownSvg),this.addInIcon(t,"sortUnSort","#agNoSort",e,i.createArrowUpDownSvg),this.addInIcon(t,"menu","#agMenu",e,i.createMenuSvg),this.addInIcon(t,"filter","#agFilter",e,i.createFilterSvg),t},o.prototype.addInIcon=function(e,t,n,i,o){t=r.default.createIconNoSpan(t,this.gridOptionsWrapper,i,o);e.querySelector(n).appendChild(t)},o.HEADER_CELL_TEMPLATE='<div class="ag-header-cell">  <div id="agResizeBar" class="ag-header-cell-resize"></div>  <span id="agMenu" class="ag-header-icon ag-header-cell-menu-button"></span>  <div id="agHeaderCellLabel" class="ag-header-cell-label">    <span id="agSortAsc" class="ag-header-icon ag-sort-ascending-icon"></span>    <span id="agSortDesc" class="ag-header-icon ag-sort-descending-icon"></span>    <span id="agNoSort" class="ag-header-icon ag-sort-none-icon"></span>    <span id="agFilter" class="ag-header-icon ag-filter-icon"></span>    <span id="agText" class="ag-header-cell-text"></span>  </div></div>',o);function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(47),d=n(17),c=n(8),n=(o.prototype.init=function(e,t,n){this.gridOptionsWrapper=e,this.columnUtils=n,this.logger=t.create("BalancedColumnTreeBuilder")},o.prototype.createBalancedColumnGroups=function(e){var t=new i.default,e=this.recursivelyCreateColumns(e,0,t),n=this.findMaxDept(e,0),e=(this.logger.log("Number of levels for grouped columns is "+n),this.balanceColumnTree(e,0,n,t));return this.columnUtils.deptFirstOriginalTreeSearch(e,function(e){e instanceof d.OriginalColumnGroup&&e.calculateExpandable()}),{balancedTree:e,treeDept:n}},o.prototype.balanceColumnTree=function(e,a,s,l){var c=this,u=[];return e.forEach(function(e){if(e instanceof d.OriginalColumnGroup){var t=e,n=c.balanceColumnTree(t.getChildren(),a+1,s,l);t.setChildren(n),u.push(t)}else{for(var i=e,o=s-1;a<=o;o--){var r=l.getUniqueKey(null,null),r=new d.OriginalColumnGroup(null,r);r.setChildren([i]),i=r}u.push(i)}}),u},o.prototype.findMaxDept=function(e,t){for(var n=t,i=0;i<e.length;i++){var o=e[i];o instanceof d.OriginalColumnGroup&&(n<(o=this.findMaxDept(o.getChildren(),t+1))&&(n=o))}return n},o.prototype.recursivelyCreateColumns=function(e,i,o){var r=this,a=[];if(!e)return a;var s=this.gridOptionsWrapper.getMinColWidth(),l=this.gridOptionsWrapper.getMaxColWidth();return e.forEach(function(e){var t,n;r.checkForDeprecatedItems(e),r.isColumnGroup(e)?(t=o.getUniqueKey((n=e).groupId,null),t=new d.OriginalColumnGroup(n,t),n=r.recursivelyCreateColumns(n.children,i+1,o),t.setChildren(n),a.push(t)):(t=r.columnUtils.calculateColInitialWidth(n=e),e=o.getUniqueKey(n.colId,n.field),n=new c.default(n,t,e,s,l),a.push(n))}),a},o.prototype.checkForDeprecatedItems=function(e){e&&(void 0!==(e=e).group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"))},o.prototype.isColumnGroup=function(e){return void 0!==e.children},o);function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){i.prototype.getUniqueKey=function(e,t){for(var n,i=0;;){if(e?(n=e,0!==i&&(n+="_"+i)):t?(n=t,0!==i&&(n+="_"+i)):n=""+i,this.existingKeys.indexOf(n)<0)return this.existingKeys.push(n),n;i++}};var n=i;function i(){this.existingKeys=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var f=n(15),l=n(17),n=(i.prototype.init=function(e){this.columnUtils=e},i.prototype.createDisplayedGroups=function(e,l,c){var u,d,p=this,h=[];return e.forEach(function(e){for(var t,n,i,o=p.getOriginalPathForColumn(l,e),r=[],a=!d,s=0;s<o.length;s++)a||o[s]!==d[s]?(t=(i=o[s]).getGroupId(),n=c.getInstanceIdForKey(t),i=new f.default(i,t,n),r[s]=i,0==s?h.push(i):r[s-1].addChild(i)):r[s]=u[s];0===r.length?h.push(e):r[r.length-1].addChild(e),u=r,d=o}),h},i.prototype.createFakePath=function(e){for(var t=[],n=e,i=0;n&&n[0]&&n[0]instanceof l.OriginalColumnGroup;)t.push(new l.OriginalColumnGroup(null,"FAKE_PATH_"+i)),n=n[0].getChildren(),i++;return t},i.prototype.getOriginalPathForColumn=function(e,r){var a=[],s=!1;return function e(t,n){for(var i=0;i<t.length;i++){if(s)return;var o=t[i];o instanceof l.OriginalColumnGroup?(e(o.getChildren(),n+1),a[n]=o):o===r&&(s=!0)}}(e,0),s?a:this.createFakePath(e)},i);function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var r=n(1),n=(i.prototype.init=function(e,t){this.grid=e,this.selectionController=t},i.prototype.createSelectionCheckbox=function(e,t){var n=this,i=document.createElement("input"),o=(i.type="checkbox",i.name="name",i.className="ag-selection-checkbox",this.setCheckboxState(i,this.selectionController.isNodeSelected(e)),this);return i.onclick=function(e){e.stopPropagation()},i.onchange=function(){i.checked?o.selectionController.selectIndex(t,!0):o.selectionController.deselectIndex(t)},this.grid.addVirtualRowListener(r.Grid.VIRTUAL_ROW_SELECTED,t,function(e){n.setCheckboxState(i,e)}),i},i.prototype.setCheckboxState=function(e,t){"boolean"==typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0},i);function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){i.prototype.init=function(e){this.logger=e.create("ExpressionService")},i.prototype.evaluate=function(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.node,e.data,e.colDef,e.rowIndex,e.api,e.getValue)}catch(e){return this.logger.log("Processing of the expression failed"),this.logger.log("Expression = "+t),this.logger.log("Exception = "+e),null}},i.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),t=new Function("x, ctx, node, data, colDef, rowIndex, api, getValue",t);return this.expressionToFunctionCache[e]=t},i.prototype.createFunctionBody=function(e){return 0<=e.indexOf("return")?e:"return "+e+";"};var n=i;function i(){this.expressionToFunctionCache={}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){i.prototype.init=function(e){this.$scope=e},i.prototype.getTemplate=function(e,t){var n=this.templateCache[e];if(n)return n;var i,n=this.waitingCallbacks[e],o=this;return n||(this.waitingCallbacks[e]=n=[],(i=new XMLHttpRequest).onload=function(){o.handleHttpResult(this,e)},i.open("GET",e),i.send()),t&&n.push(t),null},i.prototype.handleHttpResult=function(e,t){if(200!==e.status||null===e.response)console.warn("Unable to get template error "+e.status+" - "+t);else{this.templateCache[t]=e.response||e.responseText;for(var n,i=this.waitingCallbacks[t],o=0;o<i.length;o++)(0,i[o])();this.$scope&&(n=this,setTimeout(function(){n.$scope.$apply()},0))}};var n=i;function i(){this.templateCache={},this.waitingCallbacks={}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var c=n(6),u=n(3),n=(i.prototype.init=function(e){this.ePopupParent=e},i.prototype.positionPopup=function(e,t,n){var e=e.getBoundingClientRect(),i=this.ePopupParent.getBoundingClientRect(),o=e.left-i.left,e=e.top-i.top+e.height;n&&(n=0<t.clientWidth?t.clientWidth:200,(o=(i=i.right-i.left-n)<o?i:o)<0&&(o=0)),t.style.left=o+"px",t.style.top=e+"px"},i.prototype.addAsModalPopup=function(t,e){var n=document.body;if(n){var i,o,r=c.default.isVisible(t);if(!r)return this.ePopupParent.appendChild(t),i=this,setTimeout(function(){e&&n.addEventListener("keydown",a),n.addEventListener("click",s),t.addEventListener("click",l)},0),o=null,s}else console.warn("ag-grid: could not find the body of the document, document.body is empty");function a(e){(e.which||e.keyCode)===u.default.KEY_ESCAPE&&s(null)}function s(e){e&&e===o||(i.ePopupParent.removeChild(t),n.removeEventListener("keydown",a),n.removeEventListener("click",s),t.removeEventListener("click",l))}function l(e){o=e}},i);function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){i.prototype.init=function(e,t){this.valueService=e,this.gridOptionsWrapper=t},i.prototype.group=function(e,t,n){for(var i,o,r,a,s,l={level:-1,children:[],_childrenMap:{}},c=[],u=(c.push(l),t.length-1),d=!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),p=-1,h=0;h<e.length;h++)for(r=(o=e[h]).data,o.level=1+u,i=0;i<t.length;i++){var f=t[i],g=this.valueService.getValue(f.getColDef(),r,o);(s=(a=0===i?l:a)._childrenMap[g])||(s={group:!0,field:f.getColDef().field,id:p--,key:g,expanded:this.isExpanded(n,i),children:[],parent:null,allChildrenCount:0,level:a.level+1,_childrenMap:{}},d&&(s.parent=a===l?null:a),a._childrenMap[g]=s,a.children.push(s),c.push(s)),s.allChildrenCount++,i==u?(d&&(o.parent=s===l?null:s),s.children.push(o)):a=s}for(h=0;h<c.length;h++)delete c[h]._childrenMap;return l.children},i.prototype.isExpanded=function(e,t){return"number"==typeof e&&(-1===e||t<e)};var n=i;function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){function n(){}n.prototype.init=function(e){this.logging=e.isDebug()},n.prototype.create=function(e){return new i(e,this.logging)},t.LoggerFactory=n;o.prototype.log=function(e){this.logging&&console.log("ag-Grid."+this.name+": "+e)};var i=o;function o(e,t){this.name=e,this.logging=t}t.Logger=i},function(e,t,n){var l=n(15),i=n(17),n=(o.prototype.init=function(e){this.gridOptionsWrapper=e},o.prototype.calculateColInitialWidth=function(e){return e.width?e.width<this.gridOptionsWrapper.getMinColWidth()?this.gridOptionsWrapper.getMinColWidth():e.width:this.gridOptionsWrapper.getColWidth()},o.prototype.getPathForColumn=function(r,e){var a=[],s=!1;return function e(t,n){for(var i=0;i<t.length;i++){if(s)return;var o=t[i];o instanceof l.default?(e(o.getChildren(),n+1),a[n]=o):o===r&&(s=!0)}}(e,0),s?a:null},o.prototype.deptFirstOriginalTreeSearch=function(e,t){var n=this;e&&e.forEach(function(e){e instanceof i.OriginalColumnGroup&&n.deptFirstOriginalTreeSearch(e.getChildren(),t),t(e)})},o.prototype.deptFirstAllColumnTreeSearch=function(e,t){var n=this;e&&e.forEach(function(e){e instanceof l.default&&n.deptFirstAllColumnTreeSearch(e.getChildren(),t),t(e)})},o.prototype.deptFirstDisplayedColumnTreeSearch=function(e,t){var n=this;e&&e.forEach(function(e){e instanceof l.default&&n.deptFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)})},o);function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){i.prototype.init=function(e,t){this.gridPanel=t,this.rowRenderer=e},i.prototype.getPreferredWidthForColumn=function(e){var i=document.createElement("span"),t=(i.style.position="fixed",i.style.backgroundColor="red",this.gridPanel.getBodyContainer());t.appendChild(i);this.rowRenderer.getAllCellsForColumn(e).forEach(function(e,t){var e=e.cloneNode(!0),n=(e.style.width="",e.style.position="static",e.style.left="",document.createElement("div"));n.style.display="table-row",n.appendChild(e),i.appendChild(n)});e=i.offsetWidth;return t.removeChild(i),e+4};var n=i;function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var u=n(6),i=n(58),d=n(59),p=n(61),h=n(63),n=(o.prototype.init=function(e,t,n,i,o,r){var a=n.isToolPanelSuppressGroups(),s=n.isToolPanelSuppressValues(),l=!a,s=!a&&!s,c=new d.default(e,n,o,r),a=(this.layout.addPanel(c.layout,a?"100%":"50%"),c.getDragSource()),c=(s&&(c=new p.default(e,n,i,o,r),this.layout.addPanel(c.getLayout(),"25%"),c.addDragSource(a)),l&&(i=new h.default(e,t,n,o,r),this.layout.addPanel(i.layout,s?"25%":"50%"),i.addDragSource(a)),this.layout.getGui());u.default.addCssClass(c,"ag-tool-panel-container")},o);function o(){this.layout=new i.default}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){i.prototype.addPanel=function(e,t){e=e.isLayoutPanel?(this.childPanels.push(e),e.getGui()):e;t&&(e.style.height=t),this.eGui.appendChild(e)},i.prototype.getGui=function(){return this.eGui},i.prototype.doLayout=function(){for(var e=0;e<this.childPanels.length;e++)this.childPanels[e].doLayout()};var n=i;function i(){this.isLayoutPanel=!0,this.childPanels=[],this.eGui=document.createElement("div"),this.eGui.style.height="100%"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var s=n(6),i=n(27),o=n(5),r=n(60),a=n(42),l=i.default.getInstance(),n=(c.prototype.columnsChanged=function(){this.cColumnList.setModel(this.columnController.getAllColumns())},c.prototype.getDragSource=function(){return this.cColumnList.getUniqueId()},c.prototype.columnCellRenderer=function(e){var t=e.value,e=this.columnController.getDisplayNameForCol(t),n=document.createElement("span"),i=document.createElement("span"),o=(s.default.addCssClass(i,"ag-visible-icons"),s.default.createIcon("columnVisible",this.gridOptionsWrapper,t,l.createColumnShowingSvg)),r=s.default.createIcon("columnHidden",this.gridOptionsWrapper,t,l.createColumnHiddenSvg),o=(i.appendChild(o),i.appendChild(r),o.style.display=t.visible?"":"none",r.style.display=t.visible?"none":"",n.appendChild(i),document.createElement("span")),a=(o.innerHTML=e,n.appendChild(o),t.visible||s.default.addCssClass(n,"ag-column-not-visible"),i.addEventListener("click",function(){a.columnController.setColumnVisible(t,!t.visible)}),this);return n},c.prototype.setupComponents=function(){this.cColumnList=new r.default(this.dragAndDropService),this.cColumnList.setCellRenderer(this.columnCellRenderer.bind(this)),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.addItemMovedListener(this.onItemMoved.bind(this)),this.cColumnList.setReadOnly(!0);var e=this.gridOptionsWrapper.getLocaleTextFunc()("columns","Columns"),t=document.createElement("div");t.innerHTML='<div style="text-align: center;">'+e+"</div>",this.layout=new a.default({center:this.cColumnList.getGui(),north:t})},c.prototype.onItemMoved=function(e,t){this.columnController.moveColumnByIndex(e,t)},c.prototype.getGui=function(){return this.eRootPanel.getGui()},c);function c(e,t,n,i){this.dragAndDropService=i,this.gridOptionsWrapper=t,this.columnController=e,this.setupComponents(),n.addEventListener(o.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.columnsChanged.bind(this)),n.addEventListener(o.Events.EVENT_COLUMN_MOVED,this.columnsChanged.bind(this)),n.addEventListener(o.Events.EVENT_COLUMN_VISIBLE,this.columnsChanged.bind(this))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var o,i=n(6),n=((n=o=o||{})[n.NOT_DROP_TARGET=0]="NOT_DROP_TARGET",n[n.DROP_TARGET_ABOVE=1]="DROP_TARGET_ABOVE",n[n.DROP_TARGET_BELOW=2]="DROP_TARGET_BELOW",r.prototype.setReadOnly=function(e){this.readOnly=e},r.prototype.setEmptyMessage=function(e){this.emptyMessage=e,this.refreshView()},r.prototype.getUniqueId=function(){return this.uniqueId},r.prototype.addStyles=function(e){i.default.addStylesToElement(this.eGui,e)},r.prototype.addCssClass=function(e){i.default.addCssClass(this.eGui,e)},r.prototype.addDragSource=function(e){this.dragSources.push(e)},r.prototype.addModelChangedListener=function(e){this.modelChangedListeners.push(e)},r.prototype.addItemSelectedListener=function(e){this.itemSelectedListeners.push(e)},r.prototype.addItemMovedListener=function(e){this.itemMovedListeners.push(e)},r.prototype.addBeforeDropListener=function(e){this.beforeDropListeners.push(e)},r.prototype.fireItemMoved=function(e,t){for(var n=0;n<this.itemMovedListeners.length;n++)this.itemMovedListeners[n](e,t)},r.prototype.fireModelChanged=function(){for(var e=0;e<this.modelChangedListeners.length;e++)this.modelChangedListeners[e](this.model)},r.prototype.fireItemSelected=function(e){for(var t=0;t<this.itemSelectedListeners.length;t++)this.itemSelectedListeners[t](e)},r.prototype.fireBeforeDrop=function(e){for(var t=0;t<this.beforeDropListeners.length;t++)this.beforeDropListeners[t](e)},r.prototype.setupComponents=function(){this.eGui=i.default.loadTemplate('<div class="ag-list-selection"><div><div ag-repeat class="ag-list-item"></div></div></div>'),this.eFilterValueTemplate=this.eGui.querySelector("[ag-repeat]"),this.eListParent=this.eFilterValueTemplate.parentNode,i.default.removeAllChildren(this.eListParent)},r.prototype.setModel=function(e){this.model=e,this.refreshView()},r.prototype.getModel=function(){return this.model},r.prototype.setCellRenderer=function(e){this.cellRenderer=e},r.prototype.refreshView=function(){i.default.removeAllChildren(this.eListParent),this.model&&0<this.model.length?this.insertRows():this.insertBlankMessage()},r.prototype.insertRows=function(){for(var e=0;e<this.model.length;e++){var t=this.model[e],n=this.eFilterValueTemplate.cloneNode(!0);this.cellRenderer?i.default.useRenderer(n,this.cellRenderer,{value:t}):n.innerHTML=t,n.addEventListener("click",this.fireItemSelected.bind(this,t)),this.addDragAndDropToListItem(n,t),this.eListParent.appendChild(n)}},r.prototype.insertBlankMessage=function(){var e;this.emptyMessage&&((e=document.createElement("div")).style.color="grey",e.style.padding="4px",e.style.textAlign="center",e.innerHTML=this.emptyMessage,this.eListParent.appendChild(e))},r.prototype.setupAsDropTarget=function(){this.dragAndDropService.addDropTarget(this.eGui,{acceptDrag:this.externalAcceptDrag.bind(this),drop:this.externalDrop.bind(this),noDrop:this.externalNoDrop.bind(this)})},r.prototype.externalAcceptDrag=function(e){return 0<=this.dragSources.indexOf(e.containerId)&&(!(0<=this.model.indexOf(e.data))&&(this.eGui.style.backgroundColor="lightgreen",!0))},r.prototype.externalDrop=function(e){e=e.data;this.fireBeforeDrop(e),this.readOnly||this.addItemToList(e),this.eGui.style.backgroundColor=""},r.prototype.externalNoDrop=function(){this.eGui.style.backgroundColor=""},r.prototype.addItemToList=function(e){this.model.push(e),this.refreshView(),this.fireModelChanged()},r.prototype.addDragAndDropToListItem=function(t,n){var i=this;this.dragAndDropService.addDragSource(t,{getData:function(){return n},getContainerId:function(){return i.uniqueId}}),this.dragAndDropService.addDropTarget(t,{acceptDrag:function(e){return i.internalAcceptDrag(n,e,t)},drop:function(e){i.internalDrop(n,e.data)},noDrop:function(){i.internalNoDrop(t)}})},r.prototype.internalAcceptDrag=function(e,t,n){var i=t.data!==e&&t.containerId===this.uniqueId;return i&&(this.dragAfterThisItem(e,t.data)?this.setDropCssClasses(n,o.DROP_TARGET_ABOVE):this.setDropCssClasses(n,o.DROP_TARGET_BELOW)),i},r.prototype.internalDrop=function(e,t){var n=this.model.indexOf(t),e=this.model.indexOf(e);this.readOnly?this.fireItemMoved(n,e):(this.model.splice(n,1),this.model.splice(e,0,t),this.refreshView(),this.fireModelChanged())},r.prototype.internalNoDrop=function(e){this.setDropCssClasses(e,o.NOT_DROP_TARGET)},r.prototype.dragAfterThisItem=function(e,t){return this.model.indexOf(e)<this.model.indexOf(t)},r.prototype.setDropCssClasses=function(e,t){i.default.addOrRemoveCssClass(e,"ag-not-drop-target",t===o.NOT_DROP_TARGET),i.default.addOrRemoveCssClass(e,"ag-drop-target-above",t===o.DROP_TARGET_ABOVE),i.default.addOrRemoveCssClass(e,"ag-drop-target-below",t===o.DROP_TARGET_BELOW)},r.prototype.getGui=function(){return this.eGui},r);function r(e){this.readOnly=!1,this.dragAndDropService=e,this.setupComponents(),this.uniqueId="CheckboxSelection-"+Math.random(),this.modelChangedListeners=[],this.itemSelectedListeners=[],this.itemMovedListeners=[],this.beforeDropListeners=[],this.dragSources=[],this.setupAsDropTarget()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(27),r=n(6),a=n(5),s=n(62),l=n(8),o=n(60),c=n(42),u=i.default.getInstance(),n=(d.prototype.getLayout=function(){return this.layout},d.prototype.columnsChanged=function(){this.cColumnList.setModel(this.columnController.getValueColumns())},d.prototype.addDragSource=function(e){this.cColumnList.addDragSource(e)},d.prototype.cellRenderer=function(e){var t=e.value,e=this.columnController.getDisplayNameForCol(t),n=document.createElement("span"),i=r.default.createIcon("columnRemoveFromGroup",this.gridOptionsWrapper,t,u.createArrowUpSvg),o=(r.default.addCssClass(i,"ag-visible-icons"),n.appendChild(i),this),i=(i.addEventListener("click",function(){o.columnController.removeValueColumn(t)}),new s.default(this.popupService,this.dragAndDropService)),i=(i.setModel([l.default.AGG_SUM,l.default.AGG_MIN,l.default.AGG_MAX]),i.setSelected(t.aggFunc),i.setWidth(45),i.addItemSelectedListener(function(e){o.columnController.setColumnAggFunction(t,e)}),n.appendChild(i.getGui()),document.createElement("span"));return i.innerHTML=e,i.style.paddingLeft="2px",n.appendChild(i),n},d.prototype.setupComponents=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("valueColumns","Aggregations"),e=e("valueColumnsEmptyMessage","Drag columns from above to aggregate values"),e=(this.cColumnList=new o.default(this.dragAndDropService),this.cColumnList.setCellRenderer(this.cellRenderer.bind(this)),this.cColumnList.setEmptyMessage(e),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.addBeforeDropListener(this.beforeDropListener.bind(this)),this.cColumnList.setReadOnly(!0),document.createElement("div"));e.style.paddingTop="10px",e.innerHTML='<div style="text-align: center;">'+t+"</div>",this.layout=new c.default({center:this.cColumnList.getGui(),north:e})},d.prototype.beforeDropListener=function(e){this.columnController.addValueColumn(e)},d);function d(e,t,n,i,o){this.dragAndDropService=o,this.popupService=n,this.gridOptionsWrapper=t,this.setupComponents(),this.columnController=e,i.addEventListener(a.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.columnsChanged.bind(this)),i.addEventListener(a.Events.EVENT_COLUMN_VALUE_CHANGE,this.columnsChanged.bind(this))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var i=n(6),o=n(27),r=n(60),a=o.default.getInstance(),n=(s.prototype.setWidth=function(e){this.eValue.style.width=e+"px",this.agList.addStyles({width:e+"px"})},s.prototype.addItemSelectedListener=function(e){this.itemSelectedListeners.push(e)},s.prototype.fireItemSelected=function(e){for(var t=0;t<this.itemSelectedListeners.length;t++)this.itemSelectedListeners[t](e)},s.prototype.setupComponents=function(e){this.eGui=document.createElement("span"),this.eValue=document.createElement("span"),this.eGui.appendChild(this.eValue),this.agList=new r.default(e),this.eValue.addEventListener("click",this.onClick.bind(this)),this.agList.addItemSelectedListener(this.itemSelected.bind(this)),this.agList.addCssClass("ag-popup-list"),i.default.addStylesToElement(this.eValue,{border:"1px solid darkgrey",display:"inline-block",paddingLeft:2}),i.default.addStylesToElement(this.eGui,{position:"relative"}),this.agList.addStyles({display:"inline-block",position:"absolute",top:0,left:0,backgroudColor:"white"})},s.prototype.itemSelected=function(e){this.setSelected(e),this.hidePopupCallback&&this.hidePopupCallback(),this.fireItemSelected(e)},s.prototype.onClick=function(){var e=this.agList.getGui();this.popupService.positionPopup(this.eGui,e,!1),this.hidePopupCallback=this.popupService.addAsModalPopup(e,!0)},s.prototype.getGui=function(){return this.eGui},s.prototype.setSelected=function(e){this.selectedItem=e,this.refreshView()},s.prototype.setCellRenderer=function(e){this.agList.setCellRenderer(e),this.cellRenderer=e},s.prototype.refreshView=function(){i.default.removeAllChildren(this.eValue),this.selectedItem&&(this.cellRenderer?(e={value:this.selectedItem},i.default.useRenderer(this.eValue,this.cellRenderer,e)):this.eValue.appendChild(document.createTextNode(this.selectedItem)));var e=a.createSmallArrowDownSvg();e.style.float="right",e.style.marginTop="6",e.style.marginRight="2",this.eValue.appendChild(e)},s.prototype.setModel=function(e){this.agList.setModel(e)},s);function s(e,t){this.popupService=e,this.setupComponents(t),this.itemSelectedListeners=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var r=n(6),i=n(27),a=n(5),o=n(60),s=n(42),l=i.default.getInstance(),n=(c.prototype.columnsChanged=function(){this.cColumnList.setModel(this.columnController.getRowGroupColumns())},c.prototype.addDragSource=function(e){this.cColumnList.addDragSource(e)},c.prototype.columnCellRenderer=function(e){var t=e.value,e=this.columnController.getDisplayNameForCol(t),n=document.createElement("span"),i=r.default.createIcon("columnRemoveFromGroup",this.gridOptionsWrapper,t,l.createArrowUpSvg),o=(r.default.addCssClass(i,"ag-visible-icons"),n.appendChild(i),this),i=(i.addEventListener("click",function(){o.columnController.removeRowGroupColumn(t)}),document.createElement("span"));return i.innerHTML=e,n.appendChild(i),n},c.prototype.setupComponents=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("rowGroupColumns","Row Groupings"),e=e("rowGroupColumnsEmptyMessage","Drag columns from above to group rows"),e=(this.cColumnList=new o.default(this.dragAndDropService),this.cColumnList.setCellRenderer(this.columnCellRenderer.bind(this)),this.cColumnList.addBeforeDropListener(this.onBeforeDrop.bind(this)),this.cColumnList.addItemMovedListener(this.onItemMoved.bind(this)),this.cColumnList.setEmptyMessage(e),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.setReadOnly(!0),document.createElement("div"));e.style.paddingTop="10px",e.innerHTML='<div style="text-align: center;">'+t+"</div>",this.layout=new s.default({center:this.cColumnList.getGui(),north:e})},c.prototype.onBeforeDrop=function(e){this.columnController.addRowGroupColumn(e)},c.prototype.onItemMoved=function(e,t){this.columnController.moveRowGroupColumn(e,t)},c);function c(e,t,n,i,o){this.dragAndDropService=o,this.gridOptionsWrapper=n,this.setupComponents(),this.columnController=e,this.inMemoryRowController=t,i.addEventListener(a.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.columnsChanged.bind(this)),i.addEventListener(a.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,this.columnsChanged.bind(this))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){function n(){}n.prototype.addDragHandling=function(t){t.eDraggableElement.addEventListener("mousedown",function(e){new i(t,e)})},t.DragService=n;o.prototype.startDragging=function(){this.draggingStarted=!0,this.oldBodyCursor=this.params.eBody.style.cursor,this.oldParentCursor=this.eDragParent.style.cursor,this.oldMsUserSelect=this.eDragParent.style.msUserSelect,this.oldWebkitUserSelect=this.eDragParent.style.webkitUserSelect,this.params.eBody.style.cursor=this.params.cursor,this.eDragParent.style.cursor=this.params.cursor,this.eDragParent.style.msUserSelect="none",this.eDragParent.style.webkitUserSelect="none",this.params.onDragStart(this.startEvent)},o.prototype.onMouseMove=function(e){e=e.clientX;this.lastDelta=e-this.dragStartX,this.draggingStarted||Math.abs(this.lastDelta)>=this.params.startAfterPixels&&this.startDragging(),this.draggingStarted&&this.params.onDragging(this.lastDelta,!1)},o.prototype.onMouseUp=function(){this.stopDragging()},o.prototype.onMouseLeave=function(){this.stopDragging()},o.prototype.stopDragging=function(){this.draggingStarted&&(this.params.eBody.style.cursor=this.oldBodyCursor,this.eDragParent.style.cursor=this.oldParentCursor,this.eDragParent.style.msUserSelect=this.oldMsUserSelect,this.eDragParent.style.webkitUserSelect=this.oldWebkitUserSelect,this.params.onDragging(this.lastDelta,!0)),this.eDragParent.removeEventListener("mousemove",this.mouseMove),this.eDragParent.removeEventListener("mouseup",this.mouseUp),this.eDragParent.removeEventListener("mouseleave",this.mouseLeave)};var i=o;function o(e,t){this.mouseMove=this.onMouseMove.bind(this),this.mouseUp=this.onMouseUp.bind(this),this.mouseLeave=this.onMouseLeave.bind(this),this.lastDelta=0,this.params=e,this.eDragParent=document.querySelector("body"),this.dragStartX=t.clientX,this.startEvent=t,this.eDragParent.addEventListener("mousemove",this.mouseMove),this.eDragParent.addEventListener("mouseup",this.mouseUp),this.eDragParent.addEventListener("mouseleave",this.mouseLeave),this.draggingStarted=!1,"number"==typeof e.startAfterPixels&&0<e.startAfterPixels||this.startDragging()}},function(e,t,n){var a=n(1);function i(e,t,n,i){var o,i=i.agGrid,r=i+".quickFilterText",i=t.$eval(i);i?(e=e[0],o=new a.Grid(e,i,null,t,n,r),t.$on("$destroy",function(){o.destroy()})):console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}t.initialiseAgGridWithAngular1=function(e){e.module("agGrid",[]).directive("agGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",i],scope:!0}})}},function(e,t,n){var i=n(4),o=n(1);t.initialiseAgGridWithWebComponents=function(){"undefined"!=typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var e=Object.create(HTMLElement.prototype);i.ComponentUtil.ALL_PROPERTIES.forEach(function(t){Object.defineProperty(e,t,{set:function(e){this.__agGridSetProperty(t,e)},get:function(){return this.__agGridGetProperty(t)}})}),e.__agGridSetProperty=function(e,t){this.__attributes||(this.__attributes={}),this.__attributes[e]=t;var n={};n[e]={currentValue:t},this.onChange(n)},e.onChange=function(e){this._initialised&&i.ComponentUtil.processOnChange(e,this._gridOptions,this.api)},e.__agGridGetProperty=function(e){return this.__attributes||(this.__attributes={}),this.__attributes[e]},e.setGridOptions=function(e){var t=this.globalEventListener.bind(this);this._gridOptions=i.ComponentUtil.copyAttributesToGridOptions(e,this),this._agGrid=new o.Grid(this,this._gridOptions,t),this.api=e.api,this.columnApi=e.columnApi,this._initialised=!0},e.createdCallback=function(){for(var e=0;e<this.attributes.length;e++){var t=this.attributes[e];this.setPropertyFromAttribute(t)}},e.setPropertyFromAttribute=function(e){var t="string"==typeof(t=e.nodeName)?t.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}):t,e=e.nodeValue;0<=i.ComponentUtil.ALL_PROPERTIES.indexOf(t)&&(this[t]=e)},e.attachedCallback=function(e){},e.detachedCallback=function(e){},e.attributeChangedCallback=function(e){e=this.attributes[e];this.setPropertyFromAttribute(e)},e.globalEventListener=function(e,t){var e=e.toLowerCase(),n=new Event(e),t=(n.agGridDetails=t,this.dispatchEvent(n),"on"+e);"function"==typeof this[t]&&this[t](n)},document.registerElement("ag-grid",{prototype:e})}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){var i=n(75);"string"==typeof i&&(i=[[e.id,i,""]]),n(77)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(76)()).push([e.id,"ag-grid-ng2 {\n  display: inline-block;\n}\n.ag-root {\n  font-size: 14px;\n  cursor: default;\n/* set to relative, so absolute popups appear relative to this */\n  position: relative;\n/* disable user mouse selection */\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n/* was getting some 'should be there' scrolls, this sorts it out */\n  overflow: hidden;\n}\n.ag-no-scrolls {\n  white-space: nowrap;\n  display: inline-block;\n}\n.ag-scrolls {\n  height: 100%;\n}\n.ag-popup-backdrop {\n  position: fixed;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n}\n.ag-header {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  width: 100%;\n}\n.ag-pinned-left-header {\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-pinned-right-header {\n  float: right;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-header-viewport {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-scrolls .ag-header-container {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  white-space: nowrap;\n  height: 100%;\n}\n.ag-no-scrolls .ag-header-container {\n  white-space: nowrap;\n}\n.ag-header-overlay {\n  display: block;\n  position: absolute;\n}\n.ag-header-cell {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  vertical-align: bottom;\n  text-align: center;\n  display: inline-block;\n  height: 100%;\n}\n.ag-header-group-cell {\n  height: 100%;\n  display: inline-block;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-header-group-cell-label {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-header-cell-label {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-header-cell-resize {\n  height: 100%;\n  width: 4px;\n  float: right;\n  cursor: col-resize;\n}\n.ag-header-expand-icon {\n  padding-left: 4px;\n}\n.ag-header-cell-menu-button {\n  float: right;\n}\n.ag-overlay-panel {\n  display: table;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n.ag-overlay-wrapper {\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n}\n.ag-body {\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.ag-floating-top {\n  position: absolute;\n  left: 0px;\n  width: 100%;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.ag-pinned-left-floating-top {\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-pinned-right-floating-top {\n  float: right;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-top-viewport {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-top-container {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  white-space: nowrap;\n}\n.ag-floating-bottom {\n  position: absolute;\n  left: 0px;\n  width: 100%;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.ag-pinned-left-floating-bottom {\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-pinned-right-floating-bottom {\n  float: right;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-bottom-viewport {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-bottom-container {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  white-space: nowrap;\n}\n.ag-pinned-left-cols-viewport {\n  float: left;\n  overflow: hidden;\n}\n.ag-pinned-left-cols-container {\n  display: inline-block;\n  position: relative;\n}\n.ag-pinned-right-cols-viewport {\n  float: right;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.ag-pinned-right-cols-container {\n  display: inline-block;\n  position: relative;\n}\n.ag-body-viewport-wrapper {\n  height: 100%;\n}\n.ag-body-viewport {\n  overflow-x: auto;\n  overflow-y: auto;\n  height: 100%;\n}\n.ag-scrolls .ag-body-container {\n  position: relative;\n  display: inline-block;\n}\n.ag-scrolls .ag-row {\n  white-space: nowrap;\n  position: absolute;\n  width: 100%;\n}\n.ag-no-scrolls .ag-row {\n  position: relative;\n}\n.agile-gird-row:hover {\n  background-color: #f0f8ff;\n}\n.ag-cell {\n  display: inline-block;\n  white-space: nowrap;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  position: absolute;\n}\n.ag-group-cell-entire-row {\n  width: 100%;\n  display: inline-block;\n  white-space: nowrap;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-footer-cell-entire-row {\n  width: 100%;\n  display: inline-block;\n  white-space: nowrap;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-large .ag-root {\n  font-size: 20px;\n}\n.ag-filter {\n  position: absolute;\n  z-index: 100;\n}\n.ag-filter-list-viewport {\n  overflow-x: auto;\n  height: 200px;\n  width: 200px;\n}\n.ag-filter-list-container {\n  position: relative;\n  overflow: hidden;\n}\n.ag-filter-item {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  position: absolute;\n}\n.ag-filter-filter {\n  width: 170px;\n  margin: 4px;\n}\n.ag-filter-select {\n  width: 110px;\n  margin: 4px 4px 0px 4px;\n}\n.ag-no-vertical-scroll .ag-scrolls {\n  height: unset;\n}\n.ag-no-vertical-scroll .ag-body {\n  height: unset;\n}\n.ag-no-vertical-scroll .ag-body-viewport-wrapper {\n  height: unset;\n}\n.ag-no-vertical-scroll .ag-body-viewport {\n  height: unset;\n}\n.ag-list-selection {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: default;\n}\n.ag-tool-panel-container {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: default;\n  width: 200px;\n}\n",""])},function(e,t){e.exports=function(){var a=[];return a.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<e.length;i++){var r=e[i];"number"==typeof r[0]&&n[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]="("+r[2]+") and ("+t+")"),a.push(r))}},a}},function(e,t,n){function i(e){var t;return function(){return t=void 0===t?e.apply(this,arguments):t}}var l={},o=i(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),r=i(function(){return document.head||document.getElementsByTagName("head")[0]}),s=null,c=0,a=[];function u(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=l[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(g(i.parts[r],t))}else{for(var a=[],r=0;r<i.parts.length;r++)a.push(g(i.parts[r],t));l[i.id]={id:i.id,refs:1,parts:a}}}}function d(e){for(var t=[],n={},i=0;i<e.length;i++){var o=e[i],r=o[0],o={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(o):t.push(n[r]={id:r,parts:[o]})}return t}function p(e,t){var n=r(),i=a[a.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),a.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function h(e){e.parentNode.removeChild(e);e=a.indexOf(e);0<=e&&a.splice(e,1)}function f(e){var t=document.createElement("style");return t.type="text/css",p(e,t),t}function g(t,e){var n,i,o,r,a;return o=e.singleton?(r=c++,n=s=s||f(e),i=b.bind(null,n,r,!1),b.bind(null,n,r,!0)):t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=e,(a=document.createElement("link")).rel="stylesheet",p(r,a),n=a,i=function(e,t){var n=t.css,t=(t.media,t.sourceMap);t&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */");t=new Blob([n],{type:"text/css"}),n=e.href;e.href=URL.createObjectURL(t),n&&URL.revokeObjectURL(n)}.bind(null,n),function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=f(e),i=function(e,t){var n=t.css,i=t.media;t.sourceMap;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){h(n)}),i(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||i(t=e):o()}}e.exports=function(e,a){void 0===(a=a||{}).singleton&&(a.singleton=o()),void 0===a.insertAt&&(a.insertAt="bottom");var s=d(e);return u(s,a),function(e){for(var t=[],n=0;n<s.length;n++){var i=s[n];(o=l[i.id]).refs--,t.push(o)}e&&u(d(e),a);for(var o,n=0;n<t.length;n++)if(0===(o=t[n]).refs){for(var r=0;r<o.parts.length;r++)o.parts[r]();delete l[o.id]}}};m=[];var m,v=function(e,t){return m[e]=t,m.filter(Boolean).join("\n")};function b(e,t,n,i){var n=n?"":i.css;e.styleSheet?e.styleSheet.cssText=v(t,n):(i=document.createTextNode(n),(n=e.childNodes)[t]&&e.removeChild(n[t]),n.length?e.insertBefore(i,n[t]):e.appendChild(i))}},function(e,t,n){var i=n(79);"string"==typeof i&&(i=[[e.id,i,""]]),n(77)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(76)()).push([e.id,'.ag-blue .ag-root {\n  border: 1px solid #9bc2e6;\n  font: 10pt Calibri, "Segoe UI", Thonburi, Arial, Verdana, sans-serif;\n}\n.ag-blue .ag-cell {\n  top: -1px;\n  padding-left: 2px;\n  padding-right: 2px;\n  overflow: hidden;\n  white-space: nowrap;\n  letter-spacing: -0.02em;\n}\n.ag-blue .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-blue .ag-cell-focus {\n  background: #fff;\n  border: 2px solid #217346;\n}\n.ag-blue .ag-cell-no-focus {\n  border-right: 1px dotted #9bc2e6;\n  border-top: 2px solid transparent;\n  border-left: 2px solid transparent;\n  border-bottom: 1px solid #9bc2e6;\n}\n.ag-blue .ag-cell-first-right-pinned {\n  border-left: 1px dotted #9bc2e6;\n}\n.ag-blue .ag-header {\n  background-color: #5b9bd5;\n  border-bottom: 1px solid #9bc2e6;\n}\n.ag-blue .ag-no-scrolls .ag-header-container {\n  background-color: #5b9bd5;\n  border-bottom: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-cell {\n  border-right: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-cell-moving .ag-header-cell-label {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.ag-blue .ag-header-cell-moving-clone {\n  border-right: 1px solid #808080;\n  border-left: 1px solid #808080;\n  background-color: rgba(91,155,213,0.8);\n}\n.ag-blue .ag-header-cell-moving {\n  background-color: #9bc2e6;\n}\n.ag-blue .ag-header-group-cell {\n  border-right: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-group-cell-with-group {\n  border-bottom: 1px solid #9bc2e6;\n}\n.ag-blue .ag-pinned-right-header {\n  border-left: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n  font-weight: bold;\n  color: #fff;\n}\n.ag-blue .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-blue .ag-header-group-cell-label {\n  padding: 4px;\n  font-weight: bold;\n  color: #fff;\n  padding-left: 10px;\n}\n.ag-blue .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-blue .ag-header-cell-menu-button {\n  color: #fff;\n  border: 1px solid #a6acb3;\n  padding: 2px;\n  margin-top: 3px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  line-height: 0px; /* normal line height, a space was appearing below the menu button */\n/* When using bootstrap, box-sizing was set to \'border-box\' */\n}\n.ag-blue .ag-header-icon {\n  color: #fff;\n  stroke: #fff;\n  fill: #fff;\n}\n.ag-blue .ag-dark .ag-header-expand-icon:hover {\n  cursor: pointer;\n}\n.ag-blue .ag-row-odd {\n  background-color: #ddebf7;\n}\n.ag-blue .ag-row-even {\n  background-color: #fff;\n}\n.ag-blue .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-blue .ag-overlay-loading-center {\n  background-color: #fff;\n  border: 1px solid #a9a9a9;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-blue .ag-body {\n  background-color: #fafafa;\n}\n.ag-blue .ag-row-selected {\n  background-color: #c7c7c7;\n}\n.ag-blue .ag-group-cell-entire-row {\n  background-color: #fff;\n  font-weight: bold;\n  padding: 2px 4px;\n  border-bottom: solid 1px #9bc2e6;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.ag-blue .ag-footer-cell-entire-row {\n  background-color: #fff;\n  font-weight: bold;\n  padding: 4px;\n  border-bottom: solid 1px #9bc2e6;\n}\n.ag-blue .ag-group-cell {\n  font-style: italic;\n}\n.ag-blue .ag-group-expand {\n  padding-right: 2px;\n}\n.ag-blue .ag-footer-cell {\n  font-style: italic;\n}\n.ag-blue .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n  padding-right: 2px;\n}\n.ag-blue .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n  font: 10pt Calibri, "Segoe UI", Thonburi, Arial, Verdana, sans-serif;\n}\n.ag-blue .ag-filter-apply-panel {\n  border-top: 1px solid #d3d3d3;\n  padding: 2px;\n}\n.ag-blue .ag-filter {\n  background-color: #fff;\n  border: 1px solid #c6c6c6;\n  font: 9pt Calibri, "Segoe UI", Thonburi, Arial, Verdana, sans-serif;\n}\n.ag-blue .ag-filter-filter {\n  background-color: #fff;\n  border: 1px solid #c6c6c6;\n  width: 192px;\n}\n.ag-blue .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-blue .ag-filter-value:hover {\n  background-color: #39f;\n  border: 1px dotted #000;\n  color: #fff;\n}\n.ag-blue .ag-selection-checkbox {\n  margin-left: 4px;\n}\n.ag-blue .ag-paging-panel {\n  padding: 4px;\n}\n.ag-blue .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-blue .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-blue .ag-column-not-visible {\n  opacity: 0.75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: "alpha(opacity=75)";\n}\n.ag-blue .ag-not-dragging {\n  border: 1px solid transparent;\n}\n.ag-blue .ag-drop-target-above {\n  border-top: 5px solid #a9a9a9;\n}\n.ag-blue .ag-drop-target-below {\n  border-bottom: 5px solid #a9a9a9;\n}\n.ag-blue .ag-dragging {\n  border: 1px dotted #a9a9a9;\n}\n.ag-blue .ag-list-item-selected {\n  color: #f0f0f0;\n}\n.ag-blue .ag-list-item-not-selected {\n  font-style: italic;\n  color: #a0a0a0;\n}\n.ag-blue .ag-tool-panel-container {\n  background-color: #eee;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #a9a9a9;\n  padding: 4px;\n}\n.ag-blue .ag-list-selection {\n  background-color: #fff;\n  border: 1px solid #a9a9a9;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.ag-blue .ag-popup-list .ag-list-item:hover {\n  background-color: #add8e6;\n}\n.ag-blue .ag-visible-icons {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n',""])},function(e,t,n){var i=n(81);"string"==typeof i&&(i=[[e.id,i,""]]),n(77)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(76)()).push([e.id,'.ag-dark .ag-root {\n  border: 1px solid #808080;\n  color: #e0e0e0;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n}\n.ag-dark .ag-cell {\n  border-right: 1px solid #808080;\n  padding: 4px;\n}\n.ag-dark .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-dark .ag-header {\n  background-color: #430000;\n  border-bottom: 1px solid #808080;\n}\n.ag-dark .ag-no-scrolls .ag-header-container {\n  background-color: #430000;\n  border-bottom: 1px solid #808080;\n}\n.ag-dark .ag-header-cell {\n  border-right: 1px solid #808080;\n}\n.ag-dark .ag-header-cell-moving .ag-header-cell-label {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.ag-dark .ag-header-cell-moving-clone {\n  border-right: 1px solid #808080;\n  border-left: 1px solid #808080;\n  background-color: rgba(43,0,0,0.8);\n}\n.ag-dark .ag-header-cell-moving {\n  background-color: #808080;\n}\n.ag-dark .ag-pinned-right-header {\n  border-left: 1px solid #808080;\n}\n.ag-dark .ag-cell-first-right-pinned {\n  border-left: 1px solid #808080;\n}\n.ag-dark .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-dark .ag-header-cell-text {\n  padding: 2px;\n}\n.ag-dark .ag-header-group-cell-label {\n  font-weight: bold;\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-dark .ag-header-group-cell {\n  border-right: 1px solid #808080;\n}\n.ag-dark .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-dark .ag-header-group-cell-with-group {\n  border-bottom: 1px solid #808080;\n}\n.ag-dark .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box; /* When using bootstrap, box-sizing was set to \'border-box\' */\n  line-height: 0px; /* normal line height, a space was appearing below the menu button */\n}\n.ag-dark .ag-header-cell-menu-button:hover {\n  border: 1px solid #e0e0e0;\n}\n.ag-dark .ag-header-icon {\n  stroke: #fff;\n  fill: #fff;\n}\n.ag-dark .ag-header-expand-icon:hover {\n  cursor: pointer;\n}\n.ag-dark .ag-row-odd {\n  background-color: #302e2e;\n}\n.ag-dark .ag-row-even {\n  background-color: #403e3e;\n}\n.ag-dark .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-dark .ag-overlay-loading-center {\n  background-color: #fff;\n  border: 1px solid #a9a9a9;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n  color: #000;\n}\n.ag-dark .ag-body {\n  background-color: #ddd;\n}\n.ag-dark .ag-row-selected {\n  background-color: #000;\n}\n.ag-dark .ag-group-cell-entire-row {\n  background-color: #aaa;\n  color: 222;\n  padding: 4px;\n}\n.ag-dark .ag-footer-cell-entire-row {\n  background-color: #aaa;\n  color: 222;\n  padding: 4px;\n}\n.ag-dark .ag-group-cell {\n  font-style: italic;\n}\n.ag-dark .ag-group-expand {\n  padding-right: 2px;\n}\n.ag-dark .ag-footer-cell {\n  font-style: italic;\n}\n.ag-dark .ag-filter {\n  color: #000;\n}\n.ag-dark .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-dark .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-dark .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-dark .ag-filter-apply-panel {\n  border-top: 1px solid #d3d3d3;\n  padding: 2px;\n}\n.ag-dark .ag-filter {\n  border: 1px solid #000;\n  background-color: #f0f0f0;\n}\n.ag-dark .ag-selection-checkbox {\n  margin-left: 4px;\n}\n.ag-dark .ag-paging-panel {\n  color: #000;\n  padding: 4px;\n}\n.ag-dark .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-dark .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-dark .ag-column-not-visible {\n  opacity: 0.75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n  font-style: italic;\n}\n.ag-dark .ag-not-dragging {\n  border: 1px solid transparent;\n}\n.ag-dark .ag-drop-target-above {\n  border-top: 5px solid #a9a9a9;\n}\n.ag-dark .ag-drop-target-below {\n  border-bottom: 5px solid #a9a9a9;\n}\n.ag-dark .ag-dragging {\n  border: 1px dotted #a9a9a9;\n}\n.ag-dark .ag-list-item-selected {\n  color: #f0f0f0;\n}\n.ag-dark .ag-list-item-not-selected {\n  font-style: italic;\n  color: #a0a0a0;\n}\n.ag-dark .ag-tool-panel-container {\n  background-color: #eee;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #a9a9a9;\n  padding: 4px;\n}\n.ag-dark .ag-list-selection {\n  background-color: #fff;\n  border: 1px solid #a9a9a9;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.ag-dark .ag-visible-icons {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n',""])},function(e,t,n){var i=n(83);"string"==typeof i&&(i=[[e.id,i,""]]),n(77)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(76)()).push([e.id,'.ag-fresh .ag-root {\n  border: 1px solid #808080;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n}\n.ag-fresh .ag-cell {\n  padding: 2px;\n}\n.ag-fresh .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-fresh .ag-cell-focus {\n  border: 1px solid #a9a9a9;\n}\n.ag-fresh .ag-cell-no-focus {\n  border-right: 1px dotted #808080;\n  border-top: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n}\n.ag-fresh .ag-cell-first-right-pinned {\n  border-left: 1px dotted #808080;\n}\n.ag-fresh .ag-header {\n  background: -webkit-linear-gradient(#fff, #d3d3d3);\n  background: -moz-linear-gradient(#fff, #d3d3d3);\n  background: -o-linear-gradient(#fff, #d3d3d3);\n  background: -ms-linear-gradient(#fff, #d3d3d3);\n  background: linear-gradient(#fff, #d3d3d3);\n  border-bottom: 1px solid #808080;\n}\n.ag-fresh .ag-no-scrolls .ag-header-container {\n  background: -webkit-linear-gradient(#fff, #d3d3d3);\n  background: -moz-linear-gradient(#fff, #d3d3d3);\n  background: -o-linear-gradient(#fff, #d3d3d3);\n  background: -ms-linear-gradient(#fff, #d3d3d3);\n  background: linear-gradient(#fff, #d3d3d3);\n  border-bottom: 1px solid #808080;\n}\n.ag-fresh .ag-header-cell {\n  border-right: 1px solid #808080;\n}\n.ag-fresh .ag-header-cell-moving .ag-header-cell-label {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.ag-fresh .ag-header-cell-moving {\n  background-color: #bebebe;\n}\n.ag-fresh .ag-header-cell-moving-clone {\n  border-right: 1px solid #808080;\n  border-left: 1px solid #808080;\n  background-color: rgba(220,220,220,0.8);\n}\n.ag-fresh .ag-header-group-cell {\n  border-right: 1px solid #808080;\n}\n.ag-fresh .ag-header-group-cell-with-group {\n  border-bottom: 1px solid #808080;\n}\n.ag-fresh .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-fresh .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-fresh .ag-header-group-cell-label {\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-fresh .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-fresh .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box; /* When using bootstrap, box-sizing was set to \'border-box\' */\n  line-height: 0px; /* normal line height, a space was appearing below the menu button */\n}\n.ag-fresh .ag-pinned-right-header {\n  border-left: 1px solid #808080;\n}\n.ag-fresh .ag-header-cell-menu-button:hover {\n  border: 1px solid #000;\n}\n.ag-fresh .ag-header-icon {\n  color: #800000;\n}\n.ag-fresh .ag-row-selected {\n  background-color: #b0e0e6 !important;\n}\n.ag-fresh .ag-body .ag-row-odd {\n  background-color: #f6f6f6;\n}\n.ag-fresh .ag-body .ag-row-even {\n  background-color: #fff;\n}\n.ag-fresh .ag-floating-top .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-fresh .ag-floating-bottom .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-fresh .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-fresh .ag-overlay-loading-center {\n  background-color: #fff;\n  border: 1px solid #a9a9a9;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-fresh .ag-overlay-no-rows-center {\n  background-color: #fff;\n  border: 1px solid #a9a9a9;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-fresh .ag-body {\n  background-color: #fafafa;\n}\n.ag-fresh .ag-group-cell-entire-row {\n  background-color: #aaa;\n  padding: 4px;\n}\n.ag-fresh .ag-footer-cell-entire-row {\n  background-color: #aaa;\n  padding: 4px;\n}\n.ag-fresh .ag-group-cell {\n  font-style: italic;\n}\n.ag-fresh .ag-group-expand {\n  padding-right: 2px;\n}\n.ag-fresh .ag-footer-cell {\n  font-style: italic;\n}\n.ag-fresh .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-fresh .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-fresh .ag-filter-apply-panel {\n  border-top: 1px solid #d3d3d3;\n  padding: 2px;\n}\n.ag-fresh .ag-filter {\n  border: 1px solid #000;\n  background-color: #f0f0f0;\n}\n.ag-fresh .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-fresh .ag-selection-checkbox {\n  margin-left: 4px;\n}\n.ag-fresh .ag-paging-panel {\n  padding: 4px;\n}\n.ag-fresh .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-fresh .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-fresh .ag-column-not-visible {\n  opacity: 0.75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n}\n.ag-fresh .ag-not-dragging {\n  border: 1px solid transparent;\n}\n.ag-fresh .ag-drop-target-above {\n  border-top: 5px solid #a9a9a9;\n}\n.ag-fresh .ag-drop-target-below {\n  border-bottom: 5px solid #a9a9a9;\n}\n.ag-fresh .ag-dragging {\n  border: 1px dotted #a9a9a9;\n}\n.ag-fresh .ag-list-item-selected {\n  color: #f0f0f0;\n}\n.ag-fresh .ag-list-item-not-selected {\n  font-style: italic;\n  color: #a0a0a0;\n}\n.ag-fresh .ag-tool-panel-container {\n  background-color: #eee;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #a9a9a9;\n  padding: 4px;\n}\n.ag-fresh .ag-list-selection {\n  background-color: #fff;\n  border: 1px solid #a9a9a9;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.ag-fresh .ag-popup-list .ag-list-item:hover {\n  background-color: #add8e6;\n}\n.ag-fresh .ag-visible-icons {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n',""])}],o={},n.m=i,n.c=o,n.p="",n(0);function n(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return i[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var i,o}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.QRious=t()}(this,function(){"use strict";var a=function(){},s=Object.prototype.hasOwnProperty,l=Array.prototype.slice;function c(e,t,n){for(var i,o,r=0,a=(n=l.call(arguments,2)).length;r<a;r++)for(i in o=n[r])e&&!s.call(o,i)||(t[i]=o[i])}function e(e,t,n,i){var o,r=this;return"string"!=typeof e&&(i=n,n=t,t=e,e=null),"function"!=typeof t&&(i=n,n=t,t=function(){return r.apply(this,arguments)}),c(!1,t,r,i),t.prototype=(i=r.prototype,n=n,"function"==typeof Object.create?o=Object.create(i):(a.prototype=i,o=new a,a.prototype=null),n&&c(!0,o,n),o),(t.prototype.constructor=t).class_=e||r.class_,t.super_=r,t}function t(){}t.class_="Nevis",t.super_=Object,t.extend=e;var n=t,i=n.extend(function(e,t,n){this.qrious=e,this.element=t,this.element.qrious=e,this.enabled=Boolean(n)},{draw:function(e){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(e){var t=this.qrious,n=t.padding||0,t=Math.floor((t.size-2*n)/e.width);return Math.max(1,t)},getOffset:function(e){var t=this.qrious,n=t.padding;if(null!=n)return n;n=this.getModuleSize(e),t=Math.floor((t.size-n*e.width)/2);return Math.max(0,t)},render:function(e){this.enabled&&(this.resize(),this.reset(),this.draw(e))},reset:function(){},resize:function(){}}),o=i.extend({draw:function(e){var t,n,i=this.qrious,o=this.getModuleSize(e),r=this.getOffset(e),a=this.element.getContext("2d");for(a.fillStyle=i.foreground,a.globalAlpha=i.foregroundAlpha,t=0;t<e.width;t++)for(n=0;n<e.width;n++)e.buffer[n*e.width+t]&&a.fillRect(o*t+r,o*n+r,o,o)},reset:function(){var e=this.qrious,t=this.element.getContext("2d"),n=e.size;t.lineWidth=1,t.clearRect(0,0,n,n),t.fillStyle=e.background,t.globalAlpha=e.backgroundAlpha,t.fillRect(0,0,n,n)},resize:function(){var e=this.element;e.width=e.height=this.qrious.size}}),r=n.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),u=n.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),d=n.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),p=n.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),h=n.extend(function(e){var t,n,i,o,r,a=e.value.length;for(this._badness=[],this._level=u.LEVELS[e.level],this._polynomial=[],this._value=e.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,i=4*(this._level-1)+16*(this._version-1),o=u.BLOCKS[i++],r=u.BLOCKS[i++],t=u.BLOCKS[i++],n=u.BLOCKS[i],!(a<=t*(o+r)+r-3+(this._version<=9))););this._dataBlock=t,this._eccBlock=n,this._neccBlock1=o,this._neccBlock2=r;e=this.width=17+4*this._version;this.buffer=h._createArray(e*e),this._ecc=h._createArray(t+(t+n)*(o+r)+r),this._mask=h._createArray((e*(1+e)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+e*(e-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(a),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(e,t){var n,i=this.buffer,o=this.width;for(i[e+o*t]=1,n=-2;n<2;n++)i[e+n+o*(t-2)]=1,i[e-2+o*(t+n+1)]=1,i[e+2+o*(t+n)]=1,i[e+n+1+o*(t+2)]=1;for(n=0;n<2;n++)this._setMask(e-1,t+n),this._setMask(e+1,t-n),this._setMask(e-n,t-1),this._setMask(e+n,t+1)},_appendData:function(e,t,n,i){for(var o,r,a=this._polynomial,s=this._stringBuffer,l=0;l<i;l++)s[n+l]=0;for(l=0;l<t;l++){if(255!==(o=d.LOG[s[e+l]^s[n]]))for(r=1;r<i;r++)s[n+r-1]=s[n+r]^d.EXPONENT[h._modN(o+a[i-r])];else for(r=n;r<n+i;r++)s[r]=s[r+1];s[n+i-1]=255===o?0:d.EXPONENT[h._modN(o+a[0])]}},_appendEccToData:function(){for(var e=0,t=this._dataBlock,n=this._calculateMaxLength(),i=this._eccBlock,o=0;o<this._neccBlock1;o++)this._appendData(e,t,n,i),e+=t,n+=i;for(o=0;o<this._neccBlock2;o++)this._appendData(e,t+1,n,i),e+=t+1,n+=i},_applyMask:function(e){var t,n,i,o,r=this.buffer,a=this.width;switch(e){case 0:for(o=0;o<a;o++)for(i=0;i<a;i++)i+o&1||this._isMasked(i,o)||(r[i+o*a]^=1);break;case 1:for(o=0;o<a;o++)for(i=0;i<a;i++)1&o||this._isMasked(i,o)||(r[i+o*a]^=1);break;case 2:for(o=0;o<a;o++)for(i=t=0;i<a;i++,t++)(t=3===t?0:t)||this._isMasked(i,o)||(r[i+o*a]^=1);break;case 3:for(o=n=0;o<a;o++,n++)for(t=n=3===n?0:n,i=0;i<a;i++,t++)(t=3===t?0:t)||this._isMasked(i,o)||(r[i+o*a]^=1);break;case 4:for(o=0;o<a;o++)for(n=o>>1&1,i=t=0;i<a;i++,t++)3===t&&(t=0,n=!n),n||this._isMasked(i,o)||(r[i+o*a]^=1);break;case 5:for(o=n=0;o<a;o++,n++)for(3===n&&(n=0),i=t=0;i<a;i++,t++)(i&o&1)+!(!(t=3===t?0:t)|!n)||this._isMasked(i,o)||(r[i+o*a]^=1);break;case 6:for(o=n=0;o<a;o++,n++)for(3===n&&(n=0),i=t=0;i<a;i++,t++)(i&o&1)+((t=3===t?0:t)&&t===n)&1||this._isMasked(i,o)||(r[i+o*a]^=1);break;case 7:for(o=n=0;o<a;o++,n++)for(3===n&&(n=0),i=t=0;i<a;i++,t++)((t=3===t?0:t)&&t===n)+(i+o&1)&1||this._isMasked(i,o)||(r[i+o*a]^=1)}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var e,t,n=this._eccBlock,i=this._polynomial;for(i[0]=1,e=0;e<n;e++){for(i[e+1]=1,t=e;0<t;t--)i[t]=i[t]?i[t-1]^d.EXPONENT[h._modN(d.LOG[i[t]]+e)]:i[t-1];i[0]=d.EXPONENT[h._modN(d.LOG[i[0]]+e)]}for(e=0;e<=n;e++)i[e]=d.LOG[i[e]]},_checkBadness:function(){for(var e,t,n,i,o=0,r=this._badness,a=this.buffer,s=this.width,l=0;l<s-1;l++)for(i=0;i<s-1;i++)(a[i+s*l]&&a[i+1+s*l]&&a[i+s*(l+1)]&&a[i+1+s*(l+1)]||!(a[i+s*l]||a[i+1+s*l]||a[i+s*(l+1)]||a[i+1+s*(l+1)]))&&(o+=h.N2);var c=0;for(l=0;l<s;l++){for(i=e=r[n=0]=0;i<s;i++)e===(t=a[i+s*l])?r[n]++:r[++n]=1,c+=(e=t)?1:-1;o+=this._getBadness(n)}for(var u=0,d=(d=c=c<0?-c:c)+(d<<2)<<1;s*s<d;)d-=s*s,u++;for(o+=u*h.N4,i=0;i<s;i++){for(l=e=r[n=0]=0;l<s;l++)e===(t=a[i+s*l])?r[n]++:r[++n]=1,e=t;o+=this._getBadness(n)}return o},_convertBitStream:function(e){for(var t,n=this._ecc,i=this._version,o=0;o<e;o++)n[o]=this._value.charCodeAt(o);var r=this._stringBuffer=n.slice(),a=this._calculateMaxLength(),s=(a-2<=e&&(e=a-2,9<i&&e--),e);if(9<i){for(r[s+2]=0,r[s+3]=0;s--;)t=r[s],r[s+3]|=255&t<<4,r[s+2]=t>>4;r[2]|=255&e<<4,r[1]=e>>4,r[0]=64|e>>12}else{for(r[s+1]=0,r[s+2]=0;s--;)t=r[s],r[s+2]|=255&t<<4,r[s+1]=t>>4;r[1]|=255&e<<4,r[0]=64|e>>4}for(s=e+3-(i<10);s<a;)r[s++]=236,r[s++]=17},_getBadness:function(e){for(var t=0,n=this._badness,i=0;i<=e;i++)5<=n[i]&&(t+=h.N1+n[i]-5);for(i=3;i<e-1;i+=2)n[i-2]===n[i+2]&&n[i+2]===n[i-1]&&n[i-1]===n[i+1]&&3*n[i-1]===n[i]&&(0===n[i-3]||e<i+3||3*n[i-3]>=4*n[i]||3*n[i+3]>=4*n[i])&&(t+=h.N3);return t},_finish:function(){this._stringBuffer=this.buffer.slice();for(var e,t=0,n=3e4,i=0;i<8&&(this._applyMask(i),(e=this._checkBadness())<n&&(n=e,t=i),7!==t);i++)this.buffer=this._stringBuffer.slice();t!==i&&this._applyMask(t);var n=u.FINAL_FORMAT[t+(this._level-1<<3)],o=this.buffer,r=this.width;for(i=0;i<8;i++,n>>=1)1&n&&(o[r-1-i+8*r]=1,i<6?o[8+r*i]=1:o[8+r*(i+1)]=1);for(i=0;i<7;i++,n>>=1)1&n&&(o[8+r*(r-7+i)]=1,i?o[6-i+8*r]=1:o[7+8*r]=1)},_interleaveBlocks:function(){for(var e,t=this._dataBlock,n=this._ecc,i=this._eccBlock,o=0,r=this._calculateMaxLength(),a=this._neccBlock1,s=this._neccBlock2,l=this._stringBuffer,c=0;c<t;c++){for(e=0;e<a;e++)n[o++]=l[c+e*t];for(e=0;e<s;e++)n[o++]=l[a*t+c+e*(t+1)]}for(e=0;e<s;e++)n[o++]=l[a*t+c+e*(t+1)];for(c=0;c<i;c++)for(e=0;e<a+s;e++)n[o++]=l[r+c+e*i];this._stringBuffer=n},_insertAlignments:function(){var e,t,n,i=this._version,o=this.width;if(1<i)for(e=r.BLOCK[i],n=o-7;;){for(t=o-7;e-3<t&&(this._addAlignment(t,n),!(t<e));)t-=e;if(n<=e+9)break;n-=e,this._addAlignment(6,n),this._addAlignment(n,6)}},_insertFinders:function(){for(var e,t,n,i=this.buffer,o=this.width,r=0;r<3;r++){for(n=e=0,i[(n=2===r?o-7:n)+3+o*((e=1===r?o-7:e)+3)]=1,t=0;t<6;t++)i[n+t+o*e]=1,i[n+o*(e+t+1)]=1,i[n+6+o*(e+t)]=1,i[n+t+1+o*(e+6)]=1;for(t=1;t<5;t++)this._setMask(n+t,e+1),this._setMask(n+1,e+t+1),this._setMask(n+5,e+t),this._setMask(n+t+1,e+5);for(t=2;t<4;t++)i[n+t+o*(e+2)]=1,i[n+2+o*(e+t+1)]=1,i[n+4+o*(e+t)]=1,i[n+t+1+o*(e+4)]=1}},_insertTimingGap:function(){for(var e,t=this.width,n=0;n<7;n++)this._setMask(7,n),this._setMask(t-8,n),this._setMask(7,n+t-7);for(e=0;e<8;e++)this._setMask(e,7),this._setMask(e+t-8,7),this._setMask(e,t-8)},_insertTimingRowAndColumn:function(){for(var e=this.buffer,t=this.width,n=0;n<t-14;n++)1&n?(this._setMask(8+n,6),this._setMask(6,8+n)):(e[8+n+6*t]=1,e[6+t*(8+n)]=1)},_insertVersion:function(){var e,t,n,i,o=this.buffer,r=this._version,a=this.width;if(6<r)for(e=p.BLOCK[r-7],t=17,n=0;n<6;n++)for(i=0;i<3;i++,t--)1&(11<t?r>>t-12:e>>t)?(o[5-n+a*(2-i+a-11)]=1,o[2-i+a-11+a*(5-n)]=1):(this._setMask(5-n,2-i+a-11),this._setMask(2-i+a-11,5-n))},_isMasked:function(e,t){e=h._getMaskBit(e,t);return 1===this._mask[e]},_pack:function(){for(var e,t,n=1,i=1,o=this.width,r=o-1,a=o-1,s=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2,l=0;l<s;l++)for(e=this._stringBuffer[l],t=0;t<8;t++,e<<=1)for(128&e&&(this.buffer[r+o*a]=1);i?r--:(r++,n?0!==a?a--:(n=!n,6===(r-=2)&&(r--,a=9)):a!==o-1?a++:(n=!n,6===(r-=2)&&(r--,a-=8))),i=!i,this._isMasked(r,a););},_reverseMask:function(){for(var e,t=this.width,n=0;n<9;n++)this._setMask(n,8);for(n=0;n<8;n++)this._setMask(n+t-8,8),this._setMask(8,n);for(e=0;e<7;e++)this._setMask(8,e+t-7)},_setMask:function(e,t){e=h._getMaskBit(e,t);this._mask[e]=1},_syncMask:function(){for(var e,t=this.width,n=0;n<t;n++)for(e=0;e<=n;e++)this.buffer[e+t*n]&&this._setMask(e,n)}},{_createArray:function(e){for(var t=[],n=0;n<e;n++)t[n]=0;return t},_getMaskBit:function(e,t){var n;return t<e&&(n=e,e=t,t=n),n=t,n=((n+=t*t)>>1)+e},_modN:function(e){for(;255<=e;)e=((e-=255)>>8)+(255&e);return e},N1:3,N2:3,N3:40,N4:10}),f=h,g=i.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var e=this.element;e.width=e.height=this.qrious.size}}),i=n.extend(function(e,t,n,i){this.name=e,this.modifiable=Boolean(t),this.defaultValue=n,this._valueTransformer=i},{transform:function(e){var t=this._valueTransformer;return"function"==typeof t?t(e,this):e}}),m=n.extend(null,{abs:function(e){return null!=e?Math.abs(e):null},hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},noop:function(){},toUpperCase:function(e){return null!=e?e.toUpperCase():null}}),v=n.extend(function(e){this.options={},e.forEach(function(e){this.options[e.name]=e},this)},{exists:function(e){return null!=this.options[e]},get:function(e,t){return v._get(this.options[e],t)},getAll:function(e){var t,n=this.options,i={};for(t in n)m.hasOwn(n,t)&&(i[t]=v._get(n[t],e));return i},init:function(e,t,n){var i,o;for(i in"function"!=typeof n&&(n=m.noop),this.options)m.hasOwn(this.options,i)&&(o=this.options[i],v._set(o,o.defaultValue,t),v._createAccessor(o,t,n));this._setAll(e,t,!0)},set:function(e,t,n){return this._set(e,t,n)},setAll:function(e,t){return this._setAll(e,t)},_set:function(e,t,n,i){var o=this.options[e];if(!o)throw new Error("Invalid option: "+e);if(o.modifiable||i)return v._set(o,t,n);throw new Error("Option cannot be modified: "+e)},_setAll:function(e,t,n){if(!e)return!1;var i,o=!1;for(i in e)m.hasOwn(e,i)&&this._set(i,e[i],t,n)&&(o=!0);return o}},{_createAccessor:function(t,n,i){var e={get:function(){return v._get(t,n)}};t.modifiable&&(e.set=function(e){v._set(t,e,n)&&i(e,t)}),Object.defineProperty(n,t.name,e)},_get:function(e,t){return t["_"+e.name]},_set:function(e,t,n){var i="_"+e.name,o=n[i],t=e.transform(null!=t?t:e.defaultValue);return(n[i]=t)!==o}}),b=v,y=n.extend(function(){this._services={}},{getService:function(e){var t=this._services[e];if(t)return t;throw new Error("Service is not being managed with name: "+e)},setService:function(e,t){if(this._services[e])throw new Error("Service is already managed with name: "+e);t&&(this._services[e]=t)}}),w=new b([new i("background",!0,"white"),new i("backgroundAlpha",!0,1,m.abs),new i("element"),new i("foreground",!0,"black"),new i("foregroundAlpha",!0,1,m.abs),new i("level",!0,"L",m.toUpperCase),new i("mime",!0,"image/png"),new i("padding",!0,null,m.abs),new i("size",!0,100,m.abs),new i("value",!0,"")]),C=new y,b=n.extend(function(e){w.init(e,this,this.update.bind(this));var e=w.get("element",this),t=C.getService("element"),n=e&&t.isCanvas(e)?e:t.createCanvas(),t=e&&t.isImage(e)?e:t.createImage();this._canvasRenderer=new o(this,n,!0),this._imageRenderer=new g(this,t,t===e),this.update()},{get:function(){return w.getAll(this)},set:function(e){w.setAll(e,this)&&this.update()},toDataURL:function(e){return this.canvas.toDataURL(e||this.mime)},update:function(){var e=new f({level:this.level,value:this.value});this._canvasRenderer.render(e),this._imageRenderer.render(e)}},{use:function(e){C.setService(e.getName(),e)}});Object.defineProperties(b.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});i=b,y=n.extend({getName:function(){}}).extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(e){},isImage:function(e){}}).extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(e){return e instanceof HTMLCanvasElement},isImage:function(e){return e instanceof HTMLImageElement}});return i.use(new y),i}),angular.module("bouldermapApp.templates",["views/azure.html","views/changePassword.html","views/cities.html","views/cityModal.html","views/climbers.html","views/climbersModal.html","views/climberStatsModal.html","views/countries.html","views/countryModal.html","views/createGPXModal.html","views/createStonePhotoModal.html","views/discussionDetailsModal.html","views/discussionModal.html","views/discussions.html","views/donationModal.html","views/donations.html","views/drawingModal.html","views/editStonePhotoModal.html","views/forgotPasswordModal.html","views/gradeModal.html","views/grades.html","views/gymGradeModal.html","views/gymModal.html","views/gyms.html","views/help.html","views/imapModal.html","views/imaps.html","views/indicationDetailsModal.html","views/indicationModal.html","views/indicationsModal.html","views/loggedUsers.html","views/login.html","views/loginModal.html","views/logModal.html","views/logs.html","views/mailModal.html","views/mails.html","views/mapModal.html","views/menus.html","views/newDrawingModal.html","views/newVersionModal.html","views/observableModal.html","views/pinModal.html","views/polygonModal.html","views/polygonsModal.html","views/privilegesModal.html","views/problem.html","views/problemDrawingsModal.html","views/problemModal.html","views/problems.html","views/problemsModal.html","views/problemVideosModal.html","views/random.html","views/replyModal.html","views/smtpModal.html","views/smtps.html","views/stoneDetailsModal.html","views/stoneModal.html","views/stones.html","views/stonesModal.html","views/storageModal.html","views/storages.html","views/tasks.html","views/tasksModal.html","views/textsModal.html","views/uploadIndicationPhotoModal.html","views/userModal.html","views/users.html","views/versions.html","views/videoDetailsModal.html","views/videoModal.html","views/videos.html","views/visibleMenusModal.html","views/zoneModal.html","views/zones.html"]),angular.module("views/azure.html",[]).run(["$templateCache",function(e){e.put("views/azure.html",'<h1>Azure</h1> <table class="table table-condensed table-bordered"> <tr> <th style="width: 140px">Setting</th> <th>Value</th> </tr> <tr ng-repeat="setting in settings"> <td>{{ setting.name }}</td> <td>{{ setting.value }}</td> </tr> </table> <div ng-if="fetchingSettings"> <img src="img/loading-tiny.gif" alt=""> Fetching settings... </div> <table class="table table-condensed table-bordered"> <tr> <th style="width: 150px"></th> <th style="width: 150px; text-align: center">Location</th> <th style="width: 150px; text-align: center">Current SKU</th> <th>Change SKU</th> </tr> <tr> <th>Database</th> <td style="text-align: center"> <div ng-if="!fetchingCurrentSKUs">{{ azure.db.location }}</div> <img src="img/loading-tiny.gif" alt="" ng-show="fetchingCurrentSKUs"> </td> <td style="text-align: center"> <div ng-if="!fetchingCurrentSKUs">{{ azure.db.properties.currentServiceObjectiveName }}</div> <img src="img/loading-tiny.gif" alt="" ng-show="fetchingCurrentSKUs"> </td> <td> <table class="table table-condensed table-bordered" style="width: 400px; margin-top: 0px" ng-if="!patchingDb"> <tr> <th style="width: 70px;">SKU</th> <th style="width: 200px; text-align: right">DTU</th> <th style="text-align: right">usd/month</th> </tr> <tr ng-repeat="sku in databaseSKUs" style="{{ sku.name == azure.db.properties.currentServiceObjectiveName ? \'background-color: #feffbc\' : \'\' }}"> <td><a href ng-confirm-message="Confirma esta acción. El sistema estará caído unos minutos." ng-confirm-click="patchDb(sku.name)" target="_blank"><strong>{{ sku.name }}</strong></a></td> <td style="text-align: right">{{ sku.dtu }} DTU</td> <td style="text-align: right">{{ sku.usdPerMonth | number: 2 }} usd</td> </tr> </table> <div ng-if="patchingDb"> <p> Actualizando SKU...<br> Para volver a ver el menú refresca la página </p> </div> </td> </tr> <tr> <th>App Service Plan</th> <td style="text-align: center"> <div ng-if="!fetchingCurrentSKUs">{{ azure.appServicePlan.location }}</div> <img src="img/loading-tiny.gif" alt="" ng-show="fetchingCurrentSKUs"> </td> <td style="text-align: center"> <div ng-if="!fetchingCurrentSKUs">{{ azure.appServicePlan.sku.name }}</div> <img src="img/loading-tiny.gif" alt="" ng-show="fetchingCurrentSKUs"> </td> <td> <table class="table table-condensed table-bordered" style="width: 400px; margin-top: 0px" ng-if="!patchingWeb"> <tr> <th style="width: 70px;">SKU</th> <th style="width: 100px; text-align: right">Memory</th> <th style="width: 100px; text-align: right">Compute</th> <th style="text-align: right">usd/month</th> </tr> <tr ng-repeat="sku in appServiceSKUs" style="{{ sku.name == azure.appServicePlan.sku.name ? \'background-color: #feffbc\' : \'\' }}"> <td><a href ng-confirm-message="Confirma esta acción. El sistema estará caído unos minutos." ng-confirm-click="patchWeb(sku.name)" target="_blank"><strong>{{ sku.name }}</strong></a></td> <td style="text-align: right">{{ sku.memory | number: 2 }} GB</td> <td style="text-align: right">{{ sku.compute }}</td> <td style="text-align: right">{{ sku.usdPerMonth | number: 2 }} usd</td> </tr> </table> <div ng-if="patchingWeb"> <p> Actualizando SKU...<br> Para volver a ver el menú refresca la página </p> </div> </td> </tr> </table> <a href ng-click="fetchCurrentSKUs()"><strong>Actualizar</strong></a>')}]),angular.module("views/changePassword.html",[]).run(["$templateCache",function(e){e.put("views/changePassword.html",'<div class="row"> <div class="col-md-offset-4 col-md-4"> <h1>Cambiar contraseña</h1> <div class="well"> <form role="form"> <div class="form-group"> <label>Email</label> <input type="text" class="form-control" placeholder="" ng-model="email" ng-disabled="changingPassword" focus="true"> </div> <div class="form-group"> <label>Contraseña actual</label> <input type="password" class="form-control" placeholder="" ng-model="currentPassword" ng-disabled="changingPassword"> </div> <div class="form-group"> <label>Nueva contraseña</label> <input type="password" class="form-control" placeholder="" ng-model="newPassword" ng-disabled="changingPassword"> </div> <div class="form-group"> <label>Repetir nueva contraseña</label> <input type="password" class="form-control" placeholder="" ng-model="repeatedNewPassword" ng-disabled="changingPassword"> </div> <button class="btn btn-primary" ng-click="changePassword()" ng-disabled="changingPassword">Cambiar contraseña</button> <img src="img/loading-tiny.gif" alt="" ng-show="changingPassword"> </form> </div> </div> </div>')}]),angular.module("views/cities.html",[]).run(["$templateCache",function(e){e.put("views/cities.html",'<h1>Tablas > Ciudades</h1> <div class="row"> <div class="col-md-7"> <div class="row"> </div> </div> <div class="col-md-5"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="fetchCities()" ng-disabled="fetchingCities">{{ \'Search with these filters\' | translate }}</button> <button class="btn btn-default btn-sm" ng-confirm-message="Se creará una tarea" ng-confirm-click="fetchCities(\'xlsx\')" ng-disabled="fetchingCities">XLSX</button> </div> </div> </div> <div class="row" style="margin-top: 30px"> <div class="col-md-12"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="openCityModal(true)" ng-disabled="">Crear ciudad</button> <button class="btn btn-default btn-sm" ng-click="openCityModal(false)" ng-disabled="selectedCities.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedCity()" ng-disabled="selectedCities.length == 0 || deletingCity" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'citiesGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="resetColumns(\'citiesGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption">Ciudades ({{ cities.length }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingCities"></p> <div id="citiesGrid" ag-grid="citiesGrid" class="ag-fresh" style="height: 290px;"></div> <div class="vertical-resizer" resize-target="#citiesGrid"></div> </div> </div>')}]),angular.module("views/cityModal.html",[]).run(["$templateCache",function(e){e.put("views/cityModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear ciudad</span> <span ng-show="!createMode">Modificar ciudad</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Nombre</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="city.name" ng-disabled="working" focus="true"> </div> <div class="form-group"> <label>Tipo de localidad</label> <div class="form-group-sm"> <ui-select ng-model="city.locationType" ng-disabled="working"> <ui-select-match placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="locationType in locationTypes | filterBy: [\'name\']: $select.search"> <span ng-bind-html="locationType.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> <div class="form-group"> <label>País</label> <div class="form-group-sm"> <ui-select ng-model="city.country" ng-disabled="fetchingCountries || working"> <ui-select-match placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="country in countries | filterBy: [\'name\']: $select.search"> <span ng-bind-html="country.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>Latitud</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="city.lat" ng-disabled="working"> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>Longitud</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="city.lng" ng-disabled="working"> </div> </div> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear ciudad</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/climbers.html",[]).run(["$templateCache",function(e){e.put("views/climbers.html",'<h1>{{ \'Climbers\' | translate }}</h1> <div class="row"> <div class="col-md-7"> <div class="row"> <div class="col-md-4"> </div> </div> </div> <div class="col-md-5"> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Sort by\' | translate }}</label> <select ng-model="sorting.orderBy" class="form-control input-sm" ng-options="o.id as o.text for o in orderByColumns" ng-disabled="fetchingClimbers"> </select> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Sort asc/desc\' | translate }}</label> <select ng-model="sorting.orderDesc" class="form-control input-sm" ng-options="o.id as o.text for o in orderDescOptions" ng-disabled="fetchingClimbers"> </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label>Nombre contiene...</label> <div class="input-group"> <input focus="true" type="text" class="form-control input-sm" ng-model="filters.name" ng-keypress="onNameKeypress($event)" ng-disabled="fetchingClimbers"> <span class="input-group-addon"> <a href ng-click="filters.name = \'\'" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> </div> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="pagination.page = 1; fetchClimbers()" ng-disabled="fetchingClimbers">{{ \'Search with these filters\' | translate }}</button> </div> </div> </div> <div class="row" style="margin-top: 30px"> <div class="col-md-12"> <div class="form-group"> <button ng-click="openClimberStatsModal(selectedClimbers[0])" ng-disabled="selectedClimbers.length == 0" class="btn btn-default btn-sm">Ver estadísticas</button> </div> <p class="grid-caption">{{ "Climbers" | translate }} ({{ pagination.count | number }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingClimbers"></p> <div id="climbersGrid" ag-grid="climbersGrid" class="ag-fresh" style="height: 300px;"></div> <div class="vertical-resizer" resize-target="#climbersGrid"></div> <ul uib-pagination total-items="pagination.count" items-per-page="pagination.pageSize" ng-model="pagination.page" ng-change="fetchClimbers()" class="pagination-sm"></ul> </div> </div> ')}]),angular.module("views/climbersModal.html",[]).run(["$templateCache",function(e){e.put("views/climbersModal.html",'<div class="modal-body"> <ng-include src="\'views/climbers.html\'"></ng-include> </div> <div class="modal-footer"> <button class="btn btn-primary btn-sm" ng-click="acceptModalSelection()" ng-disabled="selectedClimbers.length == 0 || fetchingClimbers">Aceptar selección</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="fetchingClimbers">Cerrar</button> </div> ')}]),angular.module("views/climberStatsModal.html",[]).run(["$templateCache",function(e){e.put("views/climberStatsModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <h3 class="modal-title">{{ climber.name }}</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div style="padding: 10px" ng-if="fetchingStats"> <img src="img/loading-tiny.gif" alt=""> Obteniendo estadisticas... </div> <p ng-if="!fetchingStats">Hay {{ climber.videosCount }} videos de este escalador.</p> <table class="table table-condensed table-bordered" ng-if="!fetchingStats"> <tr> <th colspan="2">Videos por grado</th> </tr> <tr> <th style="width: 100px"> <a href ng-click="groupedByGradesSorting.field = \'grade.gradeId\'; groupedByGradesSorting.desc = !groupedByGradesSorting.desc">Grado</a> <span ng-if="groupedByGradesSorting.field == \'grade.gradeId\' && groupedByGradesSorting.desc == true" class="glyphicon glyphicon-triangle-bottom"></span> <span ng-if="groupedByGradesSorting.field == \'grade.gradeId\' && groupedByGradesSorting.desc == false" class="glyphicon glyphicon-triangle-top"></span> </th> <th> <a href ng-click="groupedByGradesSorting.field = \'videosCount\'; groupedByGradesSorting.desc = !groupedByGradesSorting.desc">Videos</a> <span ng-if="groupedByGradesSorting.field == \'videosCount\' && groupedByGradesSorting.desc == true" class="glyphicon glyphicon-triangle-bottom"></span> <span ng-if="groupedByGradesSorting.field == \'videosCount\' && groupedByGradesSorting.desc == false" class="glyphicon glyphicon-triangle-top"></span> </th> </tr> <tr ng-repeat="gradeGroup in groupedByGrades | orderBy:groupedByGradesSorting.field:groupedByGradesSorting.desc"> <td><span class="color-bullet-span" style="background-color: {{ gradeGroup.grade.color }}"></span> {{ gradeGroup.grade.vGrade }}</td> <td>{{ gradeGroup.videosCount }}</td> </tr> </table> <table class="table table-condensed table-bordered" ng-if="!fetchingStats"> <tr> <th colspan="2">Videos por sector</th> </tr> <tr> <th style="width: 200px">Sector</th> <th>Videos</th> </tr> <tr ng-repeat="zoneGroup in groupedByZones"> <td>{{ zoneGroup.zone.name }}</td> <td>{{ zoneGroup.videosCount }}</td> </tr> </table> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/countries.html",[]).run(["$templateCache",function(e){e.put("views/countries.html",'<h1>Tablas > Países</h1> <div class="row"> <div class="col-md-7"> <div class="row"> </div> </div> <div class="col-md-5"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="fetchCountries()" ng-disabled="fetchingCountries">{{ \'Search with these filters\' | translate }}</button> <button class="btn btn-default btn-sm" ng-confirm-message="Se creará una tarea" ng-confirm-click="fetchCountries(\'xlsx\')" ng-disabled="fetchingCountries">XLSX</button> </div> </div> </div> <div class="row" style="margin-top: 30px"> <div class="col-md-12"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="openCountryModal(true)" ng-disabled="">Crear país</button> <button class="btn btn-default btn-sm" ng-click="openCountryModal(false)" ng-disabled="selectedCountries.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedCountry()" ng-disabled="selectedCountries.length == 0 || deletingCountry" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'countriesGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="resetColumns(\'countriesGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption">Países ({{ countries.length }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingCountries"></p> <div id="countriesGrid" ag-grid="countriesGrid" class="ag-fresh" style="height: 290px;"></div> <div class="vertical-resizer" resize-target="#countriesGrid"></div> </div> </div>')}]),angular.module("views/countryModal.html",[]).run(["$templateCache",function(e){e.put("views/countryModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear país</span> <span ng-show="!createMode">Modificar país</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Nombre</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="country.name" ng-disabled="working" focus="true"> </div> <div class="form-group"> <label>ISO alpha-2</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="country.isoAlpha2" ng-disabled="working"> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear país</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/createGPXModal.html",[]).run(["$templateCache",function(e){e.put("views/createGPXModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <h3 class="modal-title">Descargar GPX de {{ zone.name }}</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <p>Especifica qué quieres incluir en el GPX.</p> <table class="table table-condensed table-bordered"> <tr> <th colspan="2">Indicaciones ({{ indications.length }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingIndications"></th> </tr> <tr> <th style="width: 30px"> <input type="checkbox" ng-model="settings.allIndications" ng-change="toggleAllIndications()" ng-disabled="working"> </th> <th>Nombre</th> </tr> <tr ng-repeat="indication in indications"> <td> <input type="checkbox" ng-model="indication.include" ng-disabled="working"> </td> <td>{{ indication.name }}</td> </tr> </table> <table class="table table-condensed table-bordered"> <tr> <th colspan="4">Piedras ({{ stones.length }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingStones"></th> </tr> <tr> <th style="width: 30px"> <input type="checkbox" ng-model="settings.allStones" ng-change="toggleAllStones()" ng-disabled="working"> </th> <th>Nombre</th> <th style="width: 100px">Problemas</th> <th style="width: 100px">Videos</th> </tr> <tr ng-repeat="stone in stones"> <td> <input type="checkbox" ng-model="stone.include" ng-disabled="working"> </td> <td>{{ stone.name }}</td> <td>{{ stone.problemsCount }}</td> <td>{{ stone.videosCount }}</td> </tr> </table> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-click="createGPX()" ng-disabled="working">Descargar GPX</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/createStonePhotoModal.html",[]).run(["$templateCache",function(e){e.put("views/createStonePhotoModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <h3 class="modal-title"> <span>Subir foto de piedra</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th style="width: 110px">{{ "Zone" | translate }}</th> <td>{{ stonePhoto.stone.zone.name }}</td> </tr> <tr> <th>{{ "Stone" | translate }}</th> <td>{{ stonePhoto.stone.name == "" ? "Piedra sin nombre" : stonePhoto.stone.name }}</td> </tr> </table> <div class="form-group"> <label>Descripción de la foto (opcional)</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="stonePhoto.description" ng-disabled="working" focus="true"> <p>ej. Cara norte</p> </div> <div class="form-group"> <label>Foto</label> <input id="file" type="file" class="form-control input-sm" placeholder="" ng-model="stonePhoto.photo" ng-disabled="working"> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-click="create()" ng-disabled="working">Subir foto</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/discussionDetailsModal.html",[]).run(["$templateCache",function(e){e.put("views/discussionDetailsModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <button ng-click="cancel()" type="button" class="close"><span aria-hidden="true">×</span></button> <h3 class="modal-title">Ver discusión</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-6"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th colspan="2">Discusión original [#{{ discussion.discussionId }}]</th> </tr> <tr ng-if="fetchingDiscussion"> <td style="padding: 20px; text-align: center"> <img src="img/loading-tiny.gif" alt=""> <p>Obteniendo discusión...</p> </td> </tr> <tr ng-if="!fetchingDiscussion"> <td colspan="2" style="padding: 20px"> <strong>{{ discussion.createdByUser.username }}</strong> <p style="white-space: pre-wrap" ng-bind-html="discussion.message | parseLinks"></p> <p style="color: gray" title="{{ discussion.creationDate | date:\'yyyy-MM-dd HH:mm\' }}">{{ discussion.creationDate | timeago }}</p> </td> </tr> </table> <table class="table table-condensed table-bordered" ng-if="discussion.entityType != null && !fetchingDiscussion"> <tr> <th colspan="2">Contexto de la discusión</th> </tr> <tr ng-if="discussion.zone != null"> <th style="width: 110px">Sector</th> <td>{{ discussion.zone.name }}</td> </tr> <tr ng-if="discussion.indication != null"> <th>Indicación</th> <td>{{ discussion.indication.name }}</td> </tr> <tr ng-if="discussion.stone != null"> <th>Piedra</th> <td>{{ discussion.stone.name }}</td> </tr> <tr ng-if="discussion.problem != null"> <th>Problema</th> <td>{{ discussion.problem.name }} <span class="color-bullet-span" style="margin-left: 20px; background-color: {{ discussion.problem.grade.color }}"></span> {{ discussion.problem.grade.vGrade }}</td> </tr> <tr ng-if="discussion.video != null"> <th>Video</th> <td>#{{ discussion.video.videoId }} {{ discussion.video.climberName }}</td> </tr> </table> </div> <div class="col-md-6"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th>Respuestas ({{ replies.length }})</th> </tr> <tr ng-if="replies.length > 0"> <td> <div style="height: 300px; overflow-y: scroll"> <div ng-repeat="reply in replies" style="padding: 20px; padding-top: 10px; padding-bottom: 0px"> <strong>{{ reply.user.username }}</strong> <p style="white-space: pre-wrap" ng-bind-html="reply.message | parseLinks"></p> <p style="color: gray" title="{{ reply.date | date:\'yyyy-MM-dd HH:mm\' }}">{{ reply.date | timeago }}</p> <hr style="border-top: 1px solid #c9c9c9; margin-top: 10px; margin-bottom: 10px"> </div> </div> </td> </tr> <tr ng-if="fetchingReplies"> <td style="padding: 20px; text-align: center"> <img src="img/loading-tiny.gif" alt=""> <p>Obteniendo respuestas...</p> </td> </tr> <tr ng-if="replies.length == 0 && !fetchingReplies"> <td style="padding: 20px"> No hay respuestas. </td> </tr> </table> <div ng-if="currentUser.isLogged" class="form-group" style="margin-top: 10px"> <button ng-if="!discussion.closed" class="btn btn-default btn-sm" ng-click="openReplyModal()">Responder</button> <button ng-if="hasPrivilege(\'Discussions\', \'delete\') && !discussion.closed" class="btn btn-default btn-sm" ng-confirm-message="Confirma esta acción" ng-confirm-click="toggleClosed()" ng-disabled="working">Cerrar discusión</button> <button ng-if="hasPrivilege(\'Discussions\', \'delete\') && discussion.closed" class="btn btn-default btn-sm" ng-confirm-message="Confirma esta acción" ng-confirm-click="toggleClosed()" ng-disabled="working">Abrir discusión</button> </div> <p ng-if="discussion.closed" style="text-align: center; margin-top: 20px"> <span style="margin-right: 10px" class="glyphicon glyphicon-lock"></span> La discusión fue cerrada por <strong>{{ discussion.closedByUser.username }}</strong><br> <span style="color: gray">{{ discussion.closeDate | timeago }}</span> </p> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-if="working"> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/discussionModal.html",[]).run(["$templateCache",function(e){e.put("views/discussionModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <button ng-click="cancel()" type="button" class="close"><span aria-hidden="true">×</span></button> <h3 class="modal-title"> <span ng-show="createMode">Nueva discusión</span> <span ng-show="!createMode">Modificar discusión</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Entidad</label> <div class="form-group-sm"> <ui-select ng-model="discussion.entityType" ng-disabled="working"> <ui-select-match allow-clear placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="entityType in entityTypes | filterBy: [\'name\']: $select.search"> <span ng-bind-html="entityType.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> <div ng-if="discussion.entityType != null" style="padding-left: 20px; border-left: 1px dashed gray"> <div class="form-group" ng-if="discussion.entityType.id >= 9"> <label>Sector <img ng-if="discussion.zone == null" src="img/error.png" style="height: 12px;"></label> <div class="form-group-sm"> <ui-select ng-model="discussion.zone" ng-disabled="fetchingZones || working" on-select="discussion.indication = null; discussion.stone = null; discussion.problem = null; fetchStones(); fetchIndications();"> <ui-select-match allow-clear placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="zone in zones | filterBy: [\'name\']: $select.search"> <span ng-bind-html="zone.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> <div class="form-group" ng-if="discussion.entityType.id == 10"> <label>Indicación <img ng-if="discussion.indication == null" src="img/error.png" style="height: 12px;"><img src="img/loading-tiny.gif" alt="" ng-show="fetchingIndications"></label> <div class="form-group-sm"> <ui-select ng-model="discussion.indication" ng-disabled="fetchingIndications || working"> <ui-select-match allow-clear placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="indication in indications | filterBy: [\'name\']: $select.search"> <span ng-bind-html="indication.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> <div class="form-group" ng-if="discussion.entityType.id >= 11"> <label>Piedra <img ng-if="discussion.stone == null" src="img/error.png" style="height: 12px;"><img src="img/loading-tiny.gif" alt="" ng-show="fetchingStones"></label> <div class="form-group-sm"> <ui-select ng-model="discussion.stone" ng-disabled="fetchingStones || working" on-select="discussion.problem = null; fetchProblems();"> <ui-select-match allow-clear placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="stone in stones | filterBy: [\'name\']: $select.search"> <span ng-bind-html="stone.name | highlight: $select.search"></span><br> <small>Vega id: {{ problem.rioboId }}</small><br> <small>27crags: {{ problem.crags27Id }}</small> <hr style="margin-top: 3px; margin-bottom: 0px; width: 200px; margin-left: 0"> </ui-select-choices> </ui-select> </div> </div> <div class="form-group" ng-if="discussion.entityType.id >= 13"> <label>Problema <img ng-if="discussion.problem == null" src="img/error.png" style="height: 12px;"><img src="img/loading-tiny.gif" alt="" ng-show="fetchingProblems"></label> <div class="form-group-sm"> <ui-select ng-model="discussion.problem" ng-disabled="fetchingProblems || working" on-select="discussion.video = null; fetchVideos();"> <ui-select-match allow-clear placeholder="">{{ $select.selected.name }} <div class="color-bullet-span" style="margin-left: 20px; background-color: {{ $select.selected.grade.color }}"></div> {{ $select.selected.grade.vGrade }}</ui-select-match> <ui-select-choices repeat="problem in problems | filterBy: [\'name\']: $select.search"> <span ng-bind-html="problem.name | highlight: $select.search"></span><br> <small><div class="color-bullet-span" style="background-color: {{ problem.grade.color }}"></div> {{ problem.grade.vGrade }}</small><br> <small>Vega id: {{ problem.rioboId }}</small> <hr style="margin-top: 3px; margin-bottom: 0px; width: 200px; margin-left: 0"> </ui-select-choices> </ui-select> </div> </div> <div class="form-group" ng-if="discussion.entityType.id == 14"> <label>Video <img src="img/loading-tiny.gif" alt="" ng-show="fetchingVideos"></label> <div class="form-group-sm"> <ui-select ng-model="discussion.video" ng-disabled="fetchingVideos || working"> <ui-select-match allow-clear placeholder="">[id #{{ $select.selected.videoId }}] {{ $select.selected.climberName }}</ui-select-match> <ui-select-choices repeat="video in videos | filterBy: [\'climberName\']: $select.search"> <span ng-bind-html="video.climberName | highlight: $select.search"></span><br> <small>id: {{ video.videoId }}</small> <hr style="margin-top: 3px; margin-bottom: 0px; width: 200px; margin-left: 0"> </ui-select-choices> </ui-select> </div> </div> </div> <div class="form-group"> <label>Mensaje</label> <textarea focus="true" class="form-control input-sm" ng-model="discussion.message" ng-disabled="working" rows="4" style="resize: vertical;"></textarea> <ul ng-if="discussion.entityType != null" style="margin-top: 10px"> <li ng-repeat="example in examples | filter:{ entityTypeId: discussion.entityType.id }"><a href ng-click="discussion.message = example.text">{{ example.text }}</a></li> </ul> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear discusión</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/discussions.html",[]).run(["$templateCache",function(e){e.put("views/discussions.html",'<h1>{{ \'Discussions\' | translate }}</h1> <div class="row"> <div class="col-md-7"> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>Sector</label> <div class="form-group-sm"> <ui-select ng-model="filters.zone" ng-disabled="fetchingZones || fetchingDiscussions"> <ui-select-match allow-clear placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="zone in zones | filterBy: [\'name\']: $select.search"> <span ng-bind-html="zone.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> </div> </div> </div> <div class="col-md-5"> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Sort by\' | translate }}</label> <select ng-model="sorting.orderBy" class="form-control input-sm" ng-options="o.id as o.text for o in orderByColumns" ng-disabled="fetchingDiscussions"> </select> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Sort asc/desc\' | translate }}</label> <select ng-model="sorting.orderDesc" class="form-control input-sm" ng-options="o.id as o.text for o in orderDescOptions" ng-disabled="fetchingDiscussions"> </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label>Mensaje contiene...</label> <div class="input-group"> <input type="text" class="form-control input-sm" ng-model="filters.gloss" ng-keypress="onGlossKeypress($event)" ng-disabled="fetchingDiscussions"> <span class="input-group-addon"> <a href ng-click="filters.gloss = \'\'" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> </div> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="pagination.page = 1; fetchDiscussions()" ng-disabled="fetchingDiscussions">{{ \'Search with these filters\' | translate }}</button> </div> </div> </div> <div class="row" style="margin-top: 30px"> <div class="col-md-12"> <div class="form-group"> <button ng-if="hasPrivilege(\'Discussions\', \'write\')" class="btn btn-default btn-sm" ng-click="openDiscussionModal(true)" title="Modificar">Nueva discusión</button> <button ng-if="hasPrivilege(\'Discussions\', \'delete\')" class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedDiscussion()" ng-disabled="selectedDiscussions.length == 0 || deletingVideo" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> <button class="btn btn-default btn-sm" ng-click="openDiscussionDetailsModal(selectedDiscussions[0])" ng-disabled="selectedDiscussions.length == 0">Ver discusión</button> </div> <p class="grid-caption">{{ "Discussions" | translate }} ({{ pagination.count | number }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingDiscussions"></p> <div id="discussionsGrid" ag-grid="discussionsGrid" class="ag-fresh" style="height: 300px;"></div> <div class="vertical-resizer" resize-target="#discussionsGrid"></div> <ul uib-pagination total-items="pagination.count" items-per-page="pagination.pageSize" ng-model="pagination.page" ng-change="fetchDiscussions()" class="pagination-sm"></ul> </div> </div> ')}]),angular.module("views/donationModal.html",[]).run(["$templateCache",function(e){e.put("views/donationModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <button ng-click="cancel()" type="button" class="close"><span aria-hidden="true">×</span></button> <h3 class="modal-title">Nueva donación</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Tu nombre (opcional)</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="donation.donatorName" ng-disabled="working" focus="true"> </div> <div class="form-group"> <label>Mensaje (opcional)</label> <textarea class="form-control input-sm" ng-model="donation.message" ng-disabled="working" rows="4" style="resize: vertical;"></textarea> </div> <div class="form-group"> <label>Monto (CLP)</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="donation.amountCLP" ng-disabled="working"> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-click="create()" ng-disabled="working">Pagar con Webpay</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/donations.html",[]).run(["$templateCache",function(e){e.put("views/donations.html",'<h1>{{ \'Donations\' | translate }}</h1> <div class="row"> <div class="col-md-6"> <p>Bouldermap es un proyecto sin fines de lucro, filantrópico, pero igualmente tiene gastos:</p> <ul> <li>Microsoft Azure: Storage (fotos)</li> <li>Microsoft Azure: base de datos SQL Server</li> <li>API de Google Maps</li> <li>API para crear proxies de YouTube</li> <li style="color: gray">Suscripción anual de Apple Store</li> <li>Desarrollo y mantención</li> </ul> <p>Acá puedes hacer una donación (anónima o pública) para aportar.</p> </div> <div class="col-md-6"> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Sort by\' | translate }}</label> <select ng-model="sorting.orderBy" class="form-control input-sm" ng-options="o.id as o.text for o in orderByColumns" ng-disabled="fetchingDonations"> </select> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Sort asc/desc\' | translate }}</label> <select ng-model="sorting.orderDesc" class="form-control input-sm" ng-options="o.id as o.text for o in orderDescOptions" ng-disabled="fetchingDonations"> </select> </div> </div> </div> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="pagination.page = 1; fetchDonations()" ng-disabled="fetchingDonations">{{ \'Search with these filters\' | translate }}</button> </div> </div> </div> <div class="row" style="margin-top: 30px"> <div class="col-md-12"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="openDonationModal(true)" title="Modificar">Nueva donación</button> </div> <p class="grid-caption">{{ "Donations" | translate }} ({{ pagination.count | number }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingDonations"></p> <div id="donationsGrid" ag-grid="donationsGrid" class="ag-fresh" style="height: 300px;"></div> <div class="vertical-resizer" resize-target="#donationsGrid"></div> <ul uib-pagination total-items="pagination.count" items-per-page="pagination.pageSize" ng-model="pagination.page" ng-change="fetchDonations()" class="pagination-sm"></ul> </div> </div> ')}]),angular.module("views/drawingModal.html",[]).run(["$templateCache",function(e){e.put("views/drawingModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <button ng-click="cancel()" type="button" class="close"><span aria-hidden="true">×</span></button> <h3 class="modal-title">Modificar dibujo</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-3"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th style="width: 110px">{{ "Problem" | translate }}</th> <td>{{ drawing.problem.name }}</td> </tr> <tr> <th>{{ "Grade" | translate }}</th> <td><span class="color-bullet-span" style="background-color: {{ drawing.problem.grade.color }}"></span> {{ drawing.problem.grade.vGrade }}</td> </tr> </table> <table class="table table-condensed table-bordered"> <tr> <th colspan="2">Línea</th> </tr> <tr> <td style="padding: 5px;"> <div ng-if="lineIsFinished"> <p ng-if="points.length > 0">Línea creada con {{ points.length }} puntos.</p> <button class="btn btn-default btn-sm" ng-click="prepareNewPolyline()" ng-disabled="preparingNewCircle || working">Dibujar</button> </div> <p ng-if="creatingPolyline" style="color: red"> <img src="img/recording.gif" style="height: 20px"> <strong>Dibujando...<br><br> Termina la línea con doble click. </strong></p> </td> </tr> </table> <table class="table table-condensed table-bordered"> <tr> <th colspan="2">Manos de partida ({{ circles.length }} de 2)</th> </tr> <tr> <td style="padding: 5px;"> <div ng-if="!preparingNewCircle"> <ul> <li ng-repeat="circle in circles track by $index"> <span>Mano de partida {{ $index + 1 }}</span> <a href ng-click="deleteCircle($index)"><span class="glyphicon glyphicon-remove"></span></a> </li> </ul> <button class="btn btn-default btn-sm" ng-click="prepareNewCircle()" ng-disabled="creatingPolyline || working">Agregar</button> </div> <p ng-if="preparingNewCircle" style="color: red"> <img src="img/recording.gif" style="height: 20px"> <strong>Elige dónde agregar el círculo.</strong> </p> </td> </tr> </table> <table class="table table-condensed table-bordered"> <tr> <th colspan="2">Ver problemas vecinos</th> </tr> <tr ng-if="fetchingNearestDrawings"> <td style="padding: 5px;"> <img src="img/loading-tiny.gif" alt=""> </td> </tr> <tr ng-if="!fetchingNearestDrawings && nearestDrawings.length == 0"> <td style="padding: 5px;"> No hay problemas vecinos. </td> </tr> <tr ng-if="!fetchingNearestDrawings && nearestDrawings.length > 0"> <td style="padding: 5px;"> <div class="checkbox"> <label> <input type="checkbox" ng-model="settings.showNearestDrawings" ng-change="showOrHideNearestDrawings()" ng-disabled="working"> Ver {{ nearestDrawings.length }} vecinos </label> </div> </td> </tr> </table> <table class="table table-condensed table-bordered" ng-if="!working"> <tr> <th colspan="2">Copiar dibujo de otro problema</th> </tr> <tr ng-if="fetchingNearestDrawings"> <td style="padding: 5px;"> <img src="img/loading-tiny.gif" alt=""> </td> </tr> <tr ng-if="!fetchingNearestDrawings && nearestDrawings.length == 0"> <td style="padding: 5px;"> No hay dibujos vecinos. </td> </tr> <tr ng-if="!fetchingNearestDrawings && nearestDrawings.length > 0"> <td style="padding: 5px;"> <p>Para problemas con versión Sit, Squat y Stand es conveniente reutilizar la línea:</p> <ul> <li ng-repeat="drawing in nearestDrawings"> <a href ng-click="importLine(drawing)">{{ drawing.problem.name }} {{ drawing.problem.grade.vGrade }}</a> </li> </ul> </td> </tr> </table> <table class="table table-condensed table-bordered" ng-if="!working"> <tr> <th colspan="2">Calzar inicio de la línea</th> </tr> <tr ng-if="fetchingNearestDrawings"> <td style="padding: 5px;"> <img src="img/loading-tiny.gif" alt=""> </td> </tr> <tr ng-if="!fetchingNearestDrawings && nearestDrawings.length == 0"> <td style="padding: 5px;"> No hay dibujos vecinos. </td> </tr> <tr ng-if="!fetchingNearestDrawings && nearestDrawings.length > 0"> <td style="padding: 5px;"> <p>Puedes calzar el inicio de la línea con estos problemas:</p> <ul> <li ng-repeat="drawing in nearestDrawings"> <a href ng-click="matchFirstPoint(drawing)">{{ drawing.problem.name }} {{ drawing.problem.grade.vGrade }}</a> </li> </ul> </td> </tr> </table> </div> <div class="col-md-9"> <div ng-if="loadingImage" style="text-align: center; padding: 50px"> <img src="img/loading-tiny.gif" alt=""> <p>Cargando imagen...</p> </div> <div style="position: relative;" ng-show="!loadingImage"> <img id="drawingModal_stonePhoto" ng-src="{{ photoURL }}" style="border: 1px solid black; max-height: 650px; max-width: 100%; left: 0; top: 0; z-index: 0;"> <canvas id="drawingModal_neighboursCanvas" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas> <canvas id="drawingModal_canvas" style="{{ creatingPolyline || preparingNewCircle ? \'cursor: pointer;\' : \'\' }}; position: absolute; left: 0; top: 0; z-index: 2;"></canvas> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-if="working"> <button class="btn btn-primary btn-sm" ng-click="saveDrawing()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/editStonePhotoModal.html",[]).run(["$templateCache",function(e){e.put("views/editStonePhotoModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span>Modificar descripción de foto de piedra</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Descripción de la foto (opcional)</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="stonePhoto.description" ng-disabled="working" focus="true"> <p>ej. Cara norte</p> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-click="edit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/forgotPasswordModal.html",[]).run(["$templateCache",function(e){e.put("views/forgotPasswordModal.html",'<div class="modal-header"> <h3 class="modal-title">{{ \'Forgot my password\' | translate }}</h3> </div> <div class="modal-body"> <div class="row"> <form role="form"> <div class="col-md-12" ng-show="showEmailForm"> <form role="form"> <div class="form-group"> <label>Email</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="email" ng-disabled="working" focus="true"> </div> </form> </div> <div class="col-md-12" ng-show="!showEmailForm"> <form role="form" autocomplete="off"> <div class="form-group"> <label>Email</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="email" ng-disabled="true" autocomplete="nope"> </div> <div class="form-group"> <label>{{ \'Code that weve sent you\' | translate }}</label> <input type="search" class="form-control input-sm" placeholder="" ng-model="code" ng-disabled="working" focus="true" autocomplete="nope"> </div> <div class="form-group"> <label>{{ \'New password\' | translate }}</label> <input type="password" class="form-control input-sm" placeholder="" ng-model="newPassword" ng-disabled="working" autocomplete="new-password"> </div> <div class="form-group"> <label>{{ \'Repeat new password\' | translate }}</label> <input type="password" class="form-control input-sm" placeholder="" ng-model="repeatedNewPassword" ng-disabled="working" autocomplete="new-password"> </div> </form> </div> </form> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button ng-if="showEmailForm" class="btn btn-primary btn-sm" ng-click="sendEmail()" ng-disabled="working">{{ \'Accept\' | translate }}</button> <button ng-if="!showEmailForm" class="btn btn-primary btn-sm" ng-click="changePassword()" ng-disabled="working">{{ \'Change password\' | translate }}</button> <a class="btn btn-default btn-sm" ng-click="cancel()">{{ \'Cancel\' | translate }}</a> </div> ')}]),angular.module("views/gradeModal.html",[]).run(["$templateCache",function(e){e.put("views/gradeModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear grado</span> <span ng-show="!createMode">Modificar grado</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Grado V</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="grade.vGrade" ng-disabled="working" focus="true"> </div> <div class="form-group"> <label>Grado Font</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="grade.fontGrade" ng-disabled="working"> </div> <div class="form-group"> <label>Color</label> <input type="color" class="form-control input-sm" placeholder="" ng-model="grade.color" ng-disabled="working"> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear grado</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/grades.html",[]).run(["$templateCache",function(e){e.put("views/grades.html",'<h1>Tablas > Grados</h1> <div class="row"> <div class="col-md-7"> <div class="row"> </div> </div> <div class="col-md-5"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="fetchGrades()" ng-disabled="fetchingGrades">{{ \'Search with these filters\' | translate }}</button> <button class="btn btn-default btn-sm" ng-confirm-message="Se creará una tarea" ng-confirm-click="fetchGrades(\'xlsx\')" ng-disabled="fetchingGrades">XLSX</button> </div> </div> </div> <div class="row" style="margin-top: 30px"> <div class="col-md-12"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="openGradeModal(true)" ng-disabled="">Crear grado</button> <button class="btn btn-default btn-sm" ng-click="openGradeModal(false)" ng-disabled="selectedGrades.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedGrade()" ng-disabled="selectedGrades.length == 0 || deletingGrade" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'gradesGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="resetColumns(\'gradesGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption">Grados ({{ grades.length }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingGrades"></p> <div id="gradesGrid" ag-grid="gradesGrid" class="ag-fresh" style="height: 290px;"></div> <div class="vertical-resizer" resize-target="#gradesGrid"></div> </div> </div>')}]),angular.module("views/gymGradeModal.html",[]).run(["$templateCache",function(e){e.put("views/gymGradeModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear grado de gimnasio</span> <span ng-show="!createMode">Modificar grado de gimnasio</span> </h3> </div> <div class="modal-body"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th style="width: 110px">{{ "City" | translate }}</th> <td>{{ gymGrade.gym.city.name }}</td> </tr> <tr> <th>{{ "Gym" | translate }}</th> <td>{{ gymGrade.gym.name }}</td> </tr> </table> <div class="form-group"> <label>Descripción</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="gymGrade.description" ng-disabled="working"> </div> <div class="form-group"> <label>Color</label> <input type="color" class="form-control input-sm" placeholder="" ng-model="gymGrade.color" ng-disabled="working"> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label>Min. grado</label> <div class="form-group-sm"> <ui-select ng-model="gymGrade.minGrade" ng-disabled="fetchingGrades || working"> <ui-select-match placeholder="">{{ $select.selected.fontGrade }} / {{ $select.selected.vGrade }}</ui-select-match> <ui-select-choices repeat="grade in grades | filterBy: [\'vGrade\', \'fontGrade\']: $select.search"> <span ng-bind-html="grade.fontGrade | highlight: $select.search"></span> / <span ng-bind-html="grade.vGrade | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label>Máx. grado</label> <div class="form-group-sm"> <ui-select ng-model="gymGrade.maxGrade" ng-disabled="fetchingGrades || working"> <ui-select-match placeholder="">{{ $select.selected.fontGrade }} / {{ $select.selected.vGrade }}</ui-select-match> <ui-select-choices repeat="grade in grades | filterBy: [\'vGrade\', \'fontGrade\']: $select.search"> <span ng-bind-html="grade.fontGrade | highlight: $select.search"></span> / <span ng-bind-html="grade.vGrade | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear grado</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/gymModal.html",[]).run(["$templateCache",function(e){e.put("views/gymModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear gimnasio</span> <span ng-show="!createMode">Modificar gimnasio</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Nombre del gimnasio</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="gym.name" ng-disabled="working" focus="true"> </div> <div class="form-group"> <label>Ciudad</label> <div class="form-group-sm"> <ui-select ng-model="gym.city" ng-disabled="fetchingCities || working"> <ui-select-match placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="city in cities | filterBy: [\'name\']: $select.search"> <span ng-bind-html="city.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>Latitud</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="gym.lat" ng-disabled="working"> <a href ng-click="openPinModal()">Usar mapa...</a> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>Longitud</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="gym.lng" ng-disabled="working"> </div> </div> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear gimnasio</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/gyms.html",[]).run(["$templateCache",function(e){e.put("views/gyms.html",'<h1>Gimnasios</h1> <div class="row"> <div class="col-md-7"> <div class="row"> </div> </div> <div class="col-md-5"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="fetchGyms()" ng-disabled="fetchingGyms">{{ \'Search with these filters\' | translate }}</button> <button class="btn btn-default btn-sm" ng-confirm-message="Se creará una tarea" ng-confirm-click="fetchGyms(\'xlsx\')" ng-disabled="fetchingGyms">XLSX</button> </div> </div> </div> <div class="row" style="margin-top: 30px"> <div class="col-md-12"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="openGymModal(true)" ng-disabled="">Crear gimnasio</button> <button class="btn btn-default btn-sm" ng-click="openGymModal(false)" ng-disabled="selectedGyms.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedGym()" ng-disabled="selectedGyms.length == 0 || deletingGym" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'gymsGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="resetColumns(\'gymsGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption">Gimnasios ({{ gyms.length }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingGyms"></p> <div id="gymsGrid" ag-grid="gymsGrid" class="ag-fresh" style="height: 150px;"></div> <div class="vertical-resizer" resize-target="#gymsGrid"></div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="openGymGradeModal(true)" ng-disabled="selectedGyms.length == 0">Crear grado de gimnasio</button> <button class="btn btn-default btn-sm" ng-click="openGymGradeModal(false)" ng-disabled="selectedGymsGrades.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedGym()" ng-disabled="selectedGymsGrades.length == 0 || deletingGymGrade" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'gymsGradesGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="resetColumns(\'gymsGradesGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption">Grados del gimnasio ({{ gymsGrades.length }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingGymsGrades"></p> <div id="gymsGradesGrid" ag-grid="gymsGradesGrid" class="ag-fresh" style="height: 200px;"></div> <div class="vertical-resizer" resize-target="#gymsGradesGrid"></div> </div> </div> ')}]),angular.module("views/help.html",[]).run(["$templateCache",function(e){e.put("views/help.html",'<h1>Ayuda</h1> <p> </p> <div class="row"> <div class="col-md-6"> </div> <div class="col-md-6"> </div> </div> ')}]),angular.module("views/imapModal.html",[]).run(["$templateCache",function(e){e.put("views/imapModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear IMAP</span> <span ng-show="!createMode">Modificar IMAP</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label>Host</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="imap.host" ng-disabled="working"> </div> <div class="form-group"> <label>Puerto</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="imap.port" ng-disabled="working"> </div> <div class="checkbox"> <label> <input type="checkbox" ng-model="imap.ssl" ng-disabled="working"> Use SSL </label> </div> <div class="form-group"> <label>Email</label> <form><input autocomplete="off" type="text" class="form-control input-sm" placeholder="" ng-model="imap.email" ng-disabled="working"></form> </div> </div> <div class="col-md-6"> <div class="form-group"> <label>Username</label> <form><input autocomplete="off" type="text" class="form-control input-sm" placeholder="" ng-model="imap.username" ng-disabled="working"></form> </div> <div class="form-group"> <label>Password</label> <form><input autocomplete="off" type="password" class="form-control input-sm" placeholder="" ng-model="imap.password" ng-disabled="working"></form> <p ng-if="!createMode"><small>Deja en blanco si no quieres modificarla</small></p> </div> </div> </div> <div class="row" ng-if="imap.host == \'imap.gmail.com\'"> <div class="col-md-12"> <div class="alert alert-info"> <p>Cuando el IMAP es de Google, debes crear una "App Password" siguiendo estos pasos:</p> <ol> <li>Ir a tu <a href="https://myaccount.google.com/" target="_blank">Google Account</a></li> <li>Security > App Passwords</li> <li>Crear una password y usarla acá</li> </ol> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear IMAP</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/imaps.html",[]).run(["$templateCache",function(e){e.put("views/imaps.html",'<h1>Sistema > IMAPs</h1> <div class="row"> <div class="col-md-12"> <div class="form-inline"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="openIMAPModal(true)" ng-disabled="">Crear IMAP</button> <button class="btn btn-default btn-sm" ng-click="openIMAPModal(false)" ng-disabled="selectedIMAPs.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedIMAP()" ng-disabled="selectedIMAPs.length == 0 || deletingIMAP" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> <button class="btn btn-default btn-sm" ng-click="checkSupportsWithin()" ng-disabled="selectedIMAPs.length == 0 || checkingSupportsWithin">Chequear soporte WITHIN</button> </div> </div> <p class="grid-caption">{{ \'IMAPs\' | translate }} <img src="img/loading-tiny.gif" alt="" ng-show="fetchingIMAPs"></p> <div id="imapsGrid" ag-grid="imapsGrid" class="ag-fresh" style="height: 250px;"></div> <div class="vertical-resizer" resize-target="#imapsGrid"></div> </div> </div>')}]),angular.module("views/indicationDetailsModal.html",[]).run(["$templateCache",function(e){e.put("views/indicationDetailsModal.html",'<div class="modal-header"> <button ng-click="cancel()" type="button" class="close"><span aria-hidden="true">×</span></button> <h3 class="modal-title">Ver indicación: "{{ indication.name }}"</h3> <a href ng-click="copyCoordinates()" title="Copiar al clipboard"><span class="glyphicon glyphicon-pushpin"></span> {{ indication.lat }}, {{ indication.lng }}</a> </div> <div class="modal-body"> <div class="row" style="margin-bottom: 20px"> <div class="col-md-6"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th colspan="2" style="text-align: center"> Indicación <div class="pull-right" ng-if="currentUser.isLogged"> <button class="btn btn-default btn-xs" ng-click="openIndicationModal()" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button class="btn btn-default btn-xs" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteIndication()" ng-disabled="deletingIndication" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> </th> </tr> <tr> <th style="width: 100px">Nombre</th> <td>{{ indication.name }}</td> </tr> <tr style="height: 200px"> <th>Descripción</th> <td>{{ indication.description }}</td> </tr> </table> </div> <div class="col-md-6"> <div ng-if="indication.hasPhoto" style="position:relative"> <div ng-if="currentUser.isLogged" style="position: absolute; right: 0; padding: 10px"> <button class="btn btn-default btn-xs" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteIndicationPhoto()" ng-disabled="deletingIndicationPhoto" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> <img src="img/loading-tiny.gif" alt="" ng-show="deletingIndicationPhoto"> </div> <a href="{{ indication.photoURL }}" target="_blank"> <img style="max-width: 100%" ng-src="{{ indication.photoURL }}"> </a> </div> <div ng-if="!indication.hasPhoto" style="width: 100%; height: 314px; border: 1px solid gray; text-align: center; padding-top: 50px"> <p> Indicación sin foto.<br> <a ng-if="currentUser.isLogged" href ng-click="openUploadIndicationPhotoModal()">Agrega una foto.</a> </p> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/indicationModal.html",[]).run(["$templateCache",function(e){e.put("views/indicationModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear indicación</span> <span ng-show="!createMode">Modificar indicación</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th style="width: 110px">{{ "City" | translate }}</th> <td>{{ indication.zone.city.name }}</td> </tr> <tr> <th>{{ "Zone" | translate }}</th> <td>{{ indication.zone.name }}</td> </tr> </table> <div class="form-group"> <label>Nombre de indicación</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="indication.name" ng-disabled="working" focus="true"> <p>Ej: <a href ng-click="indication.name = \'Estacionamiento\'">Estacionamiento</a>, <a href ng-click="indication.name = \'Inicio del sendero\'">Inicio del sendero</a></p> </div> <div class="form-group"> <label>Descripción (opcional)</label> <textarea class="form-control input-sm" ng-model="indication.description" ng-disabled="working" rows="4" style="resize: vertical;"></textarea> <p>Ej: La entrada cuesta $3.000</p> </div> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>Latitud</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="indication.lat" ng-disabled="working"> <a href ng-click="openPinModal()">Usar mapa...</a> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>Longitud</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="indication.lng" ng-disabled="working"> </div> </div> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear indicación</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/indicationsModal.html",[]).run(["$templateCache",function(e){e.put("views/indicationsModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <button ng-click="cancel()" type="button" class="close"><span aria-hidden="true">×</span></button> <h3 class="modal-title">Indicaciones del sector: "{{ zone.name }}"</h3> </div> <div class="modal-body"> <div ng-if="fetchingIndications" style="text-align: center; padding: 50px"> <img src="img/loading-tiny.gif" alt=""> <p>Cargando indicaciones...</p> </div> <div ng-if="indications.length == 0 && !fetchingIndications" style="text-align: center; padding: 50px"> <p> No hay indicaciones en este sector.<br> </p> </div> <div class="form-group" ng-if="currentUser.isLogged"> <button ng-if="hasPrivilege(\'Indications\', \'write\')" class="btn btn-default btn-sm" ng-click="openIndicationModal()">Agregar nueva...</button> <div ng-if="hasPrivilege(\'Discussions\', \'write\')" class="btn-group" uib-dropdown is-open="discussMenuIsOpen"> <button type="button" class="btn btn-default btn-sm dropdown-toggle" uib-dropdown-toggle> <span class="glyphicon glyphicon-comment"></span> <span style="margin-left: 8px; margin-right: 8px">Discutir</span> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a href ng-click="openNewIndicationDiscussionModal()">Quiero agregar una indicación</a></li> </ul> </div> </div> <div class="row" ng-repeat="indication in indications track by $index" style="margin-bottom: 20px"> <div class="col-md-6"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th colspan="2" style="text-align: center"> Indicación {{ $index + 1 }} de {{ indications.length }} <div class="pull-right" ng-if="currentUser.isLogged"> <button ng-if="hasPrivilege(\'Indications\', \'write\')" class="btn btn-default btn-xs" ng-click="openIndicationModal(indication)" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button ng-if="hasPrivilege(\'Indications\', \'delete\')" class="btn btn-default btn-xs" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteIndication(indication)" ng-disabled="deletingIndication" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> </th> </tr> <tr> <th style="width: 100px">Nombre</th> <td>{{ indication.name }}</td> </tr> <tr style="height: 200px"> <th>Descripción</th> <td> <p>{{ indication.description }}</p> </td> </tr> <tr> <th>Ubicación</th> <td><a href ng-click="copyCoordinates(indication)" title="Copiar al clipboard"><span class="glyphicon glyphicon-pushpin"></span> {{ indication.lat }}, {{ indication.lng }}</a></td> </tr> <tr ng-if="hasPrivilege(\'Discussions\', \'write\')"> <th></th> <td> <div class="btn-group" uib-dropdown is-open="discussVideoMenuIsOpen"> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="glyphicon glyphicon-comment"></span> <span style="margin-left: 8px; margin-right: 8px">Discutir</span> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a href ng-click="openIndicationDiscussionModal(indication, \'Falta información: \')">Falta información</a></li> <li class="divider"></li> <li><a href ng-click="openIndicationDiscussionModal(indication, \'La ubicación correcta es: \')">La ubicación correcta es...</a></li> </ul> </div> </td> </tr> </table> </div> <div class="col-md-6"> <div ng-if="indication.hasPhoto" style="position:relative"> <div ng-if="hasPrivilege(\'Indications\', \'write\')" style="position: absolute; right: 0; padding: 10px"> <button class="btn btn-default btn-xs" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteIndicationPhoto(indication)" ng-disabled="deletingIndicationPhoto" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> <img src="img/loading-tiny.gif" alt="" ng-show="deletingIndicationPhoto"> </div> <a href="{{ indication.photoURL }}" target="_blank"> <img style="max-width: 100%" ng-src="{{ indication.photoURL }}"> </a> </div> <div ng-if="!indication.hasPhoto" style="width: 100%; height: 314px; border: 1px solid gray; text-align: center; padding-top: 50px"> <p> Indicación sin foto.<br> <a href ng-if="hasPrivilege(\'Indications\', \'write\')" ng-click="openUploadIndicationPhotoModal(indication)">Agrega una foto.</a> </p> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/loggedUsers.html",[]).run(["$templateCache",function(e){e.put("views/loggedUsers.html",'<h1>{{ \'Logged users\' | translate }}</h1> <div class="row"> <div class="col-md-12"> <form class="form-inline"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="fetchLoggedUsers()" ng-disabled="fetchingLoggedUsers">Actualizar</button> <button class="btn btn-default btn-sm" ng-click="clear()" ng-disabled="clearing">Limpiar idle > 60 m</button> </div> </form> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'loggedUsersGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="resetColumns(\'loggedUsersGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption">{{ \'Logged users\' | translate }} ({{ loggedUsers.length }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingLoggedUsers"></p> <div id="loggedUsersGrid" ag-grid="loggedUsersGrid" class="ag-fresh" style="height: 250px;"></div> <div class="vertical-resizer" resize-target="#loggedUsersGrid" style="margin-bottom: 0px"></div> </div> </div> ')}]),angular.module("views/login.html",[]).run(["$templateCache",function(e){e.put("views/login.html",'<div class="row" ng-show="!currentUser.isLogged"> <div class="col-md-offset-4 col-md-4"> <h1>{{ \'Login\' | translate }}</h1> <div class="well"> <form role="form"> <div class="form-group"> <label>Email o username</label> <input type="text" autocapitalize="off" class="form-control" placeholder="" ng-model="email" ng-disabled="authenticating" focus="true"> </div> <div class="form-group"> <label>{{ \'Password\' | translate }}</label> <input type="password" class="form-control" placeholder="" ng-model="password" ng-disabled="authenticating"> </div> <button class="btn btn-primary" ng-click="login()" ng-disabled="authenticating">{{ \'Login\' | translate }}</button> <a class="pull-right" href ng-click="openForgotPasswordModal()">{{ \'Forgot my password\' | translate }}</a> <img src="img/loading-tiny.gif" alt="" ng-show="authenticating"> </form> </div> </div> </div> <div class="row" ng-show="currentUser.isLogged"> <div class="col-md-6"> <h1>Hola {{ currentUser.user.name }}</h1> </div> </div>')}]),angular.module("views/loginModal.html",[]).run(["$templateCache",function(e){e.put("views/loginModal.html",'<div class="modal-header"> <h3 class="modal-title">{{ \'Login\' | translate }}</h3> </div> <div class="modal-body"> <div class="row"> <form role="form"> <div class="col-md-12"> <div class="form-group"> <label>Email o username</label> <input type="text" autocapitalize="off" class="form-control input-sm" placeholder="" ng-model="email" ng-disabled="authenticating" focus="true"> </div> <div class="form-group"> <label>{{ \'Password\' | translate }}</label> <input ng-keypress="passwordKeypress($event)" type="password" class="form-control input-sm" placeholder="" ng-model="password" ng-disabled="authenticating"> </div> <a class="pull-right" href ng-click="openForgotPasswordModal()">{{ \'Forgot my password\' | translate }}</a> </div> </form> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="authenticating"> <button class="btn btn-primary btn-sm" ng-click="login()" ng-disabled="authenticating">{{ \'Login\' | translate }}</button> </div> ')}]),angular.module("views/logModal.html",[]).run(["$templateCache",function(e){e.put("views/logModal.html",'<div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">&times;</span></button> <h3 class="modal-title"> <span>Detalle de log <img src="img/loading-tiny.gif" alt="" ng-show="fetchingLog"></span> </h3> </div> <div class="modal-body"> <uib-tabset> <uib-tab heading="General"> <table class="table table-bordered table-condensed"> <tr> <th style="width: 120px">id</th> <td>{{ log.logId }}</td> </tr> <tr> <th>Usuario</th> <td>{{ log.userEmail }}</td> </tr> <tr> <th>Fecha</th> <td>{{ log.date | date:\'yyyy-MM-dd hh:mm a\' }}</td> </tr> <tr> <th>URL</th> <td>{{ log.url }}</td> </tr> <tr> <th>Parametros</th> <td>{{ log.parameters }}</td> </tr> <tr> <th>Mensaje</th> <td style="white-space: pre-line">{{ log.message }}</td> </tr> </table> </uib-tab> <uib-tab heading="Antes/Después"> <div class="row"> <div class="col-md-6"> <h6>Antes:</h6> <textarea class="form-control" rows="25" style="resize: vertical; font-family: courier new; font-size: 11px">{{before | json}}</textarea> </div> <div class="col-md-6"> <h6>Después:</h6> <textarea class="form-control" rows="25" style="resize: vertical; font-family: courier new; font-size: 11px">{{after | json}}</textarea> </div> </div> </uib-tab> <uib-tab heading="Diferencias (JSON)"> <div class="row"> <div class="col-md-12"> <h6>Diff:</h6> <textarea class="form-control" rows="25" style="resize: vertical; font-family: courier new; font-size: 11px">{{delta | json}}</textarea> </div> </div> </uib-tab> <uib-tab heading="Diferencias (HTML)"> <div class="row"> <div class="col-md-12"> <div id="beautiful-html" ng-bind-html="beautifulHtml" style="height: 300px; overflow-y: scroll"></div> <div class="vertical-resizer" resize-target="#beautiful-html"></div> </div> </div> </uib-tab> </uib-tabset> </div> <div class="modal-footer"> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/logs.html",[]).run(["$templateCache",function(e){e.put("views/logs.html",'<h1>{{ \'Logs\' | translate }}</h1> <div class="row"> <div class="col-md-7"> <div class="row"> <div class="col-md-4"> <label>{{ \'User\' | translate }}</label> <div class="form-group-sm"> <ui-select ng-model="filters.user" ng-disabled="fetchingUsers || fetchingLogs"> <ui-select-match allow-clear="true" placeholder="">{{$select.selected.email}}</ui-select-match> <ui-select-choices repeat="user in users | filterBy: [\'name\', \'code\']: $select.search"> <div ng-bind-html="user.name | highlight: $select.search"></div> <small ng-bind-html="user.email | highlight: $select.search"></small> <hr style="margin-top: 0px; margin-bottom: 0px; border-top: 1px solid #C0C0C0;"> </ui-select-choices> </ui-select> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Action\' | translate }}</label> <div class="input-group"> <select ng-model="filters.action" class="form-control input-sm" ng-options="o.id as o.text for o in actions" ng-disabled="fetchingLogs"> </select> <span class="input-group-addon"> <a href ng-click="filters.action = null;" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> </div> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Entity type\' | translate }}</label> <div class="form-group-sm"> <ui-select ng-model="filters.entityType" ng-disabled="fetchingLogs"> <ui-select-match allow-clear="true" placeholder="">{{$select.selected.name}}</ui-select-match> <ui-select-choices repeat="entitiyType in entitiesTypes | filterBy: [\'name\', \'code\']: $select.search"> <div ng-bind-html="entitiyType.name | highlight: $select.search"></div> <hr style="margin-top: 0px; margin-bottom: 0px; border-top: 1px solid #C0C0C0;"> </ui-select-choices> </ui-select> </div> </div> </div> </div> </div> <div class="col-md-5"> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label>Desde fecha</label> <p class="input-group"> <input type="text" class="form-control input-sm" ng-readonly="true" datepicker-options="datePickerOptions" uib-datepicker-popup="yyyy-MM-dd" ng-model="filters.startDate" is-open="datePickerIsOpen.startDate" current-text="Hoy" clear-text="Limpiar" close-text="Cerrar"> <span class="input-group-btn"> <button type="button" class="btn btn-default btn-sm" ng-click="datePickerIsOpen.startDate = !datePickerIsOpen.startDate"><i class="glyphicon glyphicon-calendar"></i></button> </span> </p> </div> </div> <div class="col-md-6"> <div class="form-group"> <label>Hasta fecha</label> <p class="input-group"> <input type="text" class="form-control input-sm" ng-readonly="true" datepicker-options="datePickerOptions" uib-datepicker-popup="yyyy-MM-dd" ng-model="filters.endDate" is-open="datePickerIsOpen.endDate" current-text="Hoy" clear-text="Limpiar" close-text="Cerrar"> <span class="input-group-btn"> <button type="button" class="btn btn-default btn-sm" ng-click="datePickerIsOpen.endDate = !datePickerIsOpen.endDate"><i class="glyphicon glyphicon-calendar"></i></button> </span> </p> </div> </div> </div> <div class="form-group"> <label>Mensaje contiene...</label> <input type="text" class="form-control input-sm" ng-model="filters.message"> </div> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="pagination.page = 1; fetchLogs()" ng-disabled="fetchingLogs">{{ \'Search logs with these filters\' | translate }}</button> </div> </div> </div> <div class="row"> <div class="col-md-12"> <form class="form-inline"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="openLogModal()" ng-disabled="selectedLogs.length == 0">Ver detalle</button> </div> </form> <p class="grid-caption">Logs ({{ pagination.count | number }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingLogs"></p> <div id="logsGrid" ag-grid="logsGrid" class="ag-fresh" style="height: 250px;"></div> <div class="vertical-resizer" resize-target="#logsGrid"></div> <ul uib-pagination total-items="pagination.count" items-per-page="pagination.pageSize" ng-model="pagination.page" ng-change="fetchLogs()" class="pagination-sm"></ul> </div> </div> ')}]),angular.module("views/mailModal.html",[]).run(["$templateCache",function(e){e.put("views/mailModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span>Enviar reserva #{{ booking.bookingId }} por email</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Desde (Smtp)</label> <select ng-model="selectedSmtp.selected" class="form-control input-sm" ng-options="o as o.email for o in smtps" ng-disabled="working || fetchingSmtps"> </select> </div> <div class="form-group"> <label>Asunto</label> <input type="text" class="form-control input-sm" ng-model="mail.subject" ng-disabled="working"> </div> <div class="form-group"> <label>Destinatarios</label> <textarea class="form-control input-sm" ng-model="mail.to" ng-disabled="working" rows="4" style="resize: vertical;"></textarea> </div> <div class="form-group"> <label>Cuerpo</label> <textarea class="form-control input-sm" ng-model="mail.body" ng-disabled="working" rows="4" style="resize: vertical;"></textarea> </div> <div class="form-group"> <label>Cantidad de logs</label> <input style="width: 100px" type="number" class="form-control input-sm" placeholder="" ng-model="settings.logsCount" ng-disabled="working"> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-danger btn-sm" ng-confirm-message="Confirma esta acción" ng-confirm-click="send()" ng-disabled="working">Enviar</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">{{ \'Close\' | translate }}</button> </div> ')}]),angular.module("views/mails.html",[]).run(["$templateCache",function(e){e.put("views/mails.html",'<h1>Reservas de contenedores > Mails</h1> <div class="row"> <div class="col-md-7"> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>Exportadora</label> <div class="input-group"> <div class="form-group-sm"> <ui-select ng-model="filters.exporter" ng-disabled="fetchingExporters || fetchingMails"> <ui-select-match placeholder="">{{$select.selected.name}}</ui-select-match> <ui-select-choices repeat="exporter in exporters | filterBy: [\'name\', \'code\']: $select.search"> <div ng-bind-html="exporter.name | highlight: $select.search"></div> <hr style="margin-top: 0px; margin-bottom: 0px; border-top: 1px solid #C0C0C0;"> </ui-select-choices> </ui-select> </div> <span class="input-group-addon"> <a href ng-click="filters.exporter = undefined" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> <div class="form-group"> <label>Naviera</label> <div class="input-group"> <div class="form-group-sm"> <ui-select ng-model="filters.carrier" ng-disabled="fetchingCarriers || fetchingMails"> <ui-select-match placeholder="">{{$select.selected.name}}</ui-select-match> <ui-select-choices repeat="carrier in carriers | filterBy: [\'name\', \'code\']: $select.search"> <div ng-bind-html="carrier.name | highlight: $select.search"></div> <hr style="margin-top: 0px; margin-bottom: 0px; border-top: 1px solid #C0C0C0;"> </ui-select-choices> </ui-select> </div> <span class="input-group-addon"> <a href ng-click="filters.carrier = undefined" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>Estado</label> <div class="input-group"> <select ng-model="filters.state" class="form-control input-sm" ng-options="o.id as o.text for o in states" ng-disabled="fetchingMails"> </select> <span class="input-group-addon"> <a href ng-click="filters.state = null" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> <div class="form-group"> <label>Puerto de embarque</label> <div class="input-group"> <div class="form-group-sm"> <ui-select ng-model="filters.departurePort" ng-disabled="fetchingDeparturePorts || fetchingMails"> <ui-select-match placeholder="">{{$select.selected.name}}</ui-select-match> <ui-select-choices repeat="port in departurePorts | filterBy: [\'name\', \'code\']: $select.search"> <div ng-bind-html="port.name | highlight: $select.search"></div> <hr style="margin-top: 0px; margin-bottom: 0px; border-top: 1px solid #C0C0C0;"> </ui-select-choices> </ui-select> </div> <span class="input-group-addon"> <a href ng-click="filters.departurePort = undefined" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> <div class="form-group"> <label>Puerto de descarga</label> <div class="input-group"> <div class="form-group-sm"> <ui-select ng-model="filters.arrivalPort" ng-disabled="fetchingArrivalPorts || fetchingMails"> <ui-select-match placeholder="">{{$select.selected.name}}</ui-select-match> <ui-select-choices repeat="port in arrivalPorts | filterBy: [\'name\', \'code\']: $select.search"> <div ng-bind-html="port.name | highlight: $select.search"></div> <hr style="margin-top: 0px; margin-bottom: 0px; border-top: 1px solid #C0C0C0;"> </ui-select-choices> </ui-select> </div> <span class="input-group-addon"> <a href ng-click="filters.arrivalPort = undefined" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> <div class="col-md-4"> </div> </div> </div> <div class="col-md-5"> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>Ordenar por</label> <select ng-model="sorting.orderBy" class="form-control input-sm" ng-options="o.id as o.text for o in orderByColumns" ng-disabled="fetchingMails"> </select> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>Orden asc/desc</label> <select ng-model="sorting.orderDesc" class="form-control input-sm" ng-options="o.id as o.text for o in orderDescOptions" ng-disabled="fetchingMails"> </select> </div> </div> </div> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>id de reserva</label> <div class="input-group"> <input type="text" class="form-control input-sm" ng-model="filters.bookingId" ng-disabled="fetchingMails"> <span class="input-group-addon"> <a href ng-click="filters.bookingId = \'\'" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>Inttra Reference Number</label> <div class="input-group"> <input type="text" class="form-control input-sm" ng-model="filters.inttraReferenceNumber" ng-disabled="fetchingMails"> <span class="input-group-addon"> <a href ng-click="filters.inttraReferenceNumber = \'\'" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>Booking</label> <div class="input-group"> <input type="text" class="form-control input-sm" ng-model="filters.bookingCode" ng-disabled="fetchingMails"> <span class="input-group-addon"> <a href ng-click="filters.bookingCode = \'\'" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> </div> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="pagination.page = 1; fetchMails()" ng-disabled="fetchingMails">{{ \'Search with these filters\' | translate }}</button> <button class="btn btn-default btn-sm" ng-confirm-message="Se creará una tarea" ng-confirm-click="fetchMails(\'xlsx\')" ng-disabled="fetchingMails">XLSX</button> </div> </div> </div> <div class="row" style="margin-top: 30px"> <div class="col-md-12"> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'mailsGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="resetColumns(\'mailsGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption">Mails ({{ pagination.count }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingMails"></p> <div id="mailsGrid" ag-grid="mailsGrid" class="ag-fresh" style="height: 300px;"></div> <div class="vertical-resizer" resize-target="#mailsGrid"></div> <ul uib-pagination total-items="pagination.count" items-per-page="pagination.pageSize" ng-model="pagination.page" ng-change="fetchMails()" class="pagination-sm"></ul> </div> </div> <div class="row"> <div class="col-md-12" ng-if="selectedMails.length == 1"> <h1>Email seleccionado</h1> <div style="border: 1px solid #a2a2a2; padding: 20px;"> <div ng-bind-html="trustAsHtml(selectedMails[0].body)"></div> </div> </div> </div>')}]),angular.module("views/mapModal.html",[]).run(["$templateCache",function(e){e.put("views/mapModal.html",'<div class="modal-header"> <h3 class="modal-title">Mapa del sector "{{ zone.name }}"</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div id="map" style="height: 600px; border: 1px solid black"></div> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/menus.html",[]).run(["$templateCache",function(e){e.put("views/menus.html",'<h1>Sistema > Menus</h1> <div class="row"> <div class="col-md-12"> <p class="grid-caption">Menus <img src="img/loading-tiny.gif" alt="" ng-show="fetchingMenus"></p> <div id="menusGrid" ag-grid="menusGrid" class="ag-fresh" style="height: 250px;"></div> <div class="vertical-resizer" resize-target="#menusGrid"></div> </div> </div>')}]),angular.module("views/newDrawingModal.html",[]).run(["$templateCache",function(e){e.put("views/newDrawingModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <button ng-click="cancel()" type="button" class="close"><span aria-hidden="true">×</span></button> <h3 class="modal-title">Nuevo dibujo para problema: "{{ drawing.problem.name }}" <span class="color-bullet-span" style="background-color: {{ drawing.problem.grade.color }}"></span> {{ drawing.problem.grade.vGrade }}</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <p ng-if="stonesPhotos.length > 0">Elige una foto de esta piedra.</p> <img src="img/loading-tiny.gif" alt="" ng-show="fetchingStonesPhotos"> <div ng-if="!fetchingStonesPhotos && stonesPhotos.length == 0"> <p> No hay fotos de esta piedra.<br> <a href ng-click="openCreateStonePhotoModal()">Sube una foto</a> para poder crear un dibujo. </p> </div> <div class="row"> <div class="col-md-3" ng-repeat="stonePhoto in stonesPhotos" style="margin-bottom: 8px"> <img ng-click="drawing.stonePhoto = stonePhoto" ng-src="{{ stonePhoto.photoURL }}" style="cursor: pointer; max-width: 100%; {{ (drawing.stonePhoto.stonePhotoId == stonePhoto.stonePhotoId) ? \'border: 3px solid black\' : \'border: 3px solid #cfcfcf\' }}"> </div> </div> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-primary btn-sm" ng-click="createDrawing()" ng-disabled="working || drawing.stonePhoto == null">Crear dibujo</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/newVersionModal.html",[]).run(["$templateCache",function(e){e.put("views/newVersionModal.html",'<div class="modal-header"> <h3 class="modal-title">Nueva versión</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <p> Hay una nueva versión del software disponible ({{ availableBuild }}).<br> Estás usando el build {{ currentBuild }} </p> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-click="refreshBrowser()" ng-disabled="working">Actualizar</button> </div> ')}]),angular.module("views/observableModal.html",[]).run(["$templateCache",function(e){e.put("views/observableModal.html",'<div class="modal-header"> <h3 class="modal-title">Observable por {{ user.email }}</h3> </div> <div class="modal-body"> <uib-tabset> <uib-tab> <uib-tab-heading> <i class="glyphicon glyphicon-eye-open" style="margin-right: 15px"></i> <strong>Exportadoras</strong> </uib-tab-heading> <div class="panel panel-default" style="margin-top: 20px"> <div class="panel-heading"><strong>Agregar exportadora</strong></div> <div class="panel-body"> <div class="form-group"> <label>Exportadora</label> <div class="form-group-sm"> <ui-select ng-model="selectedExporter.selected" on-select="onExporterSelected($item, $model)"> <ui-select-match placeholder="">{{$select.selected.code}}</ui-select-match> <ui-select-choices repeat="exporter in exporters | filterBy: [\'name\', \'code\']: $select.search"> <div ng-bind-html="exporter.name | highlight: $select.search"></div> </ui-select-choices> </ui-select> </div> </div> </div> </div> <p><strong>Exportadoras observables:</strong> {{ userExporters.length == 0 ? "Todas las exportadoras" : userExporters.length }}</p> <table class="table table-bordered table-condensed" ng-if="userExporters.length > 0"> <tr> <th>Nombre</th> <th></th> </tr> <tr ng-repeat="exporter in userExporters"> <td>{{ exporter.name }}</td> <td style="text-align: right"><a href ng-confirm-message="¿Estás seguro?" ng-confirm-click="removeUserExporter(exporter.exporterId)" title="Quitar"><span class="glyphicon glyphicon-remove"></span></a></td> </tr> </table> </uib-tab> <uib-tab> <uib-tab-heading> <i class="glyphicon glyphicon-eye-open" style="margin-right: 15px"></i> <strong>Consignatarios</strong> </uib-tab-heading> <div class="panel panel-default" style="margin-top: 20px"> <div class="panel-heading"><strong>Agregar consignatario</strong></div> <div class="panel-body"> <div class="form-group"> <label>Consignatario</label> <div class="form-group-sm"> <ui-select ng-model="selectedConsignee.selected" on-select="onConsigneeSelected($item, $model)"> <ui-select-match placeholder="">{{$select.selected.code}}</ui-select-match> <ui-select-choices repeat="consignee in consignees | filterBy: [\'name\', \'code\']: $select.search"> <div ng-bind-html="consignee.name | highlight: $select.search"></div> </ui-select-choices> </ui-select> </div> </div> </div> </div> <p><strong>Consignatarios observables:</strong> {{ userConsignees.length == 0 ? "Todos los consignatarios" : userConsignees.length }}</p> <table class="table table-bordered table-condensed" ng-if="userConsignees.length > 0"> <tr> <th>Nombre</th> <th></th> </tr> <tr ng-repeat="consignee in userConsignees"> <td>{{ consignee.name }}</td> <td style="text-align: right"><a href ng-confirm-message="¿Estás seguro?" ng-confirm-click="removeUserConsignee(consignee.consigneeId)" title="Quitar"><span class="glyphicon glyphicon-remove"></span></a></td> </tr> </table> </uib-tab> <uib-tab> <uib-tab-heading> <i class="glyphicon glyphicon-eye-open" style="margin-right: 15px"></i> <strong>Usuarios Inttra</strong> </uib-tab-heading> <div class="panel panel-default" style="margin-top: 20px"> <div class="panel-heading"><strong>Agregar usuario Inttra</strong></div> <div class="panel-body"> <div class="form-group"> <label>Usuario Inttra</label> <div class="form-group-sm"> <ui-select ng-model="selectedInttraUser.selected" on-select="onInttraUserSelected($item, $model)"> <ui-select-match placeholder="">{{$select.selected.code}}</ui-select-match> <ui-select-choices repeat="inttraUser in inttraUsers | filterBy: [\'name\', \'code\']: $select.search"> <div ng-bind-html="inttraUser.email | highlight: $select.search"></div> </ui-select-choices> </ui-select> </div> </div> </div> </div> <p><strong>Usuarios Inttra observables:</strong> {{ userInttraUsers.length == 0 ? "Todos los usuarios Inttra" : userInttraUsers.length }}</p> <table class="table table-bordered table-condensed" ng-if="userInttraUsers.length > 0"> <tr> <th>Usuario Inttra</th> <th></th> </tr> <tr ng-repeat="inttraUser in userInttraUsers"> <td>{{ inttraUser.name }}</td> <td style="text-align: right"><a href ng-confirm-message="¿Estás seguro?" ng-confirm-click="removeUserInttraUser(inttraUser.inttraUserId)" title="Quitar"><span class="glyphicon glyphicon-remove"></span></a></td> </tr> </table> </uib-tab> </uib-tabset> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/pinModal.html",[]).run(["$templateCache",function(e){e.put("views/pinModal.html",'<div class="modal-header"> <h3 class="modal-title">Ubicar pin en mapa</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div id="map" style="height: 600px; border: 1px solid black"></div> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-primary btn-sm" ng-click="acceptMarker()" ng-disabled="marker == null">Aceptar pin</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/polygonModal.html",[]).run(["$templateCache",function(e){e.put("views/polygonModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear polígono</span> <span ng-show="!createMode">Modificar polígono</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Nombre</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="polygon.name" ng-disabled="working" focus="true"> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear polígono</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/polygonsModal.html",[]).run(["$templateCache",function(e){e.put("views/polygonsModal.html",'<div class="modal-header"> <h3 class="modal-title">Polígonos del sector: "{{ zone.name }}"</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-3"> <p>Hay {{ zone.polygons.length }} polígonos en este sector.</p> <div ng-if="!preparingNewPolygon"> <table class="table table-condensed table-bordered"> <tr ng-repeat="polygon in zone.polygons"> <td> <strong>{{ polygon.name }}</strong> <div class="pull-right"> <button class="btn btn-default btn-xs" ng-click="openPolygonModal(polygon)" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button class="btn btn-default btn-xs" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deletePolygon(polygon)" ng-disabled="polygon.deleting" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> </td> </tr> </table> <button class="btn btn-default btn-sm" ng-click="prepareNewPolygon()" ng-disabled="creatingPolygon">Agregar</button> </div> <p ng-if="preparingNewPolygon" style="color: red"> <img src="img/recording.gif" style="height: 20px"> <strong>Dibujando polígono...</strong> </p> </div> <div class="col-md-9"> <div id="map" style="height: 600px; border: 1px solid black"></div> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/privilegesModal.html",[]).run(["$templateCache",function(e){e.put("views/privilegesModal.html",'<div class="modal-header"> <h3 class="modal-title">Privilegios de {{ user.email }}</h3> </div> <div class="modal-body"> <a href class="pull-right" ng-click="export()">Exportar resumen</a> <div class="form-inline"> <div class="form-group"> <input type="text" class="form-control input-sm" placeholder="Filtrar..." ng-model="filter.text" ng-disabled=""> </div> </div> <table class="table table-bordered table-condensed" style="margin-bottom: 0px"> <tr> <th style="width: 25%">Entidad</th> <th style="width: 25%; text-align: center"> <span>Read</span><br> (<a href ng-click="selectAllRead(true)">All</a> | <a href ng-click="selectAllRead(false)">None</a>) </th> <th style="width: 25%; text-align: center"> <span>Write</span><br> (<a href ng-click="selectAllWrite(true)">All</a> | <a href ng-click="selectAllWrite(false)">None</a>) </th> <th style="width: 25%; text-align: center"> <span>Delete</span><br> (<a href ng-click="selectAllDelete(true)">All</a> | <a href ng-click="selectAllDelete(false)">None</a>) </th> </tr> </table> <div id="privileges-grid" style="height: 200px; overflow-y: scroll"> <table class="table table-bordered table-condensed" style="margin-top: 0px"> <tr ng-repeat="privilege in privileges | filter: filter.text"> <td style="width: 25%">{{ privilege.entityAsString }}</td> <td style="width: 25%; text-align: center"><input type="checkbox" ng-click="" ng-disabled="working" ng-model="privilege.read"></td> <td style="width: 25%; text-align: center"><input type="checkbox" ng-click="" ng-disabled="working" ng-model="privilege.write"></td> <td style="width: 25%; text-align: center"><input type="checkbox" ng-click="" ng-disabled="working" ng-model="privilege.delete"></td> </tr> </table> </div> <div class="vertical-resizer" resize-target="#privileges-grid"></div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-click="save()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/problem.html",[]).run(["$templateCache",function(e){e.put("views/problem.html",'<h1>Ver problema</h1> <div ng-if="fetchingProblem" style="text-align: center; padding: 20px"> <img src="img/loading-tiny.gif" alt=""> <p>Buscando el problema...</p> </div> <table class="table table-bordered table-condensed" ng-if="!fetchingProblem"> <tr> <th style="width: 100px">Sector</th> <td>{{ problem.stone.zone.name }}</td> </tr> <tr> <th>{{ problem.stone.zone.city.locationType }}</th> <td>{{ problem.stone.zone.city.name }}</td> </tr> <tr> <th>Problema</th> <td><strong style="font-size: 20px">{{ problem.name }}</strong></td> </tr> <tr> <th>Grado</th> <td><span class="color-bullet-span" style="background-color: {{ problem.grade.color }}"></span> <strong>{{ problem.grade.vGrade }}</strong></td> </tr> <tr ng-if="problem.description != \'\'"> <th>Descripción</th> <td> <p style="white-space: pre-wrap">{{ problem.description }}</p> </td> </tr> <tr> <th>Piedra</th> <td> <strong><a href ng-click="openStoneDetailsModal()">{{ problem.stone.name }}</a></strong><br> <span>({{ problem.stone.lat | number: 4 }}, {{ problem.stone.lng | number: 4 }})</span><br> <div class="btn-group" uib-dropdown is-open="latlngMenuIsOpen"> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> Coordenadas <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a href ng-click="copyCoordinates()">Copiar coordenadas</a></li> <li class="divider"></li> <li><a href="https://www.google.com/maps/search/{{ problem.stone.lat }},{{ problem.stone.lng }}/" target="_blank">Abrir en Google Maps</a></li> </ul> </div> </td> </tr> <tr> <th>Videos</th> <td> <strong><a href ng-click="openProblemVideosModal()">Ver videos</a> ({{ problem.videosCount }})</strong> </td> </tr> </table> <div ng-if="fetchingDrawings" style="text-align: center; padding: 20px"> <img src="img/loading-tiny.gif" alt=""> <p>Cargando dibujos...</p> </div> <div ng-show="!fetchingProblem && drawings.length > 0"> <div style="position: relative"> <img id="drawing-0" ng-src="{{ drawings[0].stonePhoto.photoURL1 }}" style="max-width: 100%; z-index: 1"> <canvas id="canvas-0" style="z-index: 2; position: absolute; top: 0; left: 0"></canvas> </div> </div>')}]),angular.module("views/problemDrawingsModal.html",[]).run(["$templateCache",function(e){e.put("views/problemDrawingsModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <button ng-click="cancel()" type="button" class="close"><span aria-hidden="true">×</span></button> <h3 class="modal-title">Dibujos de problema: "{{ problem.name }}" <span class="color-bullet-span" style="background-color: {{ problem.grade.color }}"></span> {{ problem.grade.vGrade }}</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group" ng-if="hasPrivilege(\'Drawings\', \'write\')" style="margin-bottom: 30px"> <button class="btn btn-default btn-sm" ng-click="openNewDrawingModal()" ng-disabled="working">Nuevo dibujo</button> </div> <table class="table table-bordered table-condensed" style="margin-bottom: 0px; margin-top: 0px"> <tr> <th>Dibujos ({{ drawings.length }})</th> </tr> <tr ng-if="fetchingDrawings"> <td style="padding: 30px; text-align: center"> <img src="img/loading-tiny.gif" alt=""> <p>Trayendo dibujos...</p> </td> </tr> <tr ng-repeat="drawing in drawings"> <td> <div style="position: relative"> <div ng-if="currentUser.isLogged" class="pull-right"> <button ng-if="hasPrivilege(\'Drawings\', \'write\')" class="btn btn-default btn-xs" ng-click="openDrawingModal(drawing)" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button ng-if="hasPrivilege(\'Drawings\', \'delete\')" class="btn btn-default btn-xs" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteStonePhoto(stonePhoto)" ng-disabled="deletingStonePhoto" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> <img ng-attr-id="drawing-{{ drawing.drawingId }}" ng-src="{{ drawing.stonePhoto.photoURL1 }}" style="max-height: 400px; max-width: 100%; z-index: 1"> <canvas ng-attr-id="{{ \'canvas-\' + drawing.drawingId }}" style="z-index: 2; position: absolute; top: 0; left: 0"></canvas> </div> </td> </tr> <tr ng-if="drawings.length == 0 && !fetchingDrawings"> <td style="padding: 30px; text-align: center">No hay dibujos.</td> </tr> </table> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/problemModal.html",[]).run(["$templateCache",function(e){e.put("views/problemModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <h3 class="modal-title"> <span ng-show="createMode">Crear problema</span> <span ng-show="!createMode">Modificar problema</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-6"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th> <span>Piedra</span> <a class="pull-right" ng-if="problem.stone != null" href ng-click="problem.stone = null"><span class="glyphicon glyphicon-remove"></span></a> </th> </tr> <tr ng-if="problem.stone == null"> <td style="padding: 20px; text-align: center"> <a href ng-click="openStonesModal()"><strong>Elegir piedra...</strong></a> </td> </tr> <tr ng-if="problem.stone != null"> <td> <table class="table table-condensed table-bordered" style="margin-top: 0px; margin-bottom: 0px"> <tr> <th style="width: 120px">Nombre</th> <td>{{ problem.stone.name }}</td> </tr> <tr> <th>Sector</th> <td>{{ problem.stone.zone.name }}</td> </tr> </table> </td> </tr> </table> <div class="form-group"> <label>Nombre del problema</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="problem.name" ng-disabled="working" focus="true"> <p>Si no tiene nombre puedes usar "<a href ng-click="problem.name = \'Sin nombre\'">Sin nombre</a>"</p> </div> <div class="form-group"> <label>id en guía de Gianmarco Vega</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="problem.rioboId" ng-disabled="working"> </div> <div class="form-group"> <label>Grado</label> <div class="form-group-sm"> <ui-select ng-model="problem.grade" ng-disabled="fetchingGrades || working"> <ui-select-match placeholder=""><div class="color-bullet-span" style="background-color: {{ $select.selected.color }}"></div> {{ $select.selected.vGrade }}</ui-select-match> <ui-select-choices repeat="grade in grades | filterBy: [\'vGrade\']: $select.search"> <span class="color-bullet-span" style="background-color: {{ grade.color }}"></span> <span ng-bind-html="grade.vGrade | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label>Descripción (opcional)</label> <textarea class="form-control input-sm" ng-model="problem.description" ng-disabled="working" rows="4" style="resize: vertical;"></textarea> </div> <div class="form-group"> <label>FA (opcional)</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="problem.firstAscent" ng-disabled="working"> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear problema</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/problems.html",[]).run(["$templateCache",function(e){e.put("views/problems.html",'<h1>{{ \'Problems\' | translate }}</h1> <div class="row"> <div class="col-md-7"> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>Sector</label> <div class="form-group-sm"> <ui-select ng-model="filters.zone" ng-disabled="fetchingZones || fetchingProblems" on-select="filters.stone = null; fetchStones()"> <ui-select-match allow-clear placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="zone in zones | filterBy: [\'name\']: $select.search"> <span ng-bind-html="zone.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> <div ng-if="filters.zone != null" style="padding-left: 20px; border-left: 1px dashed gray"> <div class="form-group"> <label>Piedra</label> <div class="form-group-sm"> <ui-select ng-model="filters.stone" ng-disabled="fetchingStones || fetchingProblems"> <ui-select-match allow-clear placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="stone in stones | filterBy: [\'name\']: $select.search"> <span ng-bind-html="stone.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>Tiene videos</label> <div class="input-group"> <select ng-model="filters.hasVideos" class="form-control input-sm" ng-options="o.id as o.text for o in hasVideosOptions" ng-disabled="fetchingProblems"> </select> <span class="input-group-addon"> <a href ng-click="filters.hasVideos = null" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> </div> </div> <div class="col-md-5"> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label for="">Mín. grado</label> <div class="form-group-sm"> <ui-select ng-model="filters.minGrade" ng-disabled="fetchingGrades || fetchingProblems"> <ui-select-match allow-clear placeholder=""> <div class="color-bullet-span" style="background-color: {{ $select.selected.color }}"></div> {{ $select.selected.vGrade }} </ui-select-match> <ui-select-choices repeat="grade in grades | filterBy: [\'vGrade\']: $select.search"> <span class="color-bullet-span" style="background-color: {{ grade.color }}"></span> <span ng-bind-html="grade.vGrade | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> </div> <div class="col-md-4"> <div class="form-group"> <label for="">Máx. grado</label> <div class="form-group-sm"> <ui-select ng-model="filters.maxGrade" ng-disabled="fetchingGrades || fetchingProblems"> <ui-select-match allow-clear placeholder=""> <div class="color-bullet-span" style="background-color: {{ $select.selected.color }}"></div> {{ $select.selected.vGrade }} </ui-select-match> <ui-select-choices repeat="grade in grades | filterBy: [\'vGrade\']: $select.search"> <span class="color-bullet-span" style="background-color: {{ grade.color }}"></span> <span ng-bind-html="grade.vGrade | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> </div> </div> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Sort by\' | translate }}</label> <select ng-model="sorting.orderBy" class="form-control input-sm" ng-options="o.id as o.text for o in orderByColumns" ng-disabled="fetchingProblems"> </select> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Sort asc/desc\' | translate }}</label> <select ng-model="sorting.orderDesc" class="form-control input-sm" ng-options="o.id as o.text for o in orderDescOptions" ng-disabled="fetchingProblems"> </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label>Nombre contiene...</label> <div class="input-group"> <input type="text" class="form-control input-sm" ng-model="filters.name" ng-keypress="onNameKeypress($event)" ng-disabled="fetchingProblems"> <span class="input-group-addon"> <a href ng-click="filters.name = \'\'" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> </div> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="pagination.page = 1; fetchProblems()" ng-disabled="fetchingProblems">{{ \'Search with these filters\' | translate }}</button> </div> </div> </div> <div class="row" style="margin-top: 30px"> <div class="col-md-12"> <div class="form-group"> <button ng-if="hasPrivilege(\'Problems\', \'write\')" class="btn btn-default btn-sm" ng-click="openProblemModal(true)" title="Modificar">Crear problema</button> <button ng-if="hasPrivilege(\'Problems\', \'write\')" class="btn btn-default btn-sm" ng-click="openProblemModal(false)" ng-disabled="selectedProblems.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button ng-if="hasPrivilege(\'Problems\', \'delete\')" class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedProblem()" ng-disabled="selectedProblems.length == 0 || deletingProblem" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> <button class="btn btn-default btn-sm" ng-disabled="selectedProblems.length == 0" ng-click="openStoneDetailsModal(selectedProblems[0].stone)">Ver piedra</button> <button class="btn btn-default btn-sm" ng-disabled="selectedProblems.length == 0" ng-click="openProblemDrawingsModal(selectedProblems[0])">Ver problema</button> <button class="btn btn-default btn-sm" ng-disabled="selectedProblems.length == 0" ng-click="openProblemVideosModal(selectedProblems[0])">Ver videos</button> </div> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'problemsGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="resetColumns(\'problemsGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption">{{ "Problems" | translate }} ({{ pagination.count | number }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingProblems"></p> <div id="problemsGrid" ag-grid="problemsGrid" class="ag-fresh" style="height: 300px;"></div> <div class="vertical-resizer" resize-target="#problemsGrid"></div> <ul uib-pagination total-items="pagination.count" items-per-page="pagination.pageSize" ng-model="pagination.page" ng-change="fetchProblems()" class="pagination-sm"></ul> </div> </div> ')}]),angular.module("views/problemsModal.html",[]).run(["$templateCache",function(e){e.put("views/problemsModal.html",'<div class="modal-body"> <ng-include src="\'views/problems.html\'"></ng-include> </div> <div class="modal-footer"> <button class="btn btn-primary btn-sm" ng-click="acceptModalSelection()" ng-disabled="selectedProblems.length == 0 || fetchingProblems">Aceptar selección</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="fetchingProblems">Cerrar</button> </div> ')}]),angular.module("views/problemVideosModal.html",[]).run(["$templateCache",function(e){e.put("views/problemVideosModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <button ng-click="cancel()" type="button" class="close"><span aria-hidden="true">×</span></button> <h3 class="modal-title">Videos de problema: "{{ problem.name }}" <span class="color-bullet-span" style="background-color: {{ problem.grade.color }}"></span> {{ problem.grade.vGrade }}</h3> </div> <div class="modal-body"> <div ng-if="fetchingVideos" style="text-align: center; padding: 50px"> <img src="img/loading-tiny.gif" alt=""> <p>Cargando videos...</p> </div> <p ng-if="!fetchingClimbers && videos.length > 0" style="margin-bottom: 30px"> Hay {{ videos.length }} video(s).<br>Los escaladores son:<br> <span style="cursor: pointer; display: inline-block; margin-bottom: 3px; font-weight: initial; font-size: 90%" class="label {{ filters.climberName == \'\' ? \'label-default\' : \'label-primary\' }}" ng-click="filters.climberName = \'\'">Ver todos</span> <span ng-repeat="climber in climbers"> <span class="label {{ filters.climberName == climber.name ? \'label-default\' : \'label-primary\' }}" style="cursor: pointer; display: inline-block; margin-bottom: 3px; font-weight: initial; font-size: 90%" ng-click="filters.climberName = climber.name">{{ climber.name }}</span> </span> </p> <div class="form-group" ng-if="currentUser.isLogged && !fetchingVideos"> <button ng-if="hasPrivilege(\'Videos\', \'write\')" class="btn btn-default btn-sm" ng-click="openVideoModal()">Agregar nuevo...</button> <div ng-if="hasPrivilege(\'Discussions\', \'write\')" class="btn-group" uib-dropdown is-open="discussMenuIsOpen"> <button type="button" class="btn btn-default btn-sm dropdown-toggle" uib-dropdown-toggle> <span class="glyphicon glyphicon-comment"></span> <span style="margin-left: 8px; margin-right: 8px">Discutir</span> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a href ng-click="openNewVideoDiscussionModal()">Quiero agregar un video</a></li> </ul> </div> </div> <div ng-if="videos.length == 0 && !fetchingVideos" style="text-align: center; padding: 50px"> <p> No hay videos de este problema.<br> </p> </div> <div class="row" ng-repeat="video in videos | filter:{ climberName: filters.climberName } track by $index" style="margin-bottom: 20px"> <div class="col-md-6"> <div ng-if="video.isYoutube"> <div style="position: relative"> <img ng-click="openVideoDetailsModal(video)" style="cursor: pointer; max-width: 100%" ng-src="http://i3.ytimg.com/vi/{{ video.youtubeId }}/hqdefault.jpg"> <img ng-click="openVideoDetailsModal(video)" src="img/play.png" style="cursor: pointer; opacity: 70%; width: 100px; position: absolute; top: 50%; left: 50%; transform: translateX(-50%) translateY(-50%);"> </div> </div> <div ng-if="!video.isYoutube" style="width: 100%; height: 314px; border: 1px solid gray; text-align: center; padding-top: 50px"> <p> Video no está en Youtube.<br> Pincha la URL. </p> </div> </div> <div class="col-md-6"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th colspan="2" style="text-align: center"> Video {{ $index + 1 }} de {{ videos.length }} <div class="pull-right" ng-if="currentUser.isLogged"> <button ng-if="hasPrivilege(\'Videos\', \'write\')" class="btn btn-default btn-xs" ng-click="openVideoModal(video)" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button ng-if="hasPrivilege(\'Videos\', \'delete\')" class="btn btn-default btn-xs" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteVideo(video)" ng-disabled="deletingVideo" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> </th> </tr> <tr ng-if="video.isYoutube"> <th>Youtube</th> <td><a href="https://www.youtube.com/watch?v={{ video.youtubeId }}" target="_blank">Ver en YouTube</a></td> </tr> <tr ng-if="!video.isYoutube"> <th>URL</th> <td><a href="{{ video.url }}" target="_blank">{{ video.url }}</a></td> </tr> <tr ng-if="video.originalURL != null"> <th>Original</th> <td> <a href="{{ video.originalURL }}" target="_blank">Ver original</a> <p style="color: gray; font-style: italic;">(El video en YouTube es un proxy guardado por Bouldermap y puede haber perdido calidad)</p> </td> </tr> <tr> <th style="width: 100px">Escalador</th> <td><a href ng-click="openClimberStatsModal(video.climberName)">{{ video.climberName }}</a></td> </tr> <tr style="height: 130px" ng-if="video.description != null && video.description != \'\'"> <th>Descripción</th> <td> <p>{{ video.description }}</p> </td> </tr> <tr ng-if="hasPrivilege(\'Discussions\', \'write\')"> <th></th> <td> <div class="btn-group" uib-dropdown is-open="discussVideoMenuIsOpen"> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="glyphicon glyphicon-comment"></span> <span style="margin-left: 8px; margin-right: 8px">Discutir</span> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a href ng-click="openVideoDiscussionModal(video, \'El video corresponde a otro problema: \')">El video corresponde a otro problema</a></li> <li class="divider"></li> <li><a href ng-click="openVideoDiscussionModal(video, \'El nombre del escalador es otro: \')">El nombre del escalador es otro</a></li> <li class="divider"></li> <li><a href ng-click="openVideoDiscussionModal(video, \'El link no funciona\')">El link no funciona</a></li> </ul> </div> </td> </tr> </table> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/random.html",[]).run(["$templateCache",function(e){e.put("views/random.html",'<h1>Problema random</h1> <p ng-if="!fetchingRandom"> De entre {{ results.count }} problemas con foto y video, se eligió uno al azar.<br> <strong><a href ng-click="fetchRandom()">Quiero otro...</a></strong> </p> <div ng-if="fetchingRandom" style="text-align: center; padding: 20px"> <img src="img/loading-tiny.gif" alt=""> <p>Eligiendo problema al azar...</p> </div> <table class="table table-bordered table-condensed" ng-if="!fetchingRandom"> <tr> <th style="width: 100px">Sector</th> <td>{{ problem.stone.zone.name }}</td> </tr> <tr> <th>{{ problem.stone.zone.city.locationType }}</th> <td>{{ problem.stone.zone.city.name }}</td> </tr> <tr> <th>Problema</th> <td><strong style="font-size: 20px">{{ problem.name }}</strong></td> </tr> <tr> <th>Grado</th> <td><span class="color-bullet-span" style="background-color: {{ problem.grade.color }}"></span> <strong>{{ problem.grade.vGrade }}</strong></td> </tr> <tr> <th>Piedra</th> <td> <strong><a href ng-click="openStoneDetailsModal()">{{ problem.stone.name }}</a></strong><br> <span>({{ problem.stone.lat | number: 4 }}, {{ problem.stone.lng | number: 4 }})</span><br> <div class="btn-group" uib-dropdown is-open="latlngMenuIsOpen"> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> Coordenadas <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a href ng-click="copyCoordinates()">Copiar coordenadas</a></li> <li class="divider"></li> <li><a href="https://www.google.com/maps/search/{{ problem.stone.lat }},{{ problem.stone.lng }}/" target="_blank">Abrir en Google Maps</a></li> </ul> </div> </td> </tr> <tr> <th>Videos</th> <td> <strong><a href ng-click="openProblemVideosModal()">Ver videos</a> ({{ problem.videosCount }})</strong> </td> </tr> </table> <div ng-if="fetchingDrawings" style="text-align: center; padding: 20px"> <img src="img/loading-tiny.gif" alt=""> <p>Cargando dibujos...</p> </div> <div ng-show="!fetchingRandom && drawings.length > 0"> <div style="position: relative"> <img id="drawing-0" ng-src="{{ drawings[0].stonePhoto.photoURL1 }}" style="max-width: 100%; z-index: 1"> <canvas id="canvas-0" style="z-index: 2; position: absolute; top: 0; left: 0"></canvas> </div> </div>')}]),angular.module("views/replyModal.html",[]).run(["$templateCache",function(e){e.put("views/replyModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <button ng-click="cancel()" type="button" class="close"><span aria-hidden="true">×</span></button> <h3 class="modal-title"> <span ng-show="createMode">Responder</span> <span ng-show="!createMode">Modificar respuesta</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Mensaje</label> <textarea focus="true" class="form-control input-sm" ng-model="reply.message" ng-disabled="working" rows="4" style="resize: vertical;"></textarea> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Responder</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/smtpModal.html",[]).run(["$templateCache",function(e){e.put("views/smtpModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear SMTP</span> <span ng-show="!createMode">Modificar SMTP</span> </h3> </div> <div class="modal-body"> <input name="fake1" type="text" style="margin: -1px; padding: 0; width: 1px; height: 1px; overflow: hidden; clip: rect(0 0 0 0); clip: rect(0, 0, 0, 0); position: absolute;"> <input name="fake2" type="password" style="margin: -1px; padding: 0; width: 1px; height: 1px; overflow: hidden; clip: rect(0 0 0 0); clip: rect(0, 0, 0, 0); position: absolute;"> <uib-tabset active="activeTab"> <uib-tab> <uib-tab-heading> <strong>Smtp</strong> </uib-tab-heading> <div class="row" style="margin-top: 30px"> <div class="col-md-6"> <div class="form-group"> <label>Host</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="smtp.host" ng-disabled="working"> </div> <div class="form-group"> <label>Puerto</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="smtp.port" ng-disabled="working"> </div> <div class="checkbox"> <label> <input type="checkbox" ng-model="smtp.ssl" ng-disabled="working"> Use SSL </label> </div> <div class="checkbox" style="margin-top: 30px"> <label> <input type="checkbox" ng-model="smtp.isDefault" ng-disabled="working"> Predeterminado para emails del sistema </label> </div> <div class="checkbox"> <label> <input type="checkbox" ng-model="smtp.enabled" ng-disabled="working"> Habilitado </label> </div> </div> <div class="col-md-6"> <div class="form-group"> <label>Email</label> <form><input autocomplete="off" type="email" class="form-control input-sm" placeholder="" ng-model="smtp.email" ng-disabled="working"></form> </div> <div class="form-group"> <label>Username</label> <form><input autocomplete="off" type="text" class="form-control input-sm" placeholder="" ng-model="smtp.username" ng-disabled="working"></form> </div> <div class="form-group"> <label>Password</label> <form><input autocomplete="off" type="text" class="form-control input-sm text-password" placeholder="" ng-model="smtp.password" ng-disabled="working"></form> <p ng-if="!createMode"><small>Deja en blanco si no quieres modificarla</small></p> </div> <div class="alert alert-info" ng-if="smtp.host == \'smtp.gmail.com\'"> <p>Cuando el SMTP es de Google, debes crear una "App Password" siguiendo estos pasos:</p> <ol> <li>Ir a tu <a href="https://myaccount.google.com/" target="_blank">Google Account</a></li> <li>Security > App Passwords (se debe habilitar "2-Step verification" para ver esta opción)</li> <li>Crear una App Password y pegarla acá</li> </ol> <p style="margin-top: 20px"> Revisa el siguiente link:<br> <a href="https://support.google.com/mail/answer/185833?hl=en#app-passwords" target="_blank"><strong>Cómo crear una App Password</strong></a> </p> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label for="">Firma</label> <textarea class="form-control input-sm" ng-model="smtp.footer" ng-disabled="working" rows="5" style="resize: vertical;"></textarea> </div> </div> </div> </uib-tab> <uib-tab> <uib-tab-heading> <i class="glyphicon glyphicon-picture" style="margin-right: 15px"></i> <strong>Logo</strong> </uib-tab-heading> <div class="row" style="margin-top: 30px" ng-if="createMode"> <div class="col-md-12"> <p style="text-align: center">Para subir un logo primero debes crear la exportadora</p> </div> </div> <div class="row" style="margin-top: 30px" ng-if="!createMode"> <div class="col-md-12"> <div class="form-group"> <label for="">Logo PNG</label> <input type="file" class="form-control input-sm" ng-model="dummy" file-model="attachment.binary" id="attachment-file" ng-disabled="working"> </div> <button class="btn btn-primary btn-sm" ng-click="uploadLogo()" ng-disabled="working">Upload file</button> </div> </div> <div class="row" style="margin-top: 30px" ng-if="!createMode"> <div class="col-md-12"> <div style="text-align: center"> <img ng-src="{{ logoURL }}" alt="" style="border: 1px solid black"> <p>Logo actual</p> </div> </div> </div> </uib-tab> </uib-tabset> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear SMTP</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/smtps.html",[]).run(["$templateCache",function(e){e.put("views/smtps.html",'<h1>Sistema > SMTPs</h1> <div class="row"> <div class="col-md-12"> <div class="form-inline"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="openSmtpModal(true)" ng-disabled="">Crear smtp</button> <button class="btn btn-default btn-sm" ng-click="openSmtpModal(false)" ng-disabled="selectedSmtps.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedSmtp()" ng-disabled="selectedSmtps.length == 0 || deletingSmtp" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> </div> <p class="grid-caption">{{ \'SMTPs\' | translate }} <img src="img/loading-tiny.gif" alt="" ng-show="fetchingSMTPs"></p> <div id="smtps-grid" ag-grid="smtpsGrid" class="ag-fresh" style="height: 250px;"></div> <div class="vertical-resizer" resize-target="#smtps-grid"></div> </div> </div>')}]),angular.module("views/stoneDetailsModal.html",[]).run(["$templateCache",function(e){e.put("views/stoneDetailsModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <button ng-click="cancel()" type="button" class="close"><span aria-hidden="true">×</span></button> <h3 class="modal-title">Ver piedra: "{{ stone.name }}"</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-6"> <table class="table table-condensed table-bordered" style="margin-top: 0px; margin-bottom: 30px"> <tr> <th style="width: 120px">Descripción</th> <td><p style="white-space: pre-wrap">{{ stone.description }}</p></td> </tr> <tr ng-if="stone.rioboId != null"> <th title="id en guía de Gianmarco Vega">Vega\'s id</th> <td>{{ stone.rioboId == null ? "" : "Bloque " + stone.rioboId }}</td> </tr> <tr ng-if="stone.crags27Id != null && stone.crags27Id != \'\'"> <th title="Nombre en 27crags">27crags</th> <td>{{ stone.crags27Id }}</td> </tr> <tr> <th>Coordenadas</th> <td><a href ng-click="copyCoordinates()" title="Copiar al clipboard"><span class="glyphicon glyphicon-pushpin"></span> {{ stone.lat }}, {{ stone.lng }}</a></td> </tr> </table> </div> <div class="col-md-6"> <div class="form-group"> <button ng-if="hasPrivilege(\'StonesPhotos\', \'write\')" class="btn btn-default btn-sm" ng-click="openCreateStonePhotoModal()">Subir foto</button> <button ng-if="hasPrivilege(\'Problems\', \'write\')" class="btn btn-default btn-sm" ng-click="openProblemModal()">Crear problema</button> <div ng-if="hasPrivilege(\'Discussions\', \'write\')" class="btn-group" uib-dropdown is-open="discussMenuIsOpen"> <button type="button" class="btn btn-default btn-sm dropdown-toggle" uib-dropdown-toggle> <span class="glyphicon glyphicon-comment"></span> <span style="margin-left: 8px; margin-right: 8px">Discutir</span> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a href ng-click="openDiscussionModal({ id: 11, name: \'Piedra\' }, \'El nombre correcto es: \')">Nombre de la piedra</a></li> <li class="divider"></li> <li><a href ng-click="openDiscussionModal({ id: 11, name: \'Piedra\' }, \'La ubicacion correcta es: \')">Coordenadas de la piedra</a></li> <li class="divider"></li> <li><a href ng-click="openDiscussionModal({ id: 11, name: \'Piedra\' }, \'Quiero agregar un problema: \')">Quiero agregar un problema</a></li> <li class="divider"></li> <li><a href ng-click="openDiscussionModal({ id: 13, name: \'Problema\' }, \'\')">Quiero modificar un problema</a></li> </ul> </div> </div> </div> </div> <uib-tabset active="activeTab"> <uib-tab> <uib-tab-heading> <strong>Fotos ({{ stonePhotos.length }})</strong> </uib-tab-heading> <div class="row" style="margin-top: 30px"> <div class="col-md-12"> <div ng-if="fetchingStone" style="text-align: center; padding: 50px"> <img src="img/loading-tiny.gif" alt=""> <p>Cargando problemas...</p> </div> <div ng-if="stonePhotos.length == 0 && !fetchingStone" style="text-align: center; padding: 50px"> <p> No hay fotos de esta piedra.<br> </p> </div> <div class="row" ng-repeat="stonePhoto in stonePhotos track by $index" style="margin-bottom: 20px"> <div class="col-md-3"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th colspan="3" style="text-align: center"> Foto {{ $index + 1 }} de {{ stonePhotos.length }} <div class="pull-right" ng-if="currentUser.isLogged"> <button ng-if="hasPrivilege(\'StonesPhotos\', \'write\')" class="btn btn-default btn-xs" ng-click="openEditStonePhotoModal(stonePhoto)" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button ng-if="hasPrivilege(\'StonesPhotos\', \'delete\')" class="btn btn-default btn-xs" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteStonePhoto(stonePhoto)" ng-disabled="deletingStonePhoto" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> </th> </tr> <tr ng-repeat="drawing in stonePhoto.drawings track by $index" style="cursor: pointer" ng-mouseenter="highlightDrawing(stonePhoto, drawing); drawing.highlighted = true" ng-mouseleave="draw(stonePhoto); drawing.highlighted = false"> <th style="width: 30px; {{ drawing.highlighted ? \'background-color: #c5c5c5\' : \'\'}}">{{ $index + 1 }}</th> <td style="width: 70px; {{ drawing.highlighted ? \'background-color: #ffffbc\' : \'\'}}"><span class="color-bullet-span" style="background-color: {{ drawing.problem.grade.color }}"></span> {{ drawing.problem.grade.vGrade }}</td> <td style="{{ drawing.highlighted ? \'background-color: #ffffbc\' : \'\'}}"> <strong>{{ drawing.problem.name }}</strong> <strong ng-if="drawing.problem.rioboId != null && drawing.problem.rioboId != \'\'" title="id en guía de Gianmarco Vega">({{ drawing.problem.rioboId }})</strong> <div class="pull-right" ng-show="drawing.highlighted == true" ng-if="currentUser.isLogged"> <button ng-if="hasPrivilege(\'Problems\', \'write\')" class="btn btn-default btn-xs" ng-click="openDrawingModal(drawing)" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> </div> <div> <a href ng-click="openProblemVideosModal(drawing.problem)">Ver videos</a> ({{ drawing.problem.videosCount }}) </div> </td> </tr> <tr ng-if="stonePhoto.drawings.length == 0"> <td colspan="3"> <p> No hay dibujos en esta foto.<br> </p> </td> </tr> </table> </div> <div class="col-md-9"> <div style="position: relative"> <img ng-attr-id="{{ \'stonePhoto-\' + stonePhoto.stonePhotoId }}" style="max-height: 600px; max-width: 100%; z-index: 1" ng-src="{{ stonePhoto.photoURL1 }}"> <canvas ng-attr-id="{{ \'canvas-\' + stonePhoto.stonePhotoId }}" style="z-index: 2; position: absolute; top: 0; left: 0"></canvas> <div ng-repeat="drawing in stonePhoto.drawings track by $index" title="{{ drawing.problem.name }}" ng-attr-id="{{ \'minidiv-\' + drawing.drawingId }}" style="visibility: hidden; position: absolute; transform: translate(-9px, 0); border: 1px solid black; cursor: pointer; background-color: white; padding: 5px; z-index: 3;" ng-mouseenter="highlightDrawing(stonePhoto, drawing); drawing.highlighted = true" ng-mouseleave="draw(stonePhoto); drawing.highlighted = false">{{ $index + 1 }}</div> </div> <p ng-if="stonePhoto.description != null && stonePhoto.description != \'\'">{{ stonePhoto.description }}</p> </div> </div> </div> </div> </uib-tab> <uib-tab> <uib-tab-heading> <strong>Problemas ({{ problems.length }})</strong> </uib-tab-heading> <div class="row"> <div class="col-md-12"> <div ng-if="problems.length == 0 && !fetchingProblems" style="text-align: center; padding: 50px"> <p> No hay problemas en esta piedra.<br> </p> </div> <div ng-if="problems.length > 0"> <table class="table table-bordered table-condensed"> <tr> <th style="width: 250px"> <a href ng-click="sorting.field = \'name\'; sorting.desc = !sorting.desc">Nombre</a> <span ng-if="sorting.field == \'name\' && sorting.desc == true" class="glyphicon glyphicon-triangle-bottom"></span> <span ng-if="sorting.field == \'name\' && sorting.desc == false" class="glyphicon glyphicon-triangle-top"></span> </th> <th style="width: 80px"> <a href ng-click="sorting.field = \'rioboId\'; sorting.desc = !sorting.desc">Vega\'s</a> <span ng-if="sorting.field == \'rioboId\' && sorting.desc == true" class="glyphicon glyphicon-triangle-bottom"></span> <span ng-if="sorting.field == \'rioboId\' && sorting.desc == false" class="glyphicon glyphicon-triangle-top"></span> </th> <th style="width: 80px; text-align: center"> <a href ng-click="sorting.field = \'grade.gradeId\'; sorting.desc = !sorting.desc">Grado</a> <span ng-if="sorting.field == \'grade.gradeId\' && sorting.desc == true" class="glyphicon glyphicon-triangle-bottom"></span> <span ng-if="sorting.field == \'grade.gradeId\' && sorting.desc == false" class="glyphicon glyphicon-triangle-top"></span> </th> <th style="width: 120px; text-align: center"> <a href ng-click="sorting.field = \'videosCount\'; sorting.desc = !sorting.desc">Videos</a> <span ng-if="sorting.field == \'videosCount\' && sorting.desc == true" class="glyphicon glyphicon-triangle-bottom"></span> <span ng-if="sorting.field == \'videosCount\' && sorting.desc == false" class="glyphicon glyphicon-triangle-top"></span> </th> <th style="width: 90px; text-align: center"> <a href ng-click="sorting.field = \'drawingsCount\'; sorting.desc = !sorting.desc">Dibujos</a> <span ng-if="sorting.field == \'drawingsCount\' && sorting.desc == true" class="glyphicon glyphicon-triangle-bottom"></span> <span ng-if="sorting.field == \'drawingsCount\' && sorting.desc == false" class="glyphicon glyphicon-triangle-top"></span> </th> <th>Descripción</th> </tr> <tr ng-repeat="problem in problems | orderBy:sorting.field:sorting.desc" ng-mouseenter="problem.showControls = true" ng-mouseleave="problem.showControls = false"> <td style="height: 40px"> <strong>{{ problem.name}}</strong> <div ng-if="currentUser.isLogged" class="pull-right" ng-show="problem.showControls"> <button ng-if="hasPrivilege(\'Problems\', \'write\')" class="btn btn-default btn-xs" ng-click="openProblemModal(problem)" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button ng-if="hasPrivilege(\'Problems\', \'delete\')" class="btn btn-default btn-xs" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteProblem(problem)" ng-disabled="deletingProblem" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> </td> <td> {{ problem.rioboId }} </td> <td> <span class="color-bullet-span" style="background-color: {{ problem.grade.color }}"></span> {{ problem.grade.vGrade }} </td> <td> <a href ng-click="openProblemVideosModal(problem)">Ver videos</a> ({{ problem.videosCount }}) </td> <td style="text-align: center"> <a href ng-click="openProblemDrawingsModal(problem)">{{ problem.drawingsCount }}</a> </td> <td> <p style="white-space: pre-wrap">{{ problem.description }}</p> </td> </tr> </table> </div> </div> </div> </uib-tab> </uib-tabset> </div> <div class="modal-footer"> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/stoneModal.html",[]).run(["$templateCache",function(e){e.put("views/stoneModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear piedra</span> <span ng-show="!createMode">Modificar piedra</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Sector (opcional)</label> <div class="form-group-sm"> <ui-select ng-model="stone.zone" ng-disabled="fetchingZones || working"> <ui-select-match allow-clear placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="zone in zones | filterBy: [\'name\']: $select.search"> <span ng-bind-html="zone.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> <div class="form-group"> <label>Nombre popular de la piedra</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="stone.name" ng-disabled="working" focus="true"> <p>Si no tiene nombre puedes usar el nombre del problema más clásico</p> </div> <div class="form-group"> <label>id en guía de Gianmarco Vega</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="stone.rioboId" ng-disabled="working"> </div> <div class="form-group"> <label>Nombre en 27crags</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="stone.crags27Id" ng-disabled="working"> </div> <div class="form-group"> <label>Descripción (opcional)</label> <textarea class="form-control input-sm" ng-model="stone.description" ng-disabled="working" rows="4" style="resize: vertical;"></textarea> </div> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>Latitud</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="stone.lat" ng-disabled="working"> <a href ng-click="openPinModal()">Usar mapa...</a> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>Longitud</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="stone.lng" ng-disabled="working"> </div> </div> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear piedra</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/stones.html",[]).run(["$templateCache",function(e){e.put("views/stones.html",'<h1>{{ \'Stones\' | translate }}</h1> <div class="row"> <div class="col-md-7"> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>Sector</label> <div class="form-group-sm"> <ui-select ng-model="filters.zone" ng-disabled="fetchingZones || fetchingStones"> <ui-select-match allow-clear placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="zone in zones | filterBy: [\'name\']: $select.search"> <span ng-bind-html="zone.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> </div> </div> </div> <div class="col-md-5"> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Sort by\' | translate }}</label> <select ng-model="sorting.orderBy" class="form-control input-sm" ng-options="o.id as o.text for o in orderByColumns" ng-disabled="fetchingStones"> </select> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Sort asc/desc\' | translate }}</label> <select ng-model="sorting.orderDesc" class="form-control input-sm" ng-options="o.id as o.text for o in orderDescOptions" ng-disabled="fetchingStones"> </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label>Nombre contiene...</label> <div class="input-group"> <input type="text" class="form-control input-sm" ng-model="filters.name" ng-keypress="onNameKeypress($event)" ng-disabled="fetchingStones"> <span class="input-group-addon"> <a href ng-click="filters.name = \'\'" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> </div> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="pagination.page = 1; fetchStones()" ng-disabled="fetchingStones">{{ \'Search with these filters\' | translate }}</button> </div> </div> </div> <div class="row" style="margin-top: 30px"> <div class="col-md-12"> <div class="form-group"> <button ng-if="currentUser.isLogged" class="btn btn-default btn-sm" ng-click="openStoneModal(true)" title="Modificar">Crear piedra</button> <button ng-if="currentUser.isLogged" class="btn btn-default btn-sm" ng-click="openStoneModal(false)" ng-disabled="selectedStones.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button ng-if="currentUser.isLogged" class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedProblem()" ng-disabled="selectedStones.length == 0 || deletingStone" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> <button class="btn btn-default btn-sm" ng-click="openStoneDetailsModal(selectedStones[0])" ng-disabled="selectedStones.length == 0">Ver piedra</button> <div class="btn-group" uib-dropdown is-open="optionsMenuIsOpen"> <button ng-disabled="selectedStones.length == 0" type="button" class="btn btn-default btn-sm dropdown-toggle" uib-dropdown-toggle> Más opciones <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a href="#/problems?zoneId={{ selectedStones[0].zone.zoneId }}&stoneId={{ selectedStones[0].stoneId }}"><span class="glyphicon glyphicon-new-window"></span> Ir a problemas</a></li> <li class="divider"></li> <li><a href="#/videos?zoneId={{ selectedStones[0].zone.zoneId }}&stoneId={{ selectedStones[0].stoneId }}"><span class="glyphicon glyphicon-new-window"></span> Ir a videos</a></li> </ul> </div> </div> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'stonesGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="resetColumns(\'stonesGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption">{{ "Stones" | translate }} ({{ pagination.count | number }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingStones"></p> <div id="stonesGrid" ag-grid="stonesGrid" class="ag-fresh" style="height: 300px;"></div> <div class="vertical-resizer" resize-target="#stonesGrid"></div> <ul uib-pagination total-items="pagination.count" items-per-page="pagination.pageSize" ng-model="pagination.page" ng-change="fetchStones()" class="pagination-sm"></ul> </div> </div> ')}]),angular.module("views/stonesModal.html",[]).run(["$templateCache",function(e){e.put("views/stonesModal.html",'<div class="modal-body"> <ng-include src="\'views/stones.html\'"></ng-include> </div> <div class="modal-footer"> <button class="btn btn-primary btn-sm" ng-click="acceptModalSelection()" ng-disabled="selectedStones.length == 0 || fetchingStones">Aceptar selección</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="fetchingStones">Cerrar</button> </div> ')}]),angular.module("views/storageModal.html",[]).run(["$templateCache",function(e){e.put("views/storageModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear Azure Storage</span> <span ng-show="!createMode">Modificar Azure Storage</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Account Name</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="storage.name" ng-disabled="working"> </div> <div class="form-group"> <label>Account Key</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="storage.password" ng-disabled="working"> <p ng-if="!createMode"><small>Deja en blanco si no quieres modificarla</small></p> </div> <div class="checkbox" style="margin-top: 30px"> <label> <input type="checkbox" ng-model="storage.isDefault" ng-disabled="working"> Predeterminado </label> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear storage</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/storages.html",[]).run(["$templateCache",function(e){e.put("views/storages.html",'<h1>Sistema > Storages</h1> <div class="row"> <div class="col-md-12"> <div class="form-inline"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="openStorageModal(true)" ng-disabled="">Crear storage</button> <button class="btn btn-default btn-sm" ng-click="openStorageModal(false)" ng-disabled="selectedStorages.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedStorage()" ng-disabled="selectedStorages.length == 0 || deletingStorage" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> </div> <p class="grid-caption">{{ \'Storages\' | translate }} <img src="img/loading-tiny.gif" alt="" ng-show="fetchingStorages"></p> <div id="storagesGrid" ag-grid="storagesGrid" class="ag-fresh" style="height: 250px;"></div> <div class="vertical-resizer" resize-target="#storagesGrid"></div> </div> </div>')}]),angular.module("views/tasks.html",[]).run(["$templateCache",function(e){e.put("views/tasks.html",'<div class="row"> <div class="col-md-3"> <div class="form-group"> <label>Filtrar por id</label> <div class="input-group"> <input type="text" class="form-control input-sm" placeholder="" ng-model="filters.taskId" ng-disabled="fetchingTasks"> <span class="input-group-addon"> <a href ng-click="filters.taskId = \'\'" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label>Tipo de tarea</label> <select ng-model="filters.url" class="form-control input-sm" ng-disabled="fetchingTasks" ng-options="taskUrl.url as taskUrl.text for taskUrl in taskUrls"> </select> </div> </div> <div class="col-md-6"> <div class="checkbox"> <label> <input type="checkbox" ng-model="filters.autorefresh" ng-change="toggleInterval()"> Actualizar cada 2 segundos </label> </div> <button class="btn btn-default btn-sm" ng-click="fetchTasks();" ng-disabled="fetchingTasks">Actualizar</button> </div> </div> <div class="alert alert-danger" ng-if="httpResponses.fetchTasks.error" style="margin-top: 30px"> <p>{{ httpResponses.fetchTasks.message }}</p> </div> <div id="tasks-grid" style="height: 300px; overflow: scroll; margin-top: 20px"> <table class="table table-condensed table-striped table-bordered" style="margin-top: 0px"> <tr> <th style="width: 50px">id</th> <th style="width: 150px">Usuario</th> <th style="width: 200px">Tarea</th> <th style="width: 80px">Inicio</th> <th style="width: 80px">Término</th> <th style="width: 80px">Duración</th> <th style="width: 100px">Estado</th> <th style="width: 200px">Filtros</th> <th>Mensaje</th> </tr> <tr ng-repeat="task in tasks track by $index"> <td>{{ task.taskId }}</td> <td>{{ task.user.email }}</td> <td>{{ task.url }}</td> <td>{{ task.startDate | date:\'HH:mm:ss\' }}</td> <td>{{ task.endDate | date:\'HH:mm:ss\' }}</td> <td>{{ task.duration }}</td> <td style="{{ task.state == 2 ? \'background-color: #b2ffa8\' : \'\' }}"> {{ task.stateAsString }} <a href ng-show="task.state == 1 && task.cancelable == true" ng-click="cancelTask(task.taskId)">(Cancelar)</a> <img src="img/loading-tiny.gif" alt="" ng-show="task.state == 1"> </td> <td style="white-space:nowrap"> <span ng-repeat="item in task.queryDescription">{{ item }}<br></span> </td> <td style="white-space:nowrap"> <p ng-class="{ \'red-text\': task.error }"><img ng-show="task.error" src="img/error.png" style="height: 15px"> {{ task.message }}</p> <ul ng-if="task.additionalMessages.length > 0"> <li ng-repeat="additionalMessage in task.additionalMessages">{{ additionalMessage }}</li> </ul> <a ng-if="task.downloadLink" href="{{ task.downloadLink }}" target="{{ task.downloadLinkOpensNewWindow ? \'_blank\' : \'\' }}">{{ task.downloadLinkTitle }}</a> </td> </tr> </table> </div> <div class="vertical-resizer" resize-target="#tasks-grid"></div>')}]),angular.module("views/tasksModal.html",[]).run(["$templateCache",function(e){e.put("views/tasksModal.html",'<div class="modal-header"> <h3 class="modal-title">Tasks</h3> </div> <div class="modal-body"> <ng-include src="\'views/tasks.html\'"></ng-include> </div> <div class="modal-footer"> <button class="btn btn-default btn-sm" ng-click="cancel()">Cerrar</button> </div> ')}]),angular.module("views/textsModal.html",[]).run(["$templateCache",function(e){e.put("views/textsModal.html",'<div class="modal-header"> <h3 class="modal-title">Valores usados en "{{ column }}"</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <table class="table table-bordered table-condensed" style="margin-top: 0px"> <tr> <th style="width: 100px">Tabla</th> <td>{{ table }}</td> </tr> <tr> <th style="width: 100px">Columna</th> <td><strong>{{ column }}</strong></td> </tr> </table> <p class="grid-caption">Valores ({{ texts.length }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingTexts"></p> <div id="textsGrid" ag-grid="textsGrid" class="ag-fresh" style="height: 250px;"></div> <div class="vertical-resizer" resize-target="#textsGrid"></div> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-primary btn-sm" ng-click="acceptModalSelection()" ng-disabled="selectedTexts.length == 0 || fetchingTexts">Aceptar selección</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="fetchingTexts">Cerrar</button> </div> ')}]),angular.module("views/uploadIndicationPhotoModal.html",[]).run(["$templateCache",function(e){e.put("views/uploadIndicationPhotoModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <h3 class="modal-title"> <span>Subir foto de indicación</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th style="width: 110px">{{ "Zone" | translate }}</th> <td>{{ indication.zone.name }}</td> </tr> <tr> <th>{{ "Indication" | translate }}</th> <td>{{ indication.name }}</td> </tr> </table> <div class="form-group"> <label>Foto</label> <input id="file" type="file" class="form-control input-sm" placeholder="" ng-model="indication.photo" ng-disabled="working"> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-click="upload()" ng-disabled="working">Subir foto</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/userModal.html",[]).run(["$templateCache",function(e){e.put("views/userModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear usuario</span> <span ng-show="!createMode">Modificar usuario</span> </h3> </div> <div class="modal-body"> <form role="form"> <div class="form-group"> <label>Nombre</label> <input type="text" class="form-control input-sm" placeholder="" focus="true" ng-model="user.name" ng-disabled="working"> </div> <div class="form-group"> <label>Username</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="user.username" ng-disabled="working"> </div> <div class="form-group"> <label>Email</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="user.email" ng-disabled="working"> <p ng-show="createMode"><small>Usa un email real ya que se le enviará su contraseña inicial<small></small></small></p> </div> <div class="checkbox"> <label class="checkbox"> <input type="checkbox" ng-model="user.enabled" ng-disabled="working"> Habilitado </label> </div> </form> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear usuario</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/users.html",[]).run(["$templateCache",function(e){e.put("views/users.html",'<h1>{{ \'Users\' | translate }}</h1> <div class="row"> <div class="col-md-7"> <div class="row"> <div class="col-md-6"> </div> </div> </div> <div class="col-md-5"> <div class="checkbox"> <label> <input type="checkbox" ng-model="filters.onlyEnabled" ng-disabled="fetchingUsers"> Solo usuarios habilitados </label> </div> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="fetchUsers()" ng-disabled="fetchingUsers">Buscar usuarios con estos filtros</button> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="form-inline"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="openUserModal(true)">Crear usuario</button> <button class="btn btn-default btn-sm" ng-click="openUserModal(false)" ng-disabled="selectedUsers.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button class="btn btn-default btn-sm" ng-click="openPrivilegesModal()" ng-disabled="selectedUsers.length == 0" title="">Privilegios</button> <button class="btn btn-default btn-sm" ng-click="openVisibleMenusModal()" ng-disabled="selectedUsers.length == 0" title="">Menus visibles</button> <button class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedUser()" ng-disabled="selectedUsers.length == 0 || deletingUser" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> </div> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'usersGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="exportToCsv(\'usersGrid\');">CSV</a></li> <li class="divider"></li> <li><a href ng-click="resetColumns(\'usersGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption">Usuarios ({{users.length}}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingUsers"></p> <div id="users-grid" ag-grid="usersGrid" class="ag-fresh" style="height: 250px;"></div> <div class="vertical-resizer" resize-target="#users-grid"></div> </div> </div>')}]),angular.module("views/versions.html",[]).run(["$templateCache",function(e){e.put("views/versions.html",'<h1>Changelog</h1> <uib-tabset> <uib-tab> <uib-tab-heading> <i class="glyphicon glyphicon-home" style="margin-right: 15px"></i> <strong>{{ \'Client\' | translate }}</strong> </uib-tab-heading> <table class="table table-condensed table-bordered table-striped"> <thead> <tr> <th style="text-align: right; width: 100px">Build</th> <th style="text-align: center; width: 100px">Fecha</th> <th style="">Cambios</th> </tr> </thead> <tbody> <tr ng-repeat="version in versions | reverse"> <td style="text-align: right">{{version.build}}</td> <td style="text-align: center">{{version.date}}</td> <td> <ul> <li ng-repeat="change in version.changes">{{change}}</li> </ul> </td> </tr> </tbody> </table> </uib-tab> <uib-tab> <uib-tab-heading> <i class="glyphicon glyphicon-cloud" style="margin-right: 15px"></i> <strong>{{ \'Server API\' | translate }}</strong> <img src="img/loading-tiny.gif" alt="" ng-show="fetchingServerVersions"> </uib-tab-heading> <table class="table table-condensed table-bordered table-striped"> <thead> <tr> <th style="text-align: right; width: 100px">Build</th> <th style="text-align: center; width: 100px">Fecha</th> <th style="">Cambios</th> </tr> </thead> <tbody> <tr ng-repeat="version in serverVersions | reverse"> <td style="text-align: right">{{version.build}}</td> <td style="text-align: center">{{version.date}}</td> <td> <ul> <li ng-repeat="change in version.changes">{{change}}</li> </ul> </td> </tr> </tbody> </table> </uib-tab> </uib-tabset>')}]),angular.module("views/videoDetailsModal.html",[]).run(["$templateCache",function(e){e.put("views/videoDetailsModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <button ng-click="cancel()" type="button" class="close"><span aria-hidden="true">×</span></button> <h3 class="modal-title">Video de {{ video.climberName }} en "{{ video.problem.name }}" <span class="color-bullet-span" style="background-color: {{ video.problem.grade.color }}"></span> {{ video.problem.grade.vGrade }}</h3> </div> <div class="modal-body"> <div class="row" style="margin-bottom: 20px"> <div class="col-md-6"> <div ng-if="video.isYoutube"> <iframe width="100%" height="700" ng-src="{{ trustAsResourceUrl(\'https://www.youtube.com/embed/\' + video.youtubeId) }}"> </iframe> </div> <div ng-if="!video.isYoutube" style="width: 100%; height: 314px; border: 1px solid gray; text-align: center; padding-top: 50px"> <p> Video no está en Youtube.<br> Pincha la URL. </p> </div> </div> <div class="col-md-6"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th colspan="2" style="text-align: center"> Video id #{{ video.videoId }} <div class="pull-right" ng-if="currentUser.isLogged"> <button ng-if="hasPrivilege(\'Videos\', \'write\')" class="btn btn-default btn-xs" ng-click="openVideoModal(video)" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button ng-if="hasPrivilege(\'Videos\', \'delete\')" class="btn btn-default btn-xs" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteVideo(video)" ng-disabled="deletingVideo" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> </div> </th> </tr> <tr ng-if="video.isYoutube"> <th>Youtube</th> <td><a href="https://www.youtube.com/watch?v={{ video.youtubeId }}" target="_blank">Ver en YouTube</a></td> </tr> <tr ng-if="!video.isYoutube"> <th>URL</th> <td><a href="{{ video.url }}" target="_blank">{{ video.url }}</a></td> </tr> <tr ng-if="video.originalURL != null"> <th>Original</th> <td> <a href="{{ video.originalURL }}" target="_blank">Ver original</a> <p style="color: gray; font-style: italic;">(El video en YouTube es un proxy guardado por Bouldermap y puede haber perdido calidad)</p> </td> </tr> <tr> <th style="width: 100px">Escalador</th> <td><a href ng-click="openClimberStatsModal(video.climberName)">{{ video.climberName }}</a></td> </tr> <tr style="height: 130px"> <th>Descripción</th> <td>{{ video.description }}</td> </tr> <tr ng-if="hasPrivilege(\'Discussions\', \'write\')"> <th></th> <td> <div class="btn-group" uib-dropdown is-open="discussVideoMenuIsOpen"> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="glyphicon glyphicon-comment"></span> <span style="margin-left: 8px; margin-right: 8px">Discutir</span> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li><a href ng-click="openVideoDiscussionModal(video, \'El video corresponde a otro problema: \')">El video corresponde a otro problema</a></li> <li class="divider"></li> <li><a href ng-click="openVideoDiscussionModal(video, \'El nombre del escalador es otro: \')">El nombre del escalador es otro</a></li> <li class="divider"></li> <li><a href ng-click="openVideoDiscussionModal(video, \'El link no funciona\')">El link no funciona</a></li> </ul> </div> </td> </tr> </table> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/videoModal.html",[]).run(["$templateCache",function(e){e.put("views/videoModal.html",'<div class="modal-header" modal-movable style="cursor: move"> <h3 class="modal-title"> <span ng-show="createMode">Agregar video de problema</span> <span ng-show="!createMode">Modificar video de problema</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <table class="table table-condensed table-bordered" style="margin-top: 0px"> <tr> <th> <span>Problema</span> <a class="pull-right" ng-if="video.problem != null" href ng-click="video.problem = null"><span class="glyphicon glyphicon-remove"></span></a> </th> </tr> <tr ng-if="video.problem == null"> <td style="padding: 20px; text-align: center"> <a href ng-click="openProblemsModal()"><strong>Elegir problema...</strong></a> </td> </tr> <tr ng-if="video.problem != null"> <td> <table class="table table-condensed table-bordered" style="margin-top: 0px; margin-bottom: 0px"> <tr> <th style="width: 120px">Nombre</th> <td>{{ video.problem.name }}</td> </tr> <tr> <th>Grado</th> <td>{{ video.problem.grade.vGrade }}</td> </tr> <tr> <th>Sector</th> <td>{{ video.problem.stone.zone.name }}</td> </tr> </table> </td> </tr> </table> <div class="form-group"> <label>URL</label> <input type="text" class="form-control input-sm" placeholder="https://" ng-model="video.url" ng-disabled="working" focus="true"> </div> <div class="form-group"> <label>Nombre del escalador (opcional)</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="video.climberName" ng-disabled="working"> </div> <div class="form-group"> <label>Descripción del video (opcional)</label> <textarea class="form-control input-sm" ng-model="video.description" ng-disabled="working" rows="4" style="resize: vertical;"></textarea> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Agregar video</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/videos.html",[]).run(["$templateCache",function(e){e.put("views/videos.html",'<h1>{{ \'Videos\' | translate }}</h1> <div class="row"> <div class="col-md-7"> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>Sector</label> <div class="form-group-sm"> <ui-select ng-model="filters.zone" ng-disabled="fetchingZones || fetchingVideos" on-select="filters.stone = null; fetchStones()"> <ui-select-match allow-clear placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="zone in zones | filterBy: [\'name\']: $select.search"> <span ng-bind-html="zone.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> <div ng-if="filters.zone != null" style="padding-left: 20px; border-left: 1px dashed gray"> <div class="form-group"> <label>Piedra</label> <div class="form-group-sm"> <ui-select ng-model="filters.stone" ng-disabled="fetchingStones || fetchingVideos"> <ui-select-match allow-clear placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="stone in stones | filterBy: [\'name\']: $select.search"> <span ng-bind-html="stone.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> </div> </div> <div class="col-md-4"> <div class="form-group"> <label><a href ng-click="openClimbersModal()">Escalador</a></label> <div class="input-group"> <input style="cursor: pointer; background-color: white" ng-click="openClimbersModal()" type="text" class="form-control input-sm" ng-model="filters.climberName" ng-readonly="true" ng-disabled="fetchingVideos"> <span class="input-group-addon"> <a href ng-click="filters.climberName = \'\'" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> </div> </div> <div class="col-md-5"> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label for="">Mín. grado</label> <div class="form-group-sm"> <ui-select ng-model="filters.minGrade" ng-disabled="fetchingGrades || fetchingVideos"> <ui-select-match allow-clear placeholder=""> <div class="color-bullet-span" style="background-color: {{ $select.selected.color }}"></div> {{ $select.selected.vGrade }} </ui-select-match> <ui-select-choices repeat="grade in grades | filterBy: [\'vGrade\']: $select.search"> <span class="color-bullet-span" style="background-color: {{ grade.color }}"></span> <span ng-bind-html="grade.vGrade | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> </div> <div class="col-md-4"> <div class="form-group"> <label for="">Máx. grado</label> <div class="form-group-sm"> <ui-select ng-model="filters.maxGrade" ng-disabled="fetchingGrades || fetchingVideos"> <ui-select-match allow-clear placeholder=""> <div class="color-bullet-span" style="background-color: {{ $select.selected.color }}"></div> {{ $select.selected.vGrade }} </ui-select-match> <ui-select-choices repeat="grade in grades | filterBy: [\'vGrade\']: $select.search"> <span class="color-bullet-span" style="background-color: {{ grade.color }}"></span> <span ng-bind-html="grade.vGrade | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> </div> </div> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Sort by\' | translate }}</label> <select ng-model="sorting.orderBy" class="form-control input-sm" ng-options="o.id as o.text for o in orderByColumns" ng-disabled="fetchingVideos"> </select> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>{{ \'Sort asc/desc\' | translate }}</label> <select ng-model="sorting.orderDesc" class="form-control input-sm" ng-options="o.id as o.text for o in orderDescOptions" ng-disabled="fetchingVideos"> </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label>Nombre del problema contiene...</label> <div class="input-group"> <input type="text" class="form-control input-sm" ng-model="filters.problemName" ng-keypress="onProblemNameKeypress($event)" ng-disabled="fetchingVideos"> <span class="input-group-addon"> <a href ng-click="filters.problemName = \'\'" title="Limpiar"> <span class="glyphicon glyphicon-remove"></span> </a> </span> </div> </div> </div> </div> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="pagination.page = 1; fetchVideos()" ng-disabled="fetchingVideos">{{ \'Search with these filters\' | translate }}</button> </div> </div> </div> <div class="row" style="margin-top: 30px"> <div class="col-md-12"> <div class="form-group"> <button ng-if="hasPrivilege(\'Videos\', \'write\')" class="btn btn-default btn-sm" ng-click="openVideoModal(true)" title="Modificar">Crear video</button> <button ng-if="hasPrivilege(\'Videos\', \'write\')" class="btn btn-default btn-sm" ng-click="openVideoModal(false)" ng-disabled="selectedVideos.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button ng-if="hasPrivilege(\'Videos\', \'delete\')" class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedVideo()" ng-disabled="selectedVideos.length == 0 || deletingVideo" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> <button class="btn btn-default btn-sm" ng-click="openStoneDetailsModal(selectedVideos[0].problem.stone)" ng-disabled="selectedVideos.length == 0">Ver piedra</button> <button class="btn btn-default btn-sm" ng-click="openProblemDrawingsModal(selectedVideos[0].problem)" ng-disabled="selectedVideos.length == 0">Ver problema</button> <button class="btn btn-default btn-sm" ng-click="openVideoDetailsModal()" ng-disabled="selectedVideos.length == 0">Ver video</button> </div> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'videosGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="resetColumns(\'videosGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption">{{ "Videos" | translate }} ({{ pagination.count | number }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingVideos"></p> <div id="videosGrid" ag-grid="videosGrid" class="ag-fresh" style="height: 300px;"></div> <div class="vertical-resizer" resize-target="#videosGrid"></div> <ul uib-pagination total-items="pagination.count" items-per-page="pagination.pageSize" ng-model="pagination.page" ng-change="fetchVideos()" class="pagination-sm"></ul> </div> </div> ')}]),angular.module("views/visibleMenusModal.html",[]).run(["$templateCache",function(e){e.put("views/visibleMenusModal.html",'<div class="modal-header"> <h3 class="modal-title">Menús visibles por {{ user.email }}</h3> </div> <div class="modal-body"> <div style="overflow-x: scroll; overflow-y: scroll; height: 400px"> <table class="table table-bordered table-condensed" style="table-layout:fixed"> <tr> <th ng-repeat="menu in menus" style="width: 200px"> <span>{{ menu.label | translate }}</span><br> (<a href ng-click="toggleAll(menu, true)">All</a> | <a href ng-click="toggleAll(menu, false)">None</a>) </th> </tr> <tr> <td ng-repeat="menu in menus"> <div ng-repeat="child in menu.children"> <hr ng-if="child.dividerOnTop" style="margin-top: 0px; margin-bottom: 0px"> <div class="checkbox"> <label> <input type="checkbox" ng-model="visibleMenus[child.href]" ng-disabled="working || fetchingUser"> {{ child.label | translate }} </label> </div> </div> </td> </tr> </table> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-click="save()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/zoneModal.html",[]).run(["$templateCache",function(e){e.put("views/zoneModal.html",'<div class="modal-header"> <h3 class="modal-title"> <span ng-show="createMode">Crear sector</span> <span ng-show="!createMode">Modificar sector</span> </h3> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label>Nombre</label> <input type="text" class="form-control input-sm" placeholder="" ng-model="zone.name" ng-disabled="working" focus="true"> </div> <div class="form-group"> <label>Localidad más cercana</label> <div class="form-group-sm"> <ui-select ng-model="zone.city" ng-disabled="fetchingCities || working"> <ui-select-match placeholder="">{{ $select.selected.name }}</ui-select-match> <ui-select-choices repeat="city in cities | filterBy: [\'name\']: $select.search"> <span ng-bind-html="city.name | highlight: $select.search"></span> </ui-select-choices> </ui-select> </div> </div> <div class="row"> <div class="col-md-4"> <div class="form-group"> <label>Latitud</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="zone.lat" ng-disabled="working"> <a href ng-click="openPinModal()">Usar mapa...</a> </div> </div> <div class="col-md-4"> <div class="form-group"> <label>Longitud</label> <input type="number" class="form-control input-sm" placeholder="" ng-model="zone.lng" ng-disabled="working"> </div> </div> </div> </div> </div> </div> <div class="modal-footer"> <img src="img/loading-tiny.gif" alt="" ng-show="working"> <button class="btn btn-primary btn-sm" ng-show="!createMode" ng-click="createOrEdit()" ng-disabled="working">Guardar cambios</button> <button class="btn btn-primary btn-sm" ng-show="createMode" ng-click="createOrEdit()" ng-disabled="working">Crear sector</button> <button class="btn btn-default btn-sm" ng-click="cancel()" ng-disabled="working">Cerrar</button> </div> ')}]),angular.module("views/zones.html",[]).run(["$templateCache",function(e){e.put("views/zones.html",'<h1>{{ \'Zones\' | translate }}</h1> <div class="row" style="margin-top: 30px"> <div class="col-md-6"> <div class="form-group"> <button ng-if="hasPrivilege(\'Zones\', \'write\')" class="btn btn-default btn-sm" ng-click="openZoneModal(true)" ng-disabled="">Crear sector</button> <button ng-if="hasPrivilege(\'Zones\', \'write\')" class="btn btn-default btn-sm" ng-click="openZoneModal(false)" ng-disabled="selectedZones.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button ng-if="hasPrivilege(\'Zones\', \'delete\')" class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedZone()" ng-disabled="selectedZones.length == 0 || deletingZone" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> <button ng-if="hasPrivilege(\'Zones\', \'write\')" class="btn btn-default btn-sm" ng-click="openPolygonsModal()" ng-disabled="selectedZones.length == 0">Modificar polígonos</button> <button class="btn btn-default btn-sm" ng-click="openIndicationsModal()" ng-disabled="selectedZones.length == 0">Ver indicaciones</button> </div> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'zonesGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="resetColumns(\'zonesGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption">{{ \'Zones\' | translate }} ({{ zones.length }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingZones"></p> <div id="zonesGrid" ag-grid="zonesGrid" class="ag-fresh" style="height: 200px;"></div> <div class="vertical-resizer" resize-target="#zonesGrid"></div> <div class="row"> <div class="col-md-12"> <div class="form-group"> <button ng-if="hasPrivilege(\'Stones\', \'write\')" class="btn btn-default btn-sm" ng-click="openStoneModal(true)" ng-disabled="selectedZones.length == 0">Crear piedra</button> <button ng-if="hasPrivilege(\'Stones\', \'write\')" class="btn btn-default btn-sm" ng-click="openStoneModal(false)" ng-disabled="selectedStones.length == 0" title="Modificar"><span class="glyphicon glyphicon-pencil"></span></button> <button ng-if="hasPrivilege(\'Stones\', \'delete\')" class="btn btn-default btn-sm" ng-confirm-message="¿Estás seguro?" ng-confirm-click="deleteSelectedStone()" ng-disabled="selectedStones.length == 0 || deletingStone" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></button> <button class="btn btn-default btn-sm" ng-click="openStoneDetailsModal(selectedStones[0])" ng-disabled="selectedStones.length == 0">Ver piedra</button> </div> <div class="btn-group pull-right" uib-dropdown> <button type="button" class="btn btn-default btn-xs" ng-click="toggleGridToolPanel(\'stonesGrid\');">Panel</button> <button type="button" class="btn btn-default btn-xs dropdown-toggle" uib-dropdown-toggle> <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu> <li><a href ng-click="resetColumns(\'stonesGrid\');">Reset</a></li> </ul> </div> <p class="grid-caption"><a href="#/stones?zoneId={{ selectedZones[0].zoneId }}">{{ "Stones" | translate }}</a> ({{ stones.length }}) <img src="img/loading-tiny.gif" alt="" ng-show="fetchingStones"></p> <div id="stonesGrid" ag-grid="stonesGrid" class="ag-fresh" style="height: 300px;"></div> <div class="vertical-resizer" resize-target="#stonesGrid"></div> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <button class="btn btn-default btn-sm" ng-click="openCreateGPXModal()" ng-disabled="selectedZones.length == 0">Descargar GPX</button> <img src="img/loading-tiny.gif" alt="" ng-show="downloadingGPX"> </div> <div id="zoneMap" style="height: 600px; border: 1px solid black"></div> </div> </div> ')}]),agGrid.initialiseAgGridWithAngular1(angular),angular.module("bouldermapApp",["ngRoute","ui.bootstrap","toaster","angular.filter","ngSanitize","ngCookies","angular-loading-bar","pascalprecht.translate","bouldermapApp.templates","ui.select","agGrid","angularDateInterceptor"]),angular.module("bouldermapApp").config(["$locationProvider",function(e){e.hashPrefix("")}]),angular.module("bouldermapApp").constant("constants",{exporter:"",api:"",versions:[]}),angular.module("bouldermapApp").value("currentUser",{isLogged:!1,user:{}}),angular.module("bouldermapApp").value("currentInttraUser",{isLogged:!1,inttraUser:{}}),angular.module("bouldermapApp").value("sharedData",{agGridLocaleText:{filterOoo:"Filtrar...",applyFilter:"Aplicar filtro",selectAll:"Seleccionar todos",searchOoo:"Buscar...",blanks:"Blancos",equals:"Igual a...",lessThan:"Menor a...",greaterThan:"Mayor a...",contains:"Contiene...",startsWith:"Empieza con...",endsWith:"Termina en...",group:"Grupo",columns:"Mostrar columnas",rowGroupColumns:"Grupos",rowGroupColumnsEmptyMessage:"Arrastra columnas para agrupar",valueColumns:"Columnas de valores",valueColumnsEmptyMessage:"Arrastra columnas para crear valores"}}),angular.module("bouldermapApp").config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate",function(n){return function(e,t){n(e,t),alert(e.message)}}])}]),angular.module("bouldermapApp").config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|blob):/)}]),angular.module("bouldermapApp").config(["cfpLoadingBarProvider",function(e){e.latencyThreshold=100,e.includeSpinner=!1}]),angular.module("bouldermapApp").config(["uiSelectConfig",function(e){e.theme="bootstrap"}]),angular.module("bouldermapApp").run(["uibPaginationConfig","$filter",function(e,t){e.itemsPerPage=20,e.maxSize=5,e.rotate=!1,e.boundaryLinks=!0,e.firstText=t("translate")("First"),e.lastText=t("translate")("Last"),e.previousText=t("translate")("Previous"),e.nextText=t("translate")("Next")}]),angular.module("bouldermapApp").config(["$translateProvider",function(e){e.useSanitizeValueStrategy(null),e.translations("en",{}),e.translations("es",{Accept:"Aceptar",Cancel:"Cancelar",Close:"Cerrar","Check your email":"Revisa tu email","Change password":"Cambiar contraseña","The new password is ready":"La nueva contraseña está lista","Code that weve sent you":"Código que te enviamos","New password":"Nueva contraseña","Repeat new password":"Repetir nueva contraseña","Search receptions with these filters":"Buscar recepciones con estos filtros","Search logs with these filters":"Buscar logs con estos filtros","Search with these filters":"Buscar con estos filtros","Start date":"Desde fecha","End date":"Hasta fecha","Filter by user":"Filtrar por usuario",First:"Primera",Last:"Última",Previous:"Anterior",Next:"Siguiente",Register:"Registrarse",Login:"Entrar",Logout:"Cerrar sesión","Forgot my password":"Olvidé mi contraseña",Password:"Contraseña",Tables:"Tablas",System:"Sistema",Users:"Usuarios",Settings:"Configuración","Logged users":"Usuarios conectados","Login failures":"Intentos de login","Reset password requests":"Cambios de contraseña",Help:"Ayuda",Version:"Versión","Developed by":"Desarrollado por",Hello:"Hola","Logged out succesfully":"Sesión terminada","Logged in succesfully":"Ingreso exitoso","Check your Internet connection":"Verifique conexión a Internet","Not implemented (404)":"No implementado (404)","Sort by":"Ordenar por","Sort asc/desc":"Orden asc/desc",Attachments:"Adjuntos",View:"Ver",Download:"Descargar",Save:"Guardar",Create:"Crear",Cities:"Ciudades",Grade:"Grado",Grades:"Grados",Gym:"Gimnasio",Gyms:"Gimnasios",City:"Ciudad",Country:"País",Countries:"Países",Zones:"Sectores",Zone:"Sector",Stones:"Piedras",Stone:"Piedra",Indication:"Indicación",Indications:"Indicaciones",Problem:"Problema",Problems:"Problemas",Climbers:"Escaladores",Photos:"Fotos",Discussions:"Discusiones",Discussion:"Discusión",Donations:"Donaciones"}),e.preferredLanguage("es"),e.useCookieStorage()}]),angular.module("bouldermapApp").constant("headerConstants",{menus:[{label:"Tables",children:[{label:"Countries",href:"countries"},{label:"Cities",href:"cities"},{label:"Grades",href:"grades",dividerOnTop:!0}]},{label:"System",children:[{label:"Users",href:"users"},{label:"Logs",href:"logs"},{label:"Logged users",href:"loggedUsers",dividerOnTop:!0},{label:"Tasks",href:"tasks",dividerOnTop:!0},{label:"SMTPs",href:"smtps",dividerOnTop:!0},{label:"Storages",href:"storages"}]}]}),angular.module("bouldermapApp").factory("httpResponseInterceptor",["$q","$window","toaster","$cookies","currentUser","$filter",function(t,e,n,i,o,r){return{response:function(e){return"application/json; charset=utf-8"===e.headers()["content-type"]&&"notLogged"==e.data.errorCode&&(o.isLogged=!1),e||t.when(e)},responseError:function(e){var t=e.data;return e.data={},e.data.error=!0,e.data.serverError=t,-1==e.status&&(e.data.message="Check Edge API status"),0==e.status&&(e.data.message="Check your Internet connection"),404==e.status&&(e.data.message="Not implemented (404)"),500==e.status&&(e.data.message="Error inesperado (500)",console.log(e.data)),e}}}]),angular.module("bouldermapApp").factory("httpRequestInterceptor",["$cookies","$translate","constants","versions","$location",function(t,n,e,i,o){return{request:function(e){return-1!=e.url.indexOf("/api/")&&(e.url=e.url+"?sessionToken="+(t.get("sessionId")||"")+"&lang="+n.use()+"&lastView="+o.path()+"&clientApp=Web&clientAppBuild="+i.versions[i.versions.length-1].build),e}}}]),angular.module("bouldermapApp").config(["$httpProvider",function(e){e.interceptors.push("httpResponseInterceptor"),e.interceptors.push("httpRequestInterceptor")}]),angular.module("bouldermapApp").config(["$routeProvider","constants",function(e,t){e.when("/",{redirectTo:"/random"}).when("/help",{title:"Ayuda",templateUrl:"views/help.html",controller:"helpController"}).when("/random",{title:"Random problem",templateUrl:"views/random.html",controller:"randomController"}).when("/problem",{title:"Problem",templateUrl:"views/problem.html",controller:"problemController"}).when("/attachments",{templateUrl:"views/attachments.html",controller:"attachmentsController"}).when("/azure1",{title:"Azure",templateUrl:"views/azure.html",controller:"azureController"}).when("/tasks",{title:"Tareas",templateUrl:"views/tasks.html",controller:"tasksController",resolve:{constructor:function(){}}}).when("/smtps",{title:"Smtps",templateUrl:"views/smtps.html",controller:"smtpsController"}).when("/imaps",{title:"Imaps",templateUrl:"views/imaps.html",controller:"imapsController"}).when("/storages",{title:"Storages",templateUrl:"views/storages.html",controller:"storagesController"}).when("/versions",{title:"Versiones",templateUrl:"views/versions.html",controller:"versionsController"}).when("/loggedUsers",{title:"Usuarios conectados",templateUrl:"views/loggedUsers.html",controller:"loggedUsersController"}).when("/users",{title:"Usuarios",templateUrl:"views/users.html",controller:"usersController"}).when("/users/login",{title:"Login",templateUrl:"views/login.html",controller:"loginController"}).when("/users/changePassword",{title:"Cambiar password",templateUrl:"views/changePassword.html",controller:"changePasswordController"}).when("/logs",{title:"Logs",templateUrl:"views/logs.html",controller:"logsController"}).when("/countries",{title:"Países",templateUrl:"views/countries.html",controller:"countriesController"}).when("/zones",{title:"Zones",templateUrl:"views/zones.html",controller:"zonesController"}).when("/stones",{title:"Stones",templateUrl:"views/stones.html",controller:"stonesController"}).when("/problems",{title:"Problems",templateUrl:"views/problems.html",controller:"problemsController",resolve:{constructor:function(){}}}).when("/videos",{title:"Videos",templateUrl:"views/videos.html",controller:"videosController"}).when("/discussions",{title:"Discusiones",templateUrl:"views/discussions.html",controller:"discussionsController"}).when("/donations",{title:"Donaciones",templateUrl:"views/donations.html",controller:"donationsController"}).when("/climbers",{title:"Escaladores",templateUrl:"views/climbers.html",controller:"climbersController"}).when("/grades",{title:"Grades",templateUrl:"views/grades.html",controller:"gradesController"}).when("/gyms",{title:"Gyms",templateUrl:"views/gyms.html",controller:"gymsController"}).when("/cities",{title:"Cities",templateUrl:"views/cities.html",controller:"citiesController"}).otherwise({redirectTo:"/users/login"})}]),angular.module("bouldermapApp").constant("versions",{versions:[{build:"1",date:"2025-09-30",changes:["Primer build"]},{build:"2",date:"2025-11-12",changes:["#/discussions?discussionId="]}]}),angular.module("bouldermapApp").controller("azureController",["$scope","$http","$routeParams","$uibModal","toaster","constants","sharedData",function(t,n,e,i,o,r,a){t.azure={},t.settings=[],t.databaseSKUs=[{name:"Basic",dtu:5,usdPerMonth:4.9},{name:"S0",dtu:10,usdPerMonth:14.72},{name:"S1",dtu:20,usdPerMonth:29.44},{name:"S2",dtu:50,usdPerMonth:73.62},{name:"S3",dtu:100,usdPerMonth:147.19},{name:"S4",dtu:200,usdPerMonth:294.4}],t.appServiceSKUs=[{name:"F1",memory:1,compute:"60 min/day",usdPerMonth:0},{name:"D1",memory:1,compute:"240 min/day",usdPerMonth:9.49},{name:"B1",memory:1.75,compute:"A-Series",usdPerMonth:54.75},{name:"S1",memory:1.75,compute:"A-Series",usdPerMonth:73},{name:"B2",memory:3,compute:"A-Series",usdPerMonth:109.5},{name:"S2",memory:3,compute:"A-Series",usdPerMonth:146}],t.patchWeb=function(e){t.patchingWeb=!0;e=n({method:"get",url:r.api+"/api/azure/patchWeb",params:{skuName:e,email:!0},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):o.pop("success","","Actualizando SKU del App Service Plan")}),e.finally(function(){})},t.patchDb=function(e){t.patchingDb=!0;e=n({method:"get",url:r.api+"/api/azure/patchDb",params:{skuName:e,email:!0},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):o.pop("success","","Actualizando SKU de la base de datos")}),e.finally(function(){})},t.fetchSettings=function(){t.fetchingSettings=!0;var e=n({method:"get",url:r.api+"/api/azure/settings",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):t.settings=e.data.settings}),e.finally(function(){t.fetchingSettings=!1})},t.fetchCurrentSKUs=function(){t.fetchingCurrentSKUs=!0;var e=n({method:"get",url:r.api+"/api/azure/get",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):t.azure=e.data}),e.finally(function(){t.fetchingCurrentSKUs=!1})},t.fetchSettings(),t.fetchCurrentSKUs()}]),angular.module("bouldermapApp").controller("changePasswordController",["$scope","$http","$uibModal","toaster","constants","currentUser","$location",function(t,n,e,i,o,r,a){t.email=r.user.email,t.password="",t.currentPassword="",t.newPassword="",t.repeatedNewPassword="",t.changePassword=function(){t.changingPassword=!0;var e=n({method:"get",url:o.api+"/api/users/changePassword",params:{email:t.email,currentPassword:t.currentPassword,newPassword:t.newPassword,repeatedNewPassword:t.repeatedNewPassword,recaptchaChallenge:"",recaptchaResponse:""},data:{}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):(i.pop("success","","Contraseña cambiada"),a.path("/users/login"))}),e.finally(function(){t.changingPassword=!1})}}]),angular.module("bouldermapApp").controller("citiesController",["$scope","$http","$routeParams","$uibModal","toaster","constants","$cookies","sharedData",function(o,t,e,r,a,n,i,s){o.selectedCities=[],o.cities=[],o.citiesGrid={rowData:o.cities,columnDefs:[{field:"cityId",headerName:"id",cellClass:"align-right",width:50},{field:"name",headerName:"nombre",width:200},{field:"locationType",headerName:"tipo de localidad",width:144},{field:"country.name",headerName:"país",width:114},{field:"lat",headerName:"lat",width:68},{field:"lng",headerName:"lng",width:68}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,localeText:s.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),o.selectedCities=e.api.getSelectedRows())}},o.fetchCities=function(i){o.fetchingCities=!0;var e=t({method:"get",url:n.api+"/api/cities/list",params:{output:i},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else{var t,n;if("xlsx"==i)return t=o.$new(),n=r.open({templateUrl:"views/tasksModal.html",controller:"tasksController",scope:t,size:"xl",resolve:{constructor:function(){return{taskId:e.data.taskId}}}}),void(t.uibModalInstance=n).result.then(function(e){},function(){});o.cities=e.data.cities,o.selectedCities.length=0,o.citiesGrid.api.setRowData(o.cities)}}),e.finally(function(){o.fetchingCities=!1})},o.openCityModal=function(e){var t=o.$new();t.createMode=e,t.city=e?{locationType:"Ciudad"}:angular.copy(o.selectedCities[0]),r.open({templateUrl:"views/cityModal.html",controller:"cityModalController",scope:t,size:"m"}).result.then(function(e){o.fetchCities(),null!=o.callback&&o.callback()},function(){})},o.deleteSelectedCity=function(){o.deletingCity=!0;var e=t({method:"get",url:n.api+"/api/cities/delete",params:{cityId:o.selectedCities[0].cityId},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(o.fetchCities(),a.pop("success","","Grado eliminado"))}),e.finally(function(){o.deletingCity=!1})},o.toggleGridToolPanel=function(e){o[e].api.showToolPanel(!o[e].api.isToolPanelShowing())},o.resetColumns=function(e){o[e].columnApi.resetState()},o.fetchCities(),o.acceptModalSelection=function(){o.uibModalInstance.close(o.selectedCities[0])},o.cancel=function(){o.uibModalInstance.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("cityModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(t,n,i,o,r,e,a){t.countries=[],t.locationTypes=[{name:"Ciudad"},{name:"Pueblo"}],t.createOrEdit=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/cities/createOrEdit",params:{cityId:t.city.cityId,name:t.city.name,locationType:null==t.city.locationType?null:t.city.locationType.name,countryId:null==t.city.country?null:t.city.country.countryId,lat:t.city.lat,lng:t.city.lng}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.city),o.pop("success","","Ciudad guardada"))}),e.finally(function(){t.working=!1})},t.fetchCountries=function(){t.fetchingCountries=!0;var e=n({method:"get",url:r.api+"/api/countries/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):t.countries=e.data.countries}),e.finally(function(){t.fetchingCountries=!1})},t.fetchCountries(),t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("climbersController",["$scope","$http","toaster","constants","$uibModal","$httpParamSerializer","sharedData",function(n,t,i,o,r,e,a){n.pagination={count:0,page:1,pageSize:20},n.orderByColumns=[{id:"VideosCount",text:"Videos"},{id:"HardestProblem.GradeId",text:"Grado más difícil grabado"}],n.orderDescOptions=[{id:!0,text:"Descendiente"},{id:!1,text:"Ascendiente"}],n.sorting={orderBy:"HardestProblem.GradeId",orderDesc:!0},n.filters={zone:null},n.onNameKeypress=function(e){13===e.keyCode&&n.fetchClimbers()},n.climbers=[],n.selectedClimbers=[],n.openClimberStatsModal=function(e){var t=n.$new();t.climber=e,r.open({templateUrl:"views/climberStatsModal.html",controller:"climberStatsModalController",scope:t,size:"m"}).result.then(function(e){},function(){})},n.climbersGrid={rowData:n.climbers,columnDefs:[{field:"name",headerName:"nombre",width:200},{field:"hardestProblem.grade.vGrade",headerName:"grado más difícil grabado",cellRenderer:function(e){return e.node.floating?"":"<span class='color-bullet-span' style='background-color: "+e.data.hardestProblem.grade.color+"'></span><span>"+e.value+"</span>"},width:200},{field:"videosCount",headerName:"videos",cellClass:"align-right",width:100}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!1,enableFilter:!1,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,toolPanelSuppressGroups:!0,localeText:a.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),n.selectedClimbers=e.api.getSelectedRows(),n.selectedClimbers.length)}},n.fetchClimbers=function(){n.working=!0;var e=t({method:"get",url:o.api+"/api/videos/climbers",params:{name:n.filters.name,page:n.pagination.page,pageSize:n.pagination.pageSize,orderBy:n.sorting.orderBy,orderDesc:n.sorting.orderDesc}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):(n.climbers=e.data.climbers,n.selectedClimbers.length=0,n.climbersGrid.api.setRowData(n.climbers),n.pagination=e.data.pagination)}),e.finally(function(){n.working=!1})},n.fetchClimbers(),n.acceptModalSelection=function(){n.uibModalInstance.close(n.selectedClimbers[0])},n.cancel=function(){n.uibModalInstance.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("climberStatsModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(t,n,e,i,o,r,a){t.groupedByGrades=[],t.groupedByZones=[],t.groupedByGradesSorting={field:"grade.gradeId",desc:!0},t.fetchStats=function(){t.fetchingStats=!0;var e=n({method:"get",url:o.api+"/api/videos/climberStats",params:{name:t.climber.name}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):(t.climber.videosCount=e.data.videosCount,t.groupedByGrades=e.data.groupedByGrades,t.groupedByZones=e.data.groupedByZones)}),e.finally(function(){t.fetchingStats=!1})},t.fetchStats(),t.cancel=function(){e.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("contactsController",["$scope","$http","$routeParams","$uibModal","toaster","constants","$cookies","sharedData",function(o,t,e,r,a,n,i,s){o.selectedContacts=[],o.contacts=[],o.contactsGrid={rowData:o.contacts,columnDefs:[{field:"contactId",headerName:"id",cellClass:"align-right",width:50,hide:!0},{field:"name",headerName:"nombre",width:200},{field:"email",headerName:"email",width:200},{field:"phone",headerName:"telefono",width:90},{headerName:"notificaciones",children:[{field:"isCompanyContact",headerName:"empresa",cellClass:"align-center",cellRenderer:function(e){return e.value?"✓":""},width:104},{field:"isExporterContact",headerName:"exportadora",cellClass:"align-center",cellRenderer:function(e){return e.value?"✓":""},width:104},{field:"isCustomsContact",headerName:"aduana",cellClass:"align-center",cellRenderer:function(e){return e.value?"✓":""},width:104}]}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,localeText:s.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),o.selectedContacts=e.api.getSelectedRows())}},o.fetchContacts=function(i){o.fetchingContacts=!0;var e=t({method:"get",url:n.api+"/api/contacts/list",params:{output:i},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else{var t,n;if("xlsx"==i)return t=o.$new(),n=r.open({templateUrl:"views/tasksModal.html",controller:"tasksController",scope:t,size:"xl",resolve:{constructor:function(){return{taskId:e.data.taskId}}}}),void(t.uibModalInstance=n).result.then(function(e){},function(){});o.contacts=e.data.contacts,o.selectedContacts.length=0,o.contactsGrid.api.setRowData(o.contacts)}}),e.finally(function(){o.fetchingContacts=!1})},o.openContactModal=function(e){var t=o.$new();t.createMode=e,t.contact=e?{name:"",enabled:!0}:angular.copy(o.selectedContacts[0]),r.open({templateUrl:"views/contactModal.html",controller:"contactModalController",scope:t,size:"m"}).result.then(function(e){o.fetchContacts(),null!=o.callback&&o.callback()},function(){})},o.deleteSelectedContact=function(){o.deletingContact=!0;var e=t({method:"get",url:n.api+"/api/contacts/delete",params:{contactId:o.selectedContacts[0].contactId},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(o.fetchContacts(),a.pop("success","","Contacto eliminado"))}),e.finally(function(){o.deletingContact=!1})},o.toggleGridToolPanel=function(e){o[e].api.showToolPanel(!o[e].api.isToolPanelShowing())},o.resetColumns=function(e){o[e].columnApi.resetState()},o.fetchContacts(),o.acceptModalSelection=function(){o.uibModalInstance.close(o.selectedContacts[0])},o.cancel=function(){o.uibModalInstance.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("countriesController",["$scope","$http","$routeParams","$uibModal","toaster","constants","$cookies","sharedData",function(o,t,e,r,a,n,i,s){o.selectedCountries=[],o.countries=[],o.countriesGrid={rowData:o.countries,columnDefs:[{field:"countryId",headerName:"id",cellClass:"align-right",width:50},{field:"name",headerName:"nombre",width:200},{field:"isoAlpha2",headerName:"iso alpha-2",width:100}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,localeText:s.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),o.selectedCountries=e.api.getSelectedRows())}},o.fetchCountries=function(i){o.fetchingCountries=!0;var e=t({method:"get",url:n.api+"/api/countries/list",params:{output:i},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else{var t,n;if("xlsx"==i)return t=o.$new(),n=r.open({templateUrl:"views/tasksModal.html",controller:"tasksController",scope:t,size:"xl",resolve:{constructor:function(){return{taskId:e.data.taskId}}}}),void(t.uibModalInstance=n).result.then(function(e){},function(){});o.countries=e.data.countries,o.selectedCountries.length=0,o.countriesGrid.api.setRowData(o.countries)}}),e.finally(function(){o.fetchingCountries=!1})},o.openCountryModal=function(e){var t=o.$new();t.createMode=e,t.country=e?{}:angular.copy(o.selectedCountries[0]),r.open({templateUrl:"views/countryModal.html",controller:"countryModalController",scope:t,size:"m"}).result.then(function(e){o.fetchCountries(),null!=o.callback&&o.callback()},function(){})},o.deleteSelectedCountry=function(){o.deletingCountry=!0;var e=t({method:"get",url:n.api+"/api/countries/delete",params:{countryId:o.selectedCountries[0].countryId},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(o.fetchCountries(),a.pop("success","","Grado eliminado"))}),e.finally(function(){o.deletingCountry=!1})},o.toggleGridToolPanel=function(e){o[e].api.showToolPanel(!o[e].api.isToolPanelShowing())},o.resetColumns=function(e){o[e].columnApi.resetState()},o.fetchCountries(),o.acceptModalSelection=function(){o.uibModalInstance.close(o.selectedCountries[0])},o.cancel=function(){o.uibModalInstance.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("countryModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(t,n,i,o,r,e,a){t.createOrEdit=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/countries/createOrEdit",params:{countryId:t.country.countryId,name:t.country.name,isoAlpha2:t.country.isoAlpha2}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.country),o.pop("success","","País guardado"))}),e.finally(function(){t.working=!1})},t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("createGPXModalController",["$scope","$http","$uibModalInstance","toaster","constants","$window",function(t,n,e,i,o,r){t.indications=[],t.problems=[],t.settings={allIndications:!1,allStones:!1},t.toggleAllIndications=function(){for(var e=0;e<t.indications.length;e++)t.indications[e].include=t.settings.allIndications},t.toggleAllStones=function(){for(var e=0;e<t.stones.length;e++)t.stones[e].include=t.settings.allStones},t.createGPX=function(){t.working=!0;var e=n({method:"get",url:o.api+"/api/zones/gpx",params:{zoneId:t.zone.zoneId},data:{}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):r.open(e.data.url,"_blank")}),e.finally(function(){t.working=!1})},t.fetchIndications=function(){t.fetchingIndications=!0;var e=n({method:"get",url:o.api+"/api/indications/list",params:{zoneId:t.zone.zoneId},data:{}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):t.indications=e.data.indications}),e.finally(function(){t.fetchingIndications=!1})},t.fetchStones=function(){t.fetchingStones=!0;var e=n({method:"get",url:o.api+"/api/stones/list",params:{zoneId:t.zone.zoneId,orderBy:"Videos.Count",orderDesc:!0},data:{}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):t.stones=e.data.stones}),e.finally(function(){t.fetchingStones=!1})},t.fetchIndications(),t.fetchStones(),t.cancel=function(){e.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("createStonePhotoModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(i,o,r,a,s,e,t){i.create=function(){i.working=!0;for(var e=new FormData,t=0;t<document.getElementById("file").files.length;t++)e.append("file-"+t,document.getElementById("file").files[t]);var n=o({method:"post",url:s.api+"/api/stonesPhotos/create",data:e,params:{stonePhotoId:i.stonePhoto.stonePhotoId,stoneId:i.stonePhoto.stone.stoneId,description:i.stonePhoto.description},transformRequest:angular.identity,headers:{"Content-Type":void 0}});n.then(function(e){e.data.error?a.pop("error","",e.data.message):(r.close(e.data.stonePhoto),a.pop("success","","Foto guardada"))}),n.finally(function(){i.working=!1})},i.cancel=function(){r.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("discussionDetailsModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","currentUser",function(n,t,e,i,o,r,a,s){n.currentUser=s,n.replies=[],n.hasPrivilege=function(e,t){if(0==s.isLogged)return!1;for(var n=0;n<s.user.privileges.length;n++)if(s.user.privileges[n].entityAsString==e)return s.user.privileges[n][t];return!1},n.openReplyModal=function(e){var t=n.$new();null==e?(t.createMode=!0,t.reply={discussion:n.discussion}):(t.createMode=!1,t.reply=angular.copy(e)),r.open({templateUrl:"views/replyModal.html",controller:"replyModalController",scope:t,backdrop:"static",size:"m"}).result.then(function(e){n.fetchReplies()},function(){})},n.fetchDiscussion=function(){n.fetchingDiscussion=!0;var e=t({method:"get",url:o.api+"/api/discussions/details",params:{discussionId:n.discussion.discussionId}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):n.discussion=e.data.discussion}),e.finally(function(){n.fetchingDiscussion=!1})},n.toggleClosed=function(){n.working=!0;var e=t({method:"get",url:o.api+"/api/discussions/toggleClosed",params:{discussionId:n.discussion.discussionId}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):(e.data.discussion.closed?i.pop("success","","Discusión cerrada"):i.pop("success","","Discusión abierta"),n.fetchDiscussion())}),e.finally(function(){n.working=!1})},n.fetchReplies=function(){n.fetchingReplies=!0;var e=t({method:"get",url:o.api+"/api/replies/list",params:{discussionId:n.discussion.discussionId}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):n.replies=e.data.replies}),e.finally(function(){n.fetchingReplies=!1})},n.fetchDiscussion(),n.fetchReplies(),n.cancel=function(){e.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("discussionModalController",["$scope","$rootScope","$http","$uibModalInstance","toaster","constants","$uibModal","$uibModalStack","$httpParamSerializer","$location",function(t,n,i,o,r,a,s,e,l,c){t.entityTypes=[{id:9,name:"Sector"},{id:10,name:"Indicación"},{id:11,name:"Piedra"},{id:13,name:"Problema"},{id:14,name:"Video"}],t.zones=[],t.indications=[],t.stones=[],t.problems=[],t.videos=[],t.examples=[{entityTypeId:9,text:"Quiero agregar una piedra: (nombre, lat, lng)"},{entityTypeId:9,text:"Quiero agregar una indicación: (nombre, lat, lng)"},{entityTypeId:10,text:"La ubicacion correcta es: (lat, lng)"},{entityTypeId:11,text:"El nombre correcto es: (nombre)"},{entityTypeId:11,text:"La ubicacion correcta es: (lat, lng)"},{entityTypeId:11,text:"Quiero agregar un problema: (nombre, grado)"},{entityTypeId:13,text:"El nombre correcto es: (nombre)"},{entityTypeId:13,text:"El grado correcto es: (grado)"},{entityTypeId:13,text:"Está mal dibujado: (razón)"},{entityTypeId:13,text:"Quiero agregar un video: (link)"},{entityTypeId:14,text:"El link no funciona"},{entityTypeId:14,text:"El nombre del escalador es otro"},{entityTypeId:14,text:"El video corresponde a otro problema"}],t.createOrEdit=function(){t.working=!0;var e=i({method:"get",url:a.api+"/api/discussions/createOrEdit",params:{discussionId:t.discussion.discussionId,entityType:null==t.discussion.entityType?null:t.discussion.entityType.id,zoneId:null==t.discussion.zone?null:t.discussion.zone.zoneId,indicationId:null==t.discussion.indication?null:t.discussion.indication.indicationId,stoneId:null==t.discussion.stone?null:t.discussion.stone.stoneId,problemId:null==t.discussion.problem?null:t.discussion.problem.problemId,videoId:null==t.discussion.video?null:t.discussion.video.videoId,message:t.discussion.message}});e.then(function(e){var t;e.data.error?r.pop("error","",e.data.message):((t=n.$new()).discussion=e.data.discussion,e=s.open({templateUrl:"views/discussionDetailsModal.html",controller:"discussionDetailsModalController",scope:t,size:"lg"}),(t.uibModalInstance=e).result.then(function(){},function(){}),o.dismiss("cancel"),r.pop("success","","Discusión guardada"))}),e.finally(function(){t.working=!1})},t.fetchZones=function(){t.fetchingZones=!0;var e=i({method:"get",url:a.api+"/api/zones/list",params:{},data:{}});e.then(function(e){e.data.error?r.pop("error","",e.data.message):t.zones=e.data.zones}),e.finally(function(){t.fetchingZones=!1})},t.fetchStones=function(){var e;null!=t.discussion.zone&&(t.fetchingStones=!0,(e=i({method:"get",url:a.api+"/api/stones/list",params:{zoneId:t.discussion.zone.zoneId,page:1,pageSize:999},data:{}})).then(function(e){e.data.error?r.pop("error","",e.data.message):t.stones=e.data.stones}),e.finally(function(){t.fetchingStones=!1}))},t.fetchIndications=function(){var e;null!=t.discussion.zone&&(t.fetchingIndications=!0,(e=i({method:"get",url:a.api+"/api/indications/list",params:{zoneId:t.discussion.zone.zoneId,page:1,pageSize:999},data:{}})).then(function(e){e.data.error?r.pop("error","",e.data.message):t.indications=e.data.indications}),e.finally(function(){t.fetchingIndications=!1}))},t.fetchProblems=function(){var e;null!=t.discussion.stone&&(t.fetchingProblems=!0,(e=i({method:"get",url:a.api+"/api/problems/list",params:{stoneId:t.discussion.stone.stoneId,page:1,pageSize:999},data:{}})).then(function(e){e.data.error?r.pop("error","",e.data.message):t.problems=e.data.problems}),e.finally(function(){t.fetchingProblems=!1}))},t.fetchVideos=function(){var e;null!=t.discussion.problem&&(t.fetchingVideos=!0,(e=i({method:"get",url:a.api+"/api/videos/list",params:{problemId:t.discussion.problem.problemId,page:1,pageSize:999},data:{}})).then(function(e){e.data.error?r.pop("error","",e.data.message):t.videos=e.data.videos}),e.finally(function(){t.fetchingVideos=!1}))},t.fetchZones(),null!=t.discussion.zone&&(t.fetchIndications(),t.fetchStones()),null!=t.discussion.stone&&t.fetchProblems(),null!=t.discussion.problem&&t.fetchVideos(),t.cancel=function(){o.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("discussionsController",["$scope","$http","toaster","constants","$uibModal","$httpParamSerializer","sharedData","$location","$filter","currentUser",function(n,t,i,o,r,e,a,s,l,c){n.pagination={count:0,page:1,pageSize:20},n.orderByColumns=[{id:"CreationDate",text:"Fecha de creación"}],n.orderDescOptions=[{id:!0,text:"Descendiente"},{id:!1,text:"Ascendiente"}],n.sorting={orderBy:"CreationDate",orderDesc:!0},n.filters={zone:null},n.onMessageKeypress=function(e){13===e.keyCode&&n.fetchDiscussions()},s.search().zoneId&&(n.filters.zone={zoneId:parseInt(s.search().zoneId)}),n.hasPrivilege=function(e,t){if(0==c.isLogged)return!1;for(var n=0;n<c.user.privileges.length;n++)if(c.user.privileges[n].entityAsString==e)return c.user.privileges[n][t];return!1},n.discussions=[],n.selectedDiscussions=[],n.openDiscussionModal=function(e){var t=n.$new();t.createMode=e,t.discussion=1==e?{}:angular.copy(n.selectedDiscussions[0]),r.open({templateUrl:"views/discussionModal.html",controller:"discussionModalController",scope:t,backdrop:"static",size:"m"}).result.then(function(e){n.fetchDiscussions()},function(){})},n.openDiscussionDetailsModal=function(e){var t=n.$new();t.discussion=angular.copy(e),r.open({templateUrl:"views/discussionDetailsModal.html",controller:"discussionDetailsModalController",scope:t,backdrop:"static",size:"lg"}).result.then(function(e){},function(){})},n.discussionsGrid={rowData:n.discussions,columnDefs:[{field:"discussionId",headerName:"id",cellClass:"align-right",width:50},{headerName:"creación",children:[{field:"creationDate",headerName:"fecha",cellRenderer:function(e){return l("date")(e.value,"yyyy-MM-dd HH:mm")},width:110},{field:"createdByUser.username",headerName:"creado por",width:105}]},{field:"entityType.id",headerName:"entidad",cellRenderer:function(e){return null==e.value?"":9==e.value?"Sector":10==e.value?"Indicación":11==e.value?"Piedra":13==e.value?"Problema":14==e.value?"Video":void 0},width:120},{headerName:"sector",children:[{field:"zone.name",headerName:"nombre",width:108}]},{headerName:"indicacion",children:[{field:"indication.name",headerName:"nombre",width:113}]},{headerName:"piedra",children:[{field:"stone.name",headerName:"nombre",width:113}]},{headerName:"problema",children:[{field:"problem.name",headerName:"nombre",width:113},{field:"problem.grade.vGrade",headerName:"grado",cellRenderer:function(e){return e.node.floating||null==e.data.problem?"":"<span class='color-bullet-span' style='background-color: "+e.data.problem.grade.color+"'></span><span>"+e.value+"</span>"},width:62}]},{headerName:"video",children:[{field:"video.videoId",headerName:"id",width:60},{field:"video.climberName",headerName:"escalador",width:100}]},{headerName:"cierre de discusión",children:[{field:"closeDate",headerName:"fecha",cellRenderer:function(e){return l("date")(e.value,"yyyy-MM-dd HH:mm")},width:110},{field:"closedByUser.username",headerName:"cerrado por",width:105}]},{field:"repliesCount",headerName:"respuestas",cellClass:"align-center",width:82},{field:"message",headerName:"mensaje",width:300}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!1,enableFilter:!1,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,toolPanelSuppressGroups:!0,localeText:a.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),n.selectedDiscussions=e.api.getSelectedRows(),n.selectedDiscussions.length)}},n.fetchDiscussions=function(){n.fetchingDiscussions=!0;var e=t({method:"get",url:o.api+"/api/discussions/list",params:{name:n.filters.name,page:n.pagination.page,pageSize:n.pagination.pageSize,orderBy:n.sorting.orderBy,orderDesc:n.sorting.orderDesc}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):(n.discussions=e.data.discussions,n.selectedDiscussions.length=0,n.discussionsGrid.api.setRowData(n.discussions),n.pagination=e.data.pagination)}),e.finally(function(){n.fetchingDiscussions=!1})},n.fetchZones=function(){n.fetchingZones=!0;var e=t({method:"get",url:o.api+"/api/zones/list",params:{},data:{}});e.then(function(e){if(e.data.error)i.pop("error","",e.data.message);else if(n.zones=e.data.zones,s.search().zoneId)for(var t=0;t<n.zones.length;t++)if(n.zones[t].zoneId==parseInt(s.search().zoneId)){n.filters.zone=n.zones[t];break}}),e.finally(function(){n.fetchingZones=!1})},n.fetchDiscussions(),n.fetchZones(),n.acceptModalSelection=function(){n.uibModalInstance.close(n.selectedDiscussions[0])},s.search().discussionId&&n.openDiscussionDetailsModal({discussionId:s.search().discussionId}),n.cancel=function(){n.uibModalInstance.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("donationModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(t,n,i,o,r,e,a){t.create=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/donations/create",params:{donatorName:t.donation.donatorName,message:t.donation.message,amountCLP:t.donation.amountCLP}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.donation),o.pop("success","","Donación creada"))}),e.finally(function(){t.working=!1})},t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("donationsController",["$scope","$http","toaster","constants","$uibModal","$httpParamSerializer","sharedData","$filter",function(t,n,i,o,r,e,a,s){t.pagination={count:0,page:1,pageSize:20},t.orderByColumns=[{id:"Date",text:"Fecha"}],t.orderDescOptions=[{id:!0,text:"Descendiente"},{id:!1,text:"Ascendiente"}],t.sorting={orderBy:"Date",orderDesc:!0},t.filters={},t.onNameKeypress=function(e){13===e.keyCode&&t.fetchClimbers()},t.donations=[],t.selectedDonations=[],t.openDonationModal=function(){var e=t.$new();e.donation={amountCLP:1e3},r.open({templateUrl:"views/donationModal.html",controller:"donationModalController",scope:e,backdrop:"static",size:"m"}).result.then(function(e){t.fetchDonations()},function(){})},t.donationsGrid={rowData:t.donations,columnDefs:[{field:"donationId",headerName:"id",cellClass:"align-right",width:50,hide:!0},{field:"date",headerName:"fecha",cellRenderer:function(e){return s("date")(e.value,"yyyy-MM-dd HH:mm")},width:110},{field:"donatorName",headerName:"donador",width:150},{field:"amountCLP",headerName:"monto (CLP)",cellClass:"align-right",width:100},{field:"message",headerName:"mensaje",width:300}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!1,enableFilter:!1,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,toolPanelSuppressGroups:!0,localeText:a.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),t.selectedDonations=e.api.getSelectedRows(),t.selectedDonations.length)}},t.fetchDonations=function(){t.working=!0;var e=n({method:"get",url:o.api+"/api/donations/list",params:{name:t.filters.name,page:t.pagination.page,pageSize:t.pagination.pageSize,orderBy:t.sorting.orderBy,orderDesc:t.sorting.orderDesc}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):(t.donations=e.data.donations,t.selectedDonations.length=0,t.donationsGrid.api.setRowData(t.donations),t.pagination=e.data.pagination)}),e.finally(function(){t.working=!1})},t.fetchDonations(),t.acceptModalSelection=function(){t.uibModalInstance.close(t.selectedDonations[0])},t.cancel=function(){t.uibModalInstance.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("drawingModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","$timeout",function(o,i,r,a,s,e,t,n){o.settings={showNearestDrawings:!1},o.loadingImage=!0,o.points=[],o.circles=[],o.nearestDrawings=[];var l=null,c=null,u=null,d=(o.lineIsFinished=!0,o.creatingPolyline=!1,o.prepatingNewCircle=!1,{});o.showOrHideNearestDrawings=function(){var n=c.getContext("2d");o.settings.showNearestDrawings?o.nearestDrawings.forEach(function(e){var t=[];e.polylinePoints.forEach(function(e){t.push({index:e.index,x:e.x*l.width,y:e.y*l.height})}),n.globalAlpha=.35,n.lineWidth=4,n.strokeStyle="red",n.lineCap="round",1<t.length&&(n.beginPath(),n.moveTo(t[0].x,t[0].y),t.forEach(function(e,t){0!=t&&n.lineTo(e.x,e.y)}),n.stroke(),n.closePath())}):n.clearRect(0,0,l.width,l.height)},o.matchFirstPoint=function(e){0==e.polylinePoints.length?a.pop("error","","El problema elegido no tiene dibujo"):(o.drawing.polylinePoints[0]=e.polylinePoints[0],o.points[0]={index:0,x:o.drawing.polylinePoints[0].x*l.width,y:o.drawing.polylinePoints[0].y*l.height},o.redraw())},o.importLine=function(e){o.points.length=0,o.circles.length=0,o.drawing.polylinePoints=e.polylinePoints,o.drawing.circles=e.circles,0<o.drawing.polylinePoints.length&&o.drawing.polylinePoints.forEach(function(e){o.points.push({index:e.index,x:e.x*l.width,y:e.y*l.height})}),0<o.drawing.circles.length&&o.drawing.circles.forEach(function(e){o.circles.push({radius:e.radius,x:e.x*l.width,y:e.y*l.height})}),o.redraw()},angular.element(document).ready(function(){var e=document.getElementById("drawingModal_stonePhoto");e.onload=function(){o.loadingImage=!1,o.$apply(),l=document.getElementById("drawingModal_canvas"),c=document.getElementById("drawingModal_neighboursCanvas"),l.width=e.width,l.height=e.height,c.width=e.width,c.height=e.height,u=l.getContext("2d"),0<o.drawing.polylinePoints.length&&o.drawing.polylinePoints.forEach(function(e){o.points.push({index:e.index,x:e.x*l.width,y:e.y*l.height})}),0<o.drawing.circles.length&&o.drawing.circles.forEach(function(e){o.circles.push({radius:e.radius,x:e.x*l.width,y:e.y*l.height})}),o.redraw(),l.onclick=function(e){var t=l.getBoundingClientRect(),n=event.clientX-t.left,t=event.clientY-t.top;if(o.preparingNewCircle)return o.circles.push({x:n,y:t,radius:25}),o.preparingNewCircle=!1,o.$apply(),void o.redraw();if(o.creatingPolyline){if(0<o.points.length){var i=o.points[o.points.length-1];if(n<=i.x+5&&n>=i.x-5&&t<=i.y+5&&t>=i.y-5)return o.creatingPolyline=!1,o.lineIsFinished=!0,o.$apply(),void o.redraw()}o.points.push({index:o.points.length,x:n,y:t}),o.$apply(),o.redraw()}},l.onmousemove=function(e){var t=l.getBoundingClientRect(),n=event.clientX-t.left,t=event.clientY-t.top;d={x:n,y:t},o.redraw()}},o.photoURL=o.drawing.stonePhoto.photoURL}),o.prepareNewPolyline=function(){o.points.length=0,o.lineIsFinished=!1,o.creatingPolyline=!0,o.redraw()},o.prepareNewCircle=function(){2<=o.circles.length?a.pop("error","","Máximo dos círculos"):o.preparingNewCircle=!0},o.deleteCircle=function(e){o.circles.splice(e,1),o.redraw()},o.redraw=function(){u.clearRect(0,0,l.width,l.height),u.shadowColor="rgba(0, 0, 0, 0.95)",u.shadowBlur=3,u.shadowOffsetX=2,u.shadowOffsetY=2,u.lineWidth=4,u.strokeStyle="red",u.lineCap="round",1<o.points.length&&(u.beginPath(),u.moveTo(o.points[0].x,o.points[0].y),o.points.forEach(function(e,t){0!=t&&u.lineTo(e.x,e.y)}),u.stroke(),u.closePath()),u.strokeStyle="orange",o.creatingPolyline&&0<o.points.length&&(u.beginPath(),u.moveTo(o.points[o.points.length-1].x,o.points[o.points.length-1].y),u.lineTo(d.x,d.y),u.stroke(),u.closePath()),o.circles.forEach(function(e){u.beginPath(),u.arc(e.x,e.y,e.radius,0,2*Math.PI),u.strokeStyle="red",u.lineWidth=4,u.stroke(),u.closePath()})},o.saveDrawing=function(){var t=[],n=[],e=(o.points.forEach(function(e){t.push({index:e.index,x:e.x/l.width,y:e.y/l.height})}),o.circles.forEach(function(e){n.push({radius:25,x:e.x/l.width,y:e.y/l.height})}),o.working=!0,i({method:"post",url:s.api+"/api/drawings/edit",params:{drawingId:o.drawing.drawingId},data:JSON.stringify({polylinePoints:t,circles:n}),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}}));e.then(function(e){e.data.error?a.pop("error","",e.data.message):(r.close(e.data.drawing),a.pop("success","","Dibujo guardado"))}),e.finally(function(){o.working=!1})},o.fetchNearestDrawings=function(){o.fetchingNearestDrawings=!0;var e=i({method:"get",url:s.api+"/api/drawings/list",params:{stonePhotoId:o.drawing.stonePhoto.stonePhotoId}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):e.data.drawings.forEach(function(e){o.drawing.problem.problemId!=e.problem.problemId&&o.nearestDrawings.push(e)})}),e.finally(function(){o.fetchingNearestDrawings=!1})},o.fetchNearestDrawings(),o.cancel=function(){r.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("editStonePhotoModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(t,n,i,o,r,e,a){t.edit=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/stonesPhotos/edit",params:{stonePhotoId:t.stonePhoto.stonePhotoId,description:t.stonePhoto.description}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.stonePhoto),o.pop("success","","Foto guardada"))}),e.finally(function(){t.working=!1})},t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("footerController",["$scope","constants","toaster","$window","$location","currentUser","$cookies","$http","versions",function(e,t,n,i,o,r,a,s,l){e.currentUser=r,e.lastBuild=l.versions[l.versions.length-1].build}]),angular.module("bouldermapApp").controller("forgotPasswordController",["$scope","$http","$uibModalInstance","toaster","constants","$filter","$location",function(t,n,i,o,r,a,e){t.showEmailForm=!0,t.email="",t.code="",t.newPassword="",t.repeatedNewPassword="",t.sendEmail=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/users/getResetPasswordCode",params:{email:t.email},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(o.pop("success","",a("translate")("Check your email")),t.showEmailForm=!1)}),e.finally(function(){t.working=!1})},t.changePassword=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/users/changePassword",params:{email:t.email,resetCode:t.code,newPassword:t.newPassword,repeatedNewPassword:t.repeatedNewPassword},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(o.pop("success","",a("translate")("The new password is ready")),i.close())}),e.finally(function(){t.working=!1})},t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("gradeModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(t,n,i,o,r,e,a){t.createOrEdit=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/grades/createOrEdit",params:{gradeId:t.grade.gradeId,vGrade:t.grade.vGrade,fontGrade:t.grade.fontGrade,color:t.grade.color}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.grade),o.pop("success","","Grado guardado"))}),e.finally(function(){t.working=!1})},t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("gradesController",["$scope","$http","$routeParams","$uibModal","toaster","constants","$cookies","sharedData",function(o,t,e,r,a,n,i,s){o.selectedGrades=[],o.grades=[],o.gradesGrid={rowData:o.grades,columnDefs:[{field:"gradeId",headerName:"id",cellClass:"align-right",width:50},{field:"vGrade",headerName:"V",width:100},{field:"fontGrade",headerName:"font",width:100},{field:"color",headerName:"color",cellRenderer:function(e){return"<span class='color-bullet-span' style='background-color: "+e.value+"'></span><span>"+e.value+"</span>"},width:100}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,localeText:s.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),o.selectedGrades=e.api.getSelectedRows())}},o.fetchGrades=function(i){o.fetchingGrades=!0;var e=t({method:"get",url:n.api+"/api/grades/list",params:{output:i},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else{var t,n;if("xlsx"==i)return t=o.$new(),n=r.open({templateUrl:"views/tasksModal.html",controller:"tasksController",scope:t,size:"xl",resolve:{constructor:function(){return{taskId:e.data.taskId}}}}),void(t.uibModalInstance=n).result.then(function(e){},function(){});o.grades=e.data.grades,o.selectedGrades.length=0,o.gradesGrid.api.setRowData(o.grades)}}),e.finally(function(){o.fetchingGrades=!1})},o.openGradeModal=function(e){var t=o.$new();t.createMode=e,t.grade=e?{}:angular.copy(o.selectedGrades[0]),r.open({templateUrl:"views/gradeModal.html",controller:"gradeModalController",scope:t,size:"m"}).result.then(function(e){o.fetchGrades(),null!=o.callback&&o.callback()},function(){})},o.deleteSelectedGrade=function(){o.deletingGrade=!0;var e=t({method:"get",url:n.api+"/api/grades/delete",params:{gradeId:o.selectedGrades[0].gradeId},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(o.fetchGrades(),a.pop("success","","Grado eliminado"))}),e.finally(function(){o.deletingGrade=!1})},o.toggleGridToolPanel=function(e){o[e].api.showToolPanel(!o[e].api.isToolPanelShowing())},o.resetColumns=function(e){o[e].columnApi.resetState()},o.fetchGrades(),o.acceptModalSelection=function(){o.uibModalInstance.close(o.selectedGrades[0])},o.cancel=function(){o.uibModalInstance.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("gymGradeModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(t,n,i,o,r,e,a){t.grades=[],t.createOrEdit=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/gymsGrades/createOrEdit",params:{gymGradeId:t.gymGrade.gymGradeId,gymId:t.gymGrade.gym.gymId,description:t.gymGrade.description,color:t.gymGrade.color,minGradeId:null==t.gymGrade.minGrade?null:t.gymGrade.minGrade.gradeId,maxGradeId:null==t.gymGrade.maxGrade?null:t.gymGrade.maxGrade.gradeId}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.gymGrade),o.pop("success","","Grado guardado"))}),e.finally(function(){t.working=!1})},t.fetchGrades=function(){t.fetchingGrades=!0;var e=n({method:"get",url:r.api+"/api/grades/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):t.grades=e.data.grades}),e.finally(function(){t.fetchingGrades=!1})},t.cancel=function(){i.dismiss("cancel")},t.fetchGrades()}]),angular.module("bouldermapApp").controller("gymModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(t,n,i,o,r,a,e){t.cities=[],t.createOrEdit=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/gyms/createOrEdit",params:{gymId:t.gym.gymId,name:t.gym.name,lat:t.gym.lat,lng:t.gym.lng,cityId:null==t.gym.city?null:t.gym.city.cityId}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.gym),o.pop("success","","Gimnasio guardado"))}),e.finally(function(){t.working=!1})},t.fetchCities=function(){t.fetchingCities=!0;var e=n({method:"get",url:r.api+"/api/cities/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):t.cities=e.data.cities}),e.finally(function(){t.fetchingCities=!1})},t.openPinModal=function(){var e;null==t.gym.city?o.pop("error","","Especifica una ciudad primero"):(e=t.$new(),null!=t.gym.lat&&null!=t.gym.lng?e.initialSettings={centerLat:t.gym.lat,centerLng:t.gym.lng,zoom:15,markerPosition:{lat:t.gym.lat,lng:t.gym.lng}}:e.initialSettings={centerLat:t.gym.city.lat,centerLng:t.gym.city.lng,zoom:11},a.open({templateUrl:"views/pinModal.html",controller:"pinModalController",scope:e,backdrop:"static",size:"lg"}).result.then(function(e){t.zone.lat=e.lat,t.zone.lng=e.lng},function(){}))},t.fetchCities(),t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("gymsController",["$scope","$http","$routeParams","$uibModal","toaster","constants","$cookies","sharedData",function(o,t,e,r,a,n,i,s){o.selectedGyms=[],o.gyms=[],o.selectedGymsGrades=[],o.gymsGrades=[],o.gymsGrid={rowData:o.gyms,columnDefs:[{field:"gymId",headerName:"id",cellClass:"align-right",width:50},{field:"name",headerName:"nombre",width:200},{field:"city.name",headerName:"ciudad",width:200},{field:"lat",headerName:"lat",width:68,hide:!0},{field:"lng",headerName:"lng",width:68,hide:!0},{field:"gradesCount",headerName:"grados",cellClass:"align-right",width:100}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,localeText:s.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),o.selectedGyms=e.api.getSelectedRows(),o.gymsGrades.length=0,o.selectedGymsGrades.length=0,o.gymsGradesGrid.api.setRowData([]),1==o.selectedGyms.length&&o.fetchGymsGrades())}},o.gymsGradesGrid={rowData:o.gymsGrades,columnDefs:[{field:"gymGradeId",headerName:"id",cellClass:"align-right",width:50},{field:"description",headerName:"description",width:200},{field:"color",headerName:"color",cellRenderer:function(e){return"<span class='color-bullet-span' style='background-color: "+e.value+"'></span><span>"+e.value+"</span>"},width:100},{field:"minGrade.vGrade",headerName:"desde",cellClass:"align-center",width:100},{field:"maxGrade.vGrade",headerName:"hasta",cellClass:"align-center",width:100}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,localeText:s.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),o.selectedGymsGrades=e.api.getSelectedRows())}},o.fetchGyms=function(i){o.fetchingGyms=!0;var e=t({method:"get",url:n.api+"/api/gyms/list",params:{output:i},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else{var t,n;if("xlsx"==i)return t=o.$new(),n=r.open({templateUrl:"views/tasksModal.html",controller:"tasksController",scope:t,size:"xl",resolve:{constructor:function(){return{taskId:e.data.taskId}}}}),void(t.uibModalInstance=n).result.then(function(e){},function(){});o.gyms=e.data.gyms,o.selectedGyms.length=0,o.gymsGrid.api.setRowData(o.gyms)}}),e.finally(function(){o.fetchingGyms=!1})},o.fetchGymsGrades=function(){o.fetchingGymsGrades=!0;var e=t({method:"get",url:n.api+"/api/gymsGrades/list",params:{gymId:o.selectedGyms[0].gymId},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(o.gymsGrades=e.data.gymsGrades,o.selectedGymsGrades.length=0,o.gymsGradesGrid.api.setRowData(o.gymsGrades))}),e.finally(function(){o.fetchingGymsGrades=!1})},o.openGymModal=function(e){var t=o.$new();t.createMode=e,t.gym=e?{}:angular.copy(o.selectedGyms[0]),r.open({templateUrl:"views/gymModal.html",controller:"gymModalController",scope:t,size:"m"}).result.then(function(e){o.fetchGyms(),null!=o.callback&&o.callback()},function(){})},o.openGymGradeModal=function(e){var t=o.$new();t.createMode=e,t.gymGrade=e?{gym:o.selectedGyms[0]}:angular.copy(o.selectedGymsGrades[0]),r.open({templateUrl:"views/gymGradeModal.html",controller:"gymGradeModalController",scope:t,backdrop:"static",size:"m"}).result.then(function(e){o.fetchGymsGrades()},function(){})},o.deleteSelectedGym=function(){o.deletingGym=!0;var e=t({method:"get",url:n.api+"/api/gyms/delete",params:{gymId:o.selectedGyms[0].gymId},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(o.fetchGyms(),a.pop("success","","Gimnasio eliminado"))}),e.finally(function(){o.deletingGym=!1})},o.toggleGridToolPanel=function(e){o[e].api.showToolPanel(!o[e].api.isToolPanelShowing())},o.resetColumns=function(e){o[e].columnApi.resetState()},o.fetchGyms(),o.acceptModalSelection=function(){o.uibModalInstance.close(o.selectedGyms[0])},o.cancel=function(){o.uibModalInstance.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("headerController",["$scope","$rootScope","constants","toaster","$window","$location","currentUser","currentInttraUser","$cookies","$http","$translate","$filter","$interval","$rootScope","uibPaginationConfig","sharedData","headerConstants","$uibModal","$route","versions",function(i,n,t,o,e,r,a,s,l,c,u,d,p,n,h,f,g,m,v,b){n.$on("$routeChangeSuccess",function(e,t){n.title=v.current.title}),i.currentUser=a,i.currentInttraUser=s,i.constants=t,i.languages=[{code:"en",name:"English"},{code:"es",name:"Español"}],i.currentLanguage=u.use(),i.setLanguage=function(e){u.use(e),i.currentLanguage=u.use()},i.menus=g.menus,i.showMenuGroup=function(e){for(var t=0;t<i.menus.length;t++)if(i.menus[t].label==e)for(var n=0;n<i.menus[t].children.length;n++)if(i.showMenu(i.menus[t].children[n].href))return!0;return!1},i.showMenu=function(e){null==a.user.visibleMenus&&(a.user.visibleMenus="");for(var t=a.user.visibleMenus.split(","),n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},i.openLoginModal=function(e){var t,n;"loginController"!=v.current.$$route.controller&&((t=i.$new()).asModal=!0,n=m.open({templateUrl:"views/loginModal.html",controller:"loginController",scope:t,size:"sm"}),(t.uibModalInstance=n).result.then(function(){},function(){}))},i.openInttraLoginModal=function(e){var t=i.$new(),n=(t.asModal=!0,m.open({templateUrl:"views/inttraLoginModal.html",controller:"inttraLoginModalController",scope:t,size:"sm"}));(t.uibModalInstance=n).result.then(function(){},function(){})},n.$on("$translateChangeSuccess",function(e,t){h.firstText=d("translate")("First"),h.lastText=d("translate")("Last"),h.previousText=d("translate")("Previous"),h.nextText=d("translate")("Next")}),i.logout=function(){var e;a.isLogged?(i.loggingOut=!0,(e=c({method:"get",url:t.api+"/api/users/logout",params:{},data:{}})).then(function(e){e.data.error?o.pop("error","",e.data.message):o.pop("success","",d("translate")("Logged out succesfully"))}),e.finally(function(){i.loggingOut=!1,l.remove("sessionId"),a.isLogged=!1,a.user={},r.path("/users/login")})):o.pop("error","",d("translate")("You are not logged"))},i.inttraLogout=function(){s.isLogged?(s.isLogged=!1,s.inttraUser={},s.token=null,l.remove("currentInttraUser"),o.pop("success","",d("translate")("Logged out succesfully"))):o.pop("error","",d("translate")("You are not logged"))},i.updateUserFromServer=function(){l.get("sessionId")&&c({ignoreLoadingBar:!0,method:"get",url:t.api+"/api/users/me",params:{},data:{}}).then(function(e){if(e.data.error)return a.isLogged=!1,a.user={},void l.remove("sessionId");a.isLogged=!0,a.user=e.data.user,a.user.privileges=e.data.privileges})},i.checkVersion=function(){c({ignoreLoadingBar:!0,method:"get",url:t.api+"/Content/clientAppBuild.txt",params:{},data:{}}).then(function(e){var t;e.data.error||e.data>b.versions[b.versions.length-1].build&&(i.newVersionModalIsOpen||((t=i.$new()).availableBuild=e.data,e=m.open({templateUrl:"views/newVersionModal.html",controller:"newVersionModalController",scope:t}),i.newVersionModalIsOpen=!0,e.closed.then(function(){i.newVersionModalIsOpen=!1},function(){})))})},p(i.updateUserFromServer,6e4),p(i.checkVersion,6e4),i.updateUserFromServer(),i.checkVersion(),i.$watch("currentUser",function(e,t){0==t.isLogged&&1==e.isLogged&&l.get("currentInttraUser")&&(t=JSON.parse(l.get("currentInttraUser")),s.isLogged=t.isLogged,s.token=t.token,s.inttraUser=t.inttraUser)},!0)}]),angular.module("bouldermapApp").controller("helpController",["$scope","$http","$routeParams","$uibModal","toaster","constants","currentUser",function(e,t,n,i,o,r,a){}]),angular.module("bouldermapApp").controller("indicationDetailsModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","$timeout","currentUser",function(t,n,i,o,r,a,e,s,l){t.currentUser=l,t.copyCoordinates=function(){try{navigator.clipboard.writeText(t.indication.lat+", "+t.indication.lng),o.pop("success","","Coordenadas copiadas")}catch(e){o.pop("error","","No se logró copiar")}},t.openIndicationModal=function(){var e=t.$new();e.indication=angular.copy(t.indication),a.open({templateUrl:"views/indicationModal.html",controller:"indicationModalController",scope:e,backdrop:"static",size:"m"}).result.then(function(e){t.indication=e},function(){})},t.openUploadIndicationPhotoModal=function(){var e=t.$new();e.indication=angular.copy(t.indication),a.open({templateUrl:"views/uploadIndicationPhotoModal.html",controller:"uploadIndicationPhotoModalController",scope:e,backdrop:"static",size:"m"}).result.then(function(e){t.indication=e},function(){})},t.deleteIndicationPhoto=function(){t.deletingIndicationPhoto=!0;var e=n({method:"get",url:r.api+"/api/indications/deletePhoto",params:{indicationId:t.indication.indicationId}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(o.pop("success","","Foto eliminada"),t.indication.hasPhoto=!1,t.indication.photoURL=null)}),e.finally(function(){t.deletingIndicationPhoto=!1})},t.deleteIndication=function(){t.deletingIndication=!0;var e=n({method:"get",url:r.api+"/api/indications/delete",params:{indicationId:t.indication.indicationId}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(o.pop("success","","Indicación eliminada"),i.dismiss("cancel"))}),e.finally(function(){t.deletingIndication=!1})},t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("indicationModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","currentUser",function(t,n,i,o,r,a,e,s){t.currentUser=s,t.createOrEdit=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/indications/createOrEdit",params:{indicationId:t.indication.indicationId,zoneId:t.indication.zone.zoneId,name:t.indication.name,description:t.indication.description,lat:t.indication.lat,lng:t.indication.lng}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.indication),o.pop("success","","Indicación guardada"))}),e.finally(function(){t.working=!1})},t.openPinModal=function(){var e=t.$new();null!=t.indication.lat&&null!=t.indication.lng?e.initialSettings={centerLat:t.indication.lat,centerLng:t.indication.lng,zoom:18,markerPosition:{lat:t.indication.lat,lng:t.indication.lng}}:e.initialSettings={centerLat:t.indication.zone.lat,centerLng:t.indication.zone.lng,zoom:15},a.open({templateUrl:"views/pinModal.html",controller:"pinModalController",scope:e,backdrop:"static",size:"lg"}).result.then(function(e){t.indication.lat=e.lat,t.indication.lng=e.lng},function(){})},t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("indicationsModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","$timeout","currentUser",function(i,t,e,n,o,r,a,s,l){i.currentUser=l,i.indications=[],i.hasPrivilege=function(e,t){if(0==l.isLogged)return!1;for(var n=0;n<l.user.privileges.length;n++)if(l.user.privileges[n].entityAsString==e)return l.user.privileges[n][t];return!1},i.openNewIndicationDiscussionModal=function(){var e=i.$new();e.createMode=!0,e.discussion={entityType:{id:9,name:"Sector"},zone:i.zone,message:"Quiero agregar una indicación: (nombre, lat, lng)"},r.open({templateUrl:"views/discussionModal.html",controller:"discussionModalController",scope:e,backdrop:"static",size:"m"}).result.then(function(e){},function(){})},i.openIndicationDiscussionModal=function(e,t){var n=i.$new();n.createMode=!0,n.discussion={entityType:{id:10,name:"Indicación"},zone:i.zone,indication:e,message:t},r.open({templateUrl:"views/discussionModal.html",controller:"discussionModalController",scope:n,backdrop:"static",size:"m"}).result.then(function(e){},function(){})},i.copyCoordinates=function(e){try{navigator.clipboard.writeText(e.lat+", "+e.lng),n.pop("success","","Coordenadas copiadas")}catch(e){n.pop("error","","No se logró copiar")}},i.fetchIndications=function(){i.fetchingIndications=!0;var e=t({method:"get",url:o.api+"/api/indications/list",params:{zoneId:i.zone.zoneId}});e.then(function(e){e.data.error?n.pop("error","",e.data.message):i.indications=e.data.indications}),e.finally(function(){i.fetchingIndications=!1})},i.openIndicationModal=function(e){var t=i.$new();null==e?(t.createMode=!0,t.indication={zone:i.zone}):t.indication=angular.copy(e),r.open({templateUrl:"views/indicationModal.html",controller:"indicationModalController",scope:t,backdrop:"static",size:"m"}).result.then(function(e){i.fetchIndications()},function(){})},i.openUploadIndicationPhotoModal=function(e){var t=i.$new();t.indication=angular.copy(e),r.open({templateUrl:"views/uploadIndicationPhotoModal.html",controller:"uploadIndicationPhotoModalController",scope:t,backdrop:"static",size:"m"}).result.then(function(e){i.fetchIndications()},function(){})},i.deleteIndicationPhoto=function(e){i.deletingIndicationPhoto=!0;e=t({method:"get",url:o.api+"/api/indications/deletePhoto",params:{indicationId:e.indicationId}});e.then(function(e){e.data.error?n.pop("error","",e.data.message):(n.pop("success","","Foto eliminada"),i.fetchIndications())}),e.finally(function(){i.deletingIndicationPhoto=!1})},i.deleteIndication=function(e){i.deletingIndication=!0;e=t({method:"get",url:o.api+"/api/indications/delete",params:{indicationId:e.indicationId}});e.then(function(e){e.data.error?n.pop("error","",e.data.message):(n.pop("success","","Indicación eliminada"),i.fetchIndications())}),e.finally(function(){i.deletingIndication=!1})},i.fetchIndications(),i.cancel=function(){e.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("loggedUsersController",["$scope","$http","$routeParams","$uibModal","toaster","constants","uibPaginationConfig","sharedData","$filter",function(t,n,e,i,o,r,a,s,l){t.selectedLoggedUsers=[],t.loggedUsers=[],t.loggedUsersGrid={rowData:t.loggedUsers,columnDefs:[{field:"user.userId",headerName:"id",cellClass:"align-right",width:50},{field:"user.email",headerName:"user",width:200},{field:"loginDate",headerName:"login",cellClass:"align-right",valueGetter:function(e){return l("date")(e.data.loginDate,"yyyy-MM-dd HH:mm",null)},width:150},{field:"lastRequest",headerName:"last req",cellClass:"align-right",valueGetter:function(e){return l("date")(e.data.lastRequest,"yyyy-MM-dd HH:mm",null)},width:150},{field:"duration",headerName:"duration",valueGetter:function(e){if(null==e.data)return"0m";e=new Date(e.data.lastRequest).getTime()-new Date(e.data.loginDate).getTime();return Math.ceil(e/6e4)},cellRenderer:function(e){return e.value<60?e.value+"m":e.value<1440?Math.round(e.value/60)+"h":Math.round(e.value/60/24)+"d"},cellClass:"align-right",width:100},{field:"idle",headerName:"idle",valueGetter:function(e){if(null==e.data)return"0m";e=(new Date).getTime()-new Date(Date.parse(e.data.lastRequest)).getTime();return Math.ceil(e/6e4)},cellRenderer:function(e){return e.value<60?e.value+"m":e.value<1440?Math.round(e.value/60)+"h":Math.round(e.value/60/24)+"d"},cellClass:function(e){return 60<e.value?"danger-grid-cell align-right":"align-right"},width:100},{field:"browser",headerName:"browser",width:150},{field:"ipAddress",headerName:"IP addr",width:100},{field:"clientApp",headerName:"app",width:66},{field:"clientAppBuild",headerName:"build",width:60},{field:"lastView",headerName:"last view",width:150},{field:"lastAction",headerName:"last action",width:150}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,localeText:s.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),t.selectedLoggedUsers=e.api.getSelectedRows(),t.selectedLoggedUsers.length)}},t.fetchLoggedUsers=function(){t.fetchingLoggedUsers=!0;var e=n({method:"get",url:r.api+"/api/loggedUsers/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(t.loggedUsers=e.data.loggedUsers,t.loggedUsersGrid.api.setRowData(t.loggedUsers))}),e.finally(function(){t.fetchingLoggedUsers=!1})},t.clear=function(){t.clearing=!0;var e=n({method:"get",url:r.api+"/api/loggedUsers/clear",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):t.fetchLoggedUsers()}),e.finally(function(){t.clearing=!1})},t.toggleGridToolPanel=function(e){t[e].api.showToolPanel(!t[e].api.isToolPanelShowing())},t.resetColumns=function(e){t[e].columnApi.resetState()},t.fetchLoggedUsers()}]),angular.module("bouldermapApp").controller("loginController",["$scope","$http","$uibModal","toaster","constants","$cookies","$location","currentUser","currentInttraUser","$filter","sharedData",function(t,n,i,o,r,a,e,s,l,c,u){t.constants=r,t.currentUser=s,t.email="",t.password="",t.selectedLogs=[],t.logs=[],t.passwordKeypress=function(e){13===e.which&&t.login()},t.login=function(){t.authenticating=!0;var e=n({method:"get",url:r.api+"/api/users/login",params:{email:t.email,password:t.password},data:{}});e.then(function(e){console.log(e),e.data.error?o.pop("error","",e.data.message):(o.pop("success","",c("translate")("Logged in succesfully")),s.isLogged=!0,s.user=e.data.user,s.user.privileges=e.data.privileges,a.put("sessionId",e.data.sessionId),a.remove("currentInttraUser"),l.isLogged=!1,l.inttraUser={},null!=t.uibModalInstance&&t.uibModalInstance.close())}),e.finally(function(){t.authenticating=!1})},t.openForgotPasswordModal=function(){var e=t.$new();e.email=t.email,i.open({templateUrl:"views/forgotPasswordModal.html",controller:"forgotPasswordController",scope:e,size:"sm"}).result.then(function(){},function(){})},s.isLogged}]),angular.module("bouldermapApp").controller("logModalController",["$scope","$http","$uibModalInstance","toaster","constants","$window",function(t,n,e,i,o,r){var a=r.jsondiffpatch;a.create({objectHash:function(e){return void 0!==e._id||void 0!==e.id?e._id:void 0!==e.name?e.name:JSON.stringify(e)},arrays:{detectMove:!0,includeValueOnMove:!1},textDiff:{minLength:60}});t.fetchLog=function(){t.fetchingLog=!0;var e=n({method:"get",url:o.api+"/api/logs/details",params:{logId:t.log.logId},data:{}});e.then(function(e){e.data.error?i.pop("error","",e.message):(t.log.before=e.data.log.before,t.log.after=e.data.log.after,t.before=JSON.parse(t.log.before),t.after=JSON.parse(t.log.after),t.delta=a.diff(t.before,t.after),t.beautifulHtml=a.formatters.html.format(t.delta,t.before))}),e.finally(function(){t.fetchingLog=!1})},t.fetchLog(),t.cancel=function(){e.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("logsController",["$scope","$http","$routeParams","$uibModal","toaster","constants","uibPaginationConfig","sharedData","$filter",function(n,t,e,i,o,r,a,s,l){n.actions=[{id:null,text:""},{id:0,text:"Crear"},{id:1,text:"Editar"},{id:2,text:"Eliminar"},{id:3,text:"Upload"},{id:4,text:"Login"}],n.pagination={count:0,page:1,pageSize:100},n.filters={action:null,startDate:new Date((new Date).getFullYear(),(new Date).getMonth(),1),endDate:new Date},n.datePickerIsOpen={startDate:!1,endDate:!1},n.datePickerOptions={formatYear:"yyyy",startingDay:1,showWeeks:"false"},n.users=[],n.entitiesTypes=[],n.selectedLogs=[],n.logs=[],n.logsGrid={rowData:n.logs,columnDefs:[{field:"logId",headerName:"id",cellClass:"align-right",width:50,hide:!0},{field:"date",headerName:"fecha/hora",filter:"text",cellClass:"align-right",valueGetter:function(e){return l("date")(e.data.date,"yyyy-MM-dd HH:mm",null)},width:97},{field:"userEmail",headerName:"user",cellClass:"align-left",width:150},{field:"url",headerName:"url",width:200},{field:"actionAsString",headerName:"acción",width:100},{field:"entityTypeAsString",headerName:"tipo entidad",width:100},{field:"booking.bookingId",headerName:"reserva #",width:100},{field:"message",headerName:"message",width:460},{field:"parameters",headerName:"parameters",width:200}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!1,enableFilter:!1,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressGroups:!0,toolPanelSuppressValues:!0,localeText:s.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),n.selectedLogs=e.api.getSelectedRows(),n.selectedLogs.length)}},n.fetchEntitiesTypes=function(){n.fetchingEntitiesTypes=!0;var e=t({method:"get",url:r.api+"/api/entitiesTypes/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):n.entitiesTypes=e.data.entitiesTypes}),e.finally(function(){n.fetchingEntitiesTypes=!1})},n.fetchUsers=function(){n.fetchingUsers=!0;var e=t({method:"get",url:r.api+"/api/users/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):n.users=e.data.users}),e.finally(function(){n.fetchingUsers=!1})},n.fetchLogs=function(){n.fetchingLogs=!0;var e=t({method:"get",url:r.api+"/api/logs/list",params:{message:n.filters.message,userId:null==n.filters.user?null:n.filters.user.userId,startDateMillis:null==n.filters.startDate?null:n.filters.startDate.getTime(),endDateMillis:null==n.filters.endDate?null:n.filters.endDate.getTime(),actionId:n.filters.action,entityType:null==n.filters.entityType?null:n.filters.entityType.id,page:n.pagination.page,pageSize:n.pagination.pageSize},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.logs.length=0,n.selectedLogs.length=0,n.logs=e.data.logs,n.logsGrid.api.setRowData(n.logs),n.pagination=e.data.pagination)}),e.finally(function(){n.fetchingLogs=!1})},n.openLogModal=function(e){var t=n.$new();t.log=n.selectedLogs[0],i.open({templateUrl:"views/logModal.html",controller:"logModalController",scope:t,size:"lg"}).result.then(function(e){},function(){})},n.fetchUsers(),n.fetchEntitiesTypes(),n.fetchLogs()}]),angular.module("bouldermapApp").controller("mailModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal",function(t,n,i,o,r,e){t.constants=r,t.smtps=[],t.selectedSmtp={},t.mail={subject:"",to:"",body:"Estimados,\n\nAdjunto información de la reserva #"+t.booking.bookingId},null!=t.booking.bookingCode?t.mail.subject="Modificaciones: "+t.booking.bookingCode+" // "+t.booking.vessel.name+" - "+t.booking.voyageNumber+" // "+t.booking.arrivalPort.name+" // "+t.booking.carrier.name+" // "+t.booking.exporter.name+" [#"+t.booking.bookingId+"]":t.mail.subject="Modificaciones: "+t.booking.vessel.name+" - "+t.booking.voyageNumber+" // "+t.booking.arrivalPort.name+" // "+t.booking.carrier.name+" // "+t.booking.exporter.name+" [#"+t.booking.bookingId+"]",t.settings={includeHtml:!0,includePdf:!0,logsCount:3},t.send=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/bookingsMails/send",params:{bookingId:t.booking.bookingId,smtpId:null==t.selectedSmtp.selected?null:t.selectedSmtp.selected.smtpId,subject:t.mail.subject,body:t.mail.body,to:t.mail.to,logsCount:t.settings.logsCount},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(),o.pop("success","","Enviado"))}),e.finally(function(){t.working=!1})},t.fetchSmtps=function(){t.fetchingSmtps=!0;var e=n({method:"get",url:r.api+"/api/smtps/list",params:{enabled:!0},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(t.smtps=e.data.smtps,t.selectedSmtp.selected=t.smtps[0])}),e.finally(function(){t.fetchingSmtps=!1})},t.fetchContacts=function(){t.fetchingContacts=!0;var e=n({method:"get",url:r.api+"/api/contacts/list",params:{bookingId:t.booking.bookingId},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):t.mail.to=e.data.contacts.map(function(e){return e.email}).join(", ")}),e.finally(function(){t.fetchingContacts=!1})},t.fetchSmtps(),t.fetchContacts(),t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("pinModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","$timeout",function(i,t,e,n,o,r,a,s){i.stones=[],i.indications=[],s(function(){new google.maps.Map(document.getElementById("zoneMap"),{center:{lat:i.zone.lat,lng:i.zone.lng},zoom:15,mapTypeId:google.maps.MapTypeId.SATELLITE,zoomControl:!0,tilt:0,mapId:"65cad96ebad629b0772bf0f1"});i.selectedZones[0].polygons.forEach(function(e){new google.maps.Polygon({map:zoneMap,path:e.points,strokeColor:"#FF0000",strokeOpacity:.5,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.1})}),i.fetchStones(),i.fetchIndications()},300),i.fetchIndications=function(){i.fetchingIndications=!0;var e=t({method:"get",url:o.api+"/api/indications/list",params:{zoneId:i.zone.zoneId},data:{}});e.then(function(e){e.data.error?n.pop("error","",e.data.message):(i.indications=e.data.indications,i.createIndicationsMarkers())}),e.finally(function(){i.fetchingStones=!1})},i.fetchStones=function(){i.fetchingStones=!0;var e=t({method:"get",url:o.api+"/api/stones/list",params:{zoneId:i.zone.zoneId},data:{}});e.then(function(e){e.data.error?n.pop("error","",e.data.message):(i.stones=e.data.stones,i.createStonesMarkers())}),e.finally(function(){i.fetchingStones=!1})},i.createStonesMarkers=function(){for(var e=0;e<i.stones.length;e++){var t=new google.maps.marker.PinElement({});const n=new google.maps.marker.AdvancedMarkerElement({map:zoneMap,position:{lat:i.stones[e].lat,lng:i.stones[e].lng},gmpClickable:!0,title:i.stones[e].name,content:t.element});n.stone=i.stones[e],n.addEventListener("gmp-click",e=>{i.openStoneDetailsModal(n.stone)})}},i.createIndicationsMarkers=function(){for(var e=0;e<i.indications.length;e++){var t=new google.maps.marker.PinElement({background:"#ffd400",glyph:"i",glyphColor:"black"});const n=new google.maps.marker.AdvancedMarkerElement({map:zoneMap,position:{lat:i.indications[e].lat,lng:i.indications[e].lng},gmpClickable:!0,title:i.indications[e].name,content:t.element});n.indication=i.indications[e],n.addEventListener("gmp-click",e=>{i.openIndicationDetailsModal()})}},i.cancel=function(){e.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("menusController",["$scope","$http","$routeParams","$uibModal","toaster","constants","sharedData","$filter",function(n,t,e,i,o,r,a,s){n.selectedMenus=[],n.menus=[],n.menusGrid={rowData:n.menus,columnDefs:[{field:"menuId",headerName:"id",cellClass:"align-right",width:50},{field:"code",headerName:"código",width:100}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,localeText:a.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),n.selectedMenus=e.api.getSelectedRows(),n.selectedMenus.length)}},n.fetchMenus=function(){n.fetchingMenus=!0;var e=t({method:"get",url:r.api+"/api/menus/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.menus.length=0,n.menus=e.data.menus,n.menusGrid.api.setRowData(n.menus))}),e.finally(function(){n.fetchingMenus=!1})},n.openMenuModal=function(e){var t=n.$new();t.createMode=e,t.menu=e?{menuType:0}:angular.copy(n.selectedMenus[0]),i.open({templateUrl:"views/menuModal.html",controller:"menuModalController",scope:t}).result.then(function(e){n.fetchMenus()},function(){})},n.deleteSelectedMenu=function(){n.deletingMenu=!0;var e=t({method:"get",url:r.api+"/api/menus/delete",params:{menuId:n.selectedMenus[0].menuId},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.fetchMenus(),o.pop("success","","Menu eliminado"))}),e.finally(function(){n.deletingMenu=!1})},n.fetchMenus()}]),angular.module("bouldermapApp").controller("newDrawingModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","$timeout","currentUser",function(t,n,i,o,r,a,e,s,l){t.currentUser=l,t.stonesPhotos=[],t.hasPrivilege=function(e,t){if(0==l.isLogged)return!1;for(var n=0;n<l.user.privileges.length;n++)if(l.user.privileges[n].entityAsString==e)return l.user.privileges[n][t];return!1},t.createDrawing=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/drawings/create",params:{problemId:t.drawing.problem.problemId,stonePhotoId:null==t.drawing.stonePhoto?null:t.drawing.stonePhoto.stonePhotoId},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.drawing),o.pop("success","","Dibujo guardado"))}),e.finally(function(){t.working=!1})},t.fetchStonesPhotos=function(){var e;null!=t.problem.stone&&(t.fetchingStonesPhotos=!0,(e=n({method:"get",url:r.api+"/api/stonesPhotos/list",params:{stoneId:t.drawing.problem.stone.stoneId},data:{}})).then(function(e){e.data.error?o.pop("error","",e.data.message):(t.stonesPhotos=e.data.stonesPhotos,1==t.stonesPhotos.length&&(t.drawing.stonePhoto=t.stonesPhotos[0]))}),e.finally(function(){t.fetchingStonesPhotos=!1}))},t.openCreateStonePhotoModal=function(){var e=t.$new();e.stonePhoto={stone:t.drawing.problem.stone},a.open({templateUrl:"views/createStonePhotoModal.html",controller:"createStonePhotoModalController",scope:e,backdrop:"static",size:"m"}).result.then(function(e){t.fetchStonesPhotos()},function(){})},t.fetchStonesPhotos(),t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("newVersionModalController",["$scope","$http","$uibModalInstance","toaster","$window","versions",function(e,t,n,i,o,r){e.currentBuild=r.versions[r.versions.length-1].build,e.refreshBrowser=function(){e.working=!0,location.reload(!0)}}]),angular.module("bouldermapApp").controller("observableModalController",["$scope","$http","$uibModalInstance","toaster","constants","headerConstants","sharedData",function(n,i,e,o,r,t,a){n.filters={},n.selectedExporter={},n.selectedConsignee={},n.selectedInttraUser={},n.exporters=[],n.consignees=[],n.inttraUsers=[],n.userExporters=[],n.userConsignees=[],n.userInttraUsers=[],n.onExporterSelected=function(e,t){n.working=!0;e=i({method:"get",url:r.api+"/api/users/addExporter",params:{exporterId:e.exporterId,userId:n.user.userId},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.fetchUserExporters(),n.selectedExporter.selected=void 0)}),e.finally(function(){n.working=!1})},n.onConsigneeSelected=function(e,t){n.working=!0;e=i({method:"get",url:r.api+"/api/users/addConsignee",params:{consigneeId:e.consigneeId,userId:n.user.userId},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.fetchUserConsignees(),n.selectedConsignee.selected=void 0)}),e.finally(function(){n.working=!1})},n.onInttraUserSelected=function(e,t){n.working=!0;e=i({method:"get",url:r.api+"/api/users/addInttraUser",params:{inttraUserId:e.inttraUserId,userId:n.user.userId},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.fetchUserInttraUsers(),n.selectedInttraUser.selected=void 0)}),e.finally(function(){n.working=!1})},n.fetchUserExporters=function(){n.fetchingUserExporters=!0;var e=i({method:"get",url:r.api+"/api/exporters/list",params:{userId:n.user.userId},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):n.userExporters=e.data.exporters}),e.finally(function(){n.fetchingUserExporters=!1})},n.fetchUserConsignees=function(){n.fetchingUserConsignees=!0;var e=i({method:"get",url:r.api+"/api/consignees/list",params:{userId:n.user.userId},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):n.userConsignees=e.data.consignees}),e.finally(function(){n.fetchingUserConsignees=!1})},n.fetchUserInttraUsers=function(){n.fetchingUserInttraUsers=!0;var e=i({method:"get",url:r.api+"/api/inttraUsers/list",params:{userId:n.user.userId},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):n.userInttraUsers=e.data.inttraUsers}),e.finally(function(){n.fetchingUserInttraUsers=!1})},n.fetchExporters=function(){n.fetchingExporters=!0;var e=i({method:"get",url:r.api+"/api/exporters/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):n.exporters=e.data.exporters}),e.finally(function(){n.fetchingExporters=!1})},n.fetchConsignees=function(){n.fetchingConsignees=!0;var e=i({method:"get",url:r.api+"/api/consignees/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):n.consignees=e.data.consignees}),e.finally(function(){n.fetchingConsignees=!1})},n.fetchInttraUsers=function(){n.fetchingInttraUsers=!0;var e=i({method:"get",url:r.api+"/api/inttraUsers/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):n.inttraUsers=e.data.inttraUsers}),e.finally(function(){n.fetchingInttraUsers=!1})},n.removeUserExporter=function(e){n.working=!0;e=i({method:"get",url:r.api+"/api/users/removeExporter",params:{userId:n.user.userId,exporterId:e},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):n.fetchUserExporters()}),e.finally(function(){n.working=!1})},n.removeUserConsignee=function(e){n.working=!0;e=i({method:"get",url:r.api+"/api/users/removeConsignee",params:{userId:n.user.userId,consigneeId:e},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):n.fetchUserConsignees()}),e.finally(function(){n.working=!1})},n.removeUserInttraUser=function(e){n.working=!0;e=i({method:"get",url:r.api+"/api/users/removeInttraUser",params:{userId:n.user.userId,inttraUserId:e},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):n.fetchUserInttraUsers()}),e.finally(function(){n.working=!1})},n.cancel=function(){e.dismiss("cancel")},n.fetchUserExporters(),n.fetchUserConsignees(),n.fetchUserInttraUsers(),n.fetchExporters(),n.fetchConsignees(),n.fetchInttraUsers()}]),angular.module("bouldermapApp").controller("pinModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","$timeout",function(n,e,t,i,o,r,a,s){n.marker=null,s(function(){var t=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(n.initialSettings.centerLat,n.initialSettings.centerLng),zoom:n.initialSettings.zoom,mapTypeId:google.maps.MapTypeId.HYBRID,scaleControl:!0,zoomControl:!0,tilt:0});null!=n.initialSettings.markerPosition&&(n.marker=new google.maps.Marker({map:t,position:n.initialSettings.markerPosition,draggable:!0}),n.$apply()),google.maps.event.addListener(t,"click",function(e){null==n.marker?(n.marker=new google.maps.Marker({map:t,position:e.latLng,draggable:!0}),n.$apply()):n.marker.setPosition(e.latLng)})},300),n.acceptMarker=function(){t.close({lat:n.marker.getPosition().lat(),lng:n.marker.getPosition().lng()})},n.cancel=function(){t.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("polygonModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(e,t,n,i,o,r,a){e.createOrEdit=function(){""==e.polygon.name?i.pop("error","","Especifica un nombre"):n.close(e.polygon.name)},e.cancel=function(){n.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("polygonsModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","$timeout",function(a,i,e,o,r,t,n,s){a.newPolygon={name:"",points:[],polyline:null},a.openPolygonModal=function(n){var e=a.$new();e.createMode=!1,e.polygon=angular.copy(n),t.open({templateUrl:"views/polygonModal.html",controller:"polygonModalController",scope:e,backdrop:"static",size:"sm"}).result.then(function(t){a.working=!0;var e=i({method:"get",url:r.api+"/api/polygons/edit",params:{polygonId:n.polygonId,name:t}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.name=t,o.pop("success","","Poligono guardado"))}),e.finally(function(){a.working=!1})},function(){})},a.preparingNewPolygon=!1,a.prepareNewPolygon=function(){var e=a.$new();e.createMode=!0,e.polygon={name:""},t.open({templateUrl:"views/polygonModal.html",controller:"polygonModalController",scope:e,backdrop:"static",size:"sm"}).result.then(function(e){a.newPolygon.name=e,a.preparingNewPolygon=!0},function(){})},s(function(){var o=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(a.zone.lat,a.zone.lng),zoom:15,mapTypeId:google.maps.MapTypeId.SATELLITE,zoomControl:!0,tilt:0}),r=(a.zone.polygons.forEach(function(e){new google.maps.Polygon({map:o,path:e.points,strokeColor:"#FF0000",strokeOpacity:.5,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.1})}),a.newPolygon.polyline=new google.maps.Polyline({map:o,path:[],strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2}),[]);google.maps.event.addListener(o,"click",function(e){var t,n,i;0!=a.preparingNewPolygon&&(n=0==(t=a.newPolygon.polyline.getPath().length)?!0:!1,i=new google.maps.Marker({map:o,position:e.latLng,draggable:!0}),r.push(i),n&&google.maps.event.addListener(i,"click",function(){if(0!=a.preparingNewPolygon){var e=a.newPolygon.polyline.getPath();a.newPolygon.polyline.setMap(null),a.newPolygon.polygon=new google.maps.Polygon({map:o,path:e,strokeColor:"#FF0000",strokeOpacity:.5,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.1});for(var t=0;t<r.length;t++)r[t].setMap(null);a.preparingNewPolygon=!1,a.$apply(),a.createNewPolygon()}}),google.maps.event.addListener(i,"drag",function(e){a.newPolygon.polyline.getPath().setAt(t,e.latLng)}),a.newPolygon.polyline.getPath().push(e.latLng))})},300),a.createNewPolygon=function(){for(var e=[],t=0;t<a.newPolygon.polygon.getPath().length;t++)e.push({lat:a.newPolygon.polygon.getPath().getAt(t).lat(),lng:a.newPolygon.polygon.getPath().getAt(t).lng()});e.push(e[0]),a.working=!0;var n=i({method:"post",url:r.api+"/api/polygons/create",params:{zoneId:a.zone.zoneId,name:a.newPolygon.name},data:JSON.stringify({points:e}),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}});n.then(function(e){e.data.error?o.pop("error","",e.data.message):(a.zone.polygons.push(e.data.polygon),o.pop("success","","Nuevo poligono guardado"))}),n.finally(function(){a.working=!1})},a.cancel=function(){e.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("privilegesModalController",["$scope","$http","$uibModalInstance","toaster","constants","$window",function(o,t,n,i,r,a){o.privileges=[],o.filter={},o.selectAllRead=function(e){for(var t=0;t<o.privileges.length;t++)o.privileges[t].read=e},o.selectAllWrite=function(e){for(var t=0;t<o.privileges.length;t++)o.privileges[t].write=e},o.selectAllDelete=function(e){for(var t=0;t<o.privileges.length;t++)o.privileges[t].delete=e},o.setPrivilege=function(e,t,n){for(var i=0;i<o.privileges.length;i++)o.privileges[i].entityAsString==e&&(o.privileges[i][t]=n)},o.useProfile=function(e){o.selectAllRead(!1),o.selectAllWrite(!1),o.selectAllDelete(!1),"exporter"==e&&(o.setPrivilege("Exporters","read",!0),o.setPrivilege("Voyages","read",!0),o.setPrivilege("VoyagesDeparturePorts","read",!0),o.setPrivilege("VoyagesArrivalPorts","read",!0),o.setPrivilege("CutoffDates","read",!0),o.setPrivilege("Carriers","read",!0),o.setPrivilege("Services","read",!0),o.setPrivilege("ServicesArrivalPorts","read",!0),o.setPrivilege("Vessels","read",!0),o.setPrivilege("Bookings","read",!0),o.setPrivilege("BookingsDrafts","read",!0),o.setPrivilege("BookingsDrafts","write",!0),o.setPrivilege("BookingsDrafts","delete",!0),o.setPrivilege("Containers","read",!0),o.setPrivilege("Seasons","read",!0),o.setPrivilege("Atmospheres","read",!0),o.setPrivilege("ColdTreatments","read",!0),o.setPrivilege("Consignees","read",!0),o.setPrivilege("Customs","read",!0),o.setPrivilege("TransitTimes","read",!0),o.setPrivilege("Species","read",!0),o.setPrivilege("Markets","read",!0),o.setPrivilege("Countries","read",!0),o.setPrivilege("Ports","read",!0),o.setPrivilege("Terminals","read",!0),o.setPrivilege("Deposits","read",!0),o.setPrivilege("UnitTypes","read",!0),o.setPrivilege("Logs","read",!0))},o.export=function(){var e="User = "+o.user.email+"\n\n";e+="Read\tWrite\tDelete\tEntidad\n";for(var t=0;t<o.privileges.length;t++)(o.privileges[t].read||o.privileges[t].write||o.privileges[t].delete)&&(e=e+(o.privileges[t].read?"✓":" ")+"\t"+(o.privileges[t].write?"✓":" ")+"\t"+(o.privileges[t].delete?"✓":" ")+"\t"+o.privileges[t].entityAsString+"\n");var n=new Blob([e],{type:"text/plain;charset=utf-8"}),n=URL.createObjectURL(n);a.open(n,"_blank")},o.save=function(){o.working=!0;var e=t({method:"post",url:r.api+"/api/userPrivileges/edit",params:{userId:o.user.userId},data:JSON.stringify(_.map(_.filter(o.privileges,function(e){return e.read||e.write||e.delete}),function(e){return e})),transformRequest:angular.identity,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):n.close()}),e.finally(function(){o.working=!1})},o.fetchPrivileges=function(){o.fetchingPrivileges=!0;var e=t({method:"get",url:r.api+"/api/userPrivileges/list",params:{userId:o.user.userId},data:{}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):o.privileges=e.data.privileges}),e.finally(function(){o.fetchingPrivileges=!1})},o.cancel=function(){n.dismiss("cancel")},o.fetchPrivileges()}]),angular.module("bouldermapApp").controller("problemController",["$scope","$http","$routeParams","$uibModal","toaster","constants","currentUser","$timeout","$location",function(i,t,e,n,o,r,a,s,l){i.drawings=[],i.copyCoordinates=function(){try{navigator.clipboard.writeText(i.problem.stone.lat+", "+i.problem.stone.lng),o.pop("success","","Coordenadas copiadas")}catch(e){o.pop("error","","No se logró copiar")}},i.fetchProblem=function(){i.fetchingProblem=!0;var e=t({method:"get",url:r.api+"/api/problems/details",params:{problemId:l.search().problemId}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.problem=e.data.problem,null!=(e=document.getElementById("drawing-0"))&&(e.src=""),null!=(e=document.getElementById("canvas-0"))&&e.getContext("2d").clearRect(0,0,e.width,e.height),i.fetchDrawings())}),e.finally(function(){i.fetchingProblem=!1})},i.fetchDrawings=function(){i.fetchingDrawings=!0;var e=t({method:"get",url:r.api+"/api/drawings/list",params:{problemId:i.problem.problemId}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.drawings=e.data.drawings,s(function(){i.loadPhoto(i.drawings[0])},300))}),e.finally(function(){i.fetchingDrawings=!1})},i.loadPhoto=function(t){var n=document.getElementById("drawing-0");n.onload=function(){var e=document.getElementById("canvas-0");e.width=n.width,e.height=n.height,i.draw(t)},t.stonePhoto.photoURL1=t.stonePhoto.photoURL},i.draw=function(e){var t,n,i=document.getElementById("canvas-0"),o=i.getContext("2d");o.clearRect(0,0,i.width,i.height),0!=e.polylinePoints.length&&(t=[],n=[],e.polylinePoints.forEach(function(e){t.push({index:e.index,x:e.x*i.width,y:e.y*i.height})}),e.circles.forEach(function(e){n.push({radius:e.radius,x:e.x*i.width,y:e.y*i.height})}),o.shadowColor="rgba(0, 0, 0, 0.95)",o.shadowBlur=3,o.shadowOffsetX=2,o.shadowOffsetY=2,o.lineWidth=3,o.strokeStyle="red",o.lineCap="round",1<t.length&&(o.beginPath(),o.moveTo(t[0].x,t[0].y),t.forEach(function(e,t){0!=t&&o.lineTo(e.x,e.y)}),o.stroke(),o.closePath()),n.forEach(function(e){o.beginPath(),o.arc(e.x,e.y,e.radius,0,2*Math.PI),o.strokeStyle="red",o.lineWidth=3,o.stroke(),o.closePath()}))},i.openProblemVideosModal=function(){var e=i.$new();e.problem=i.problem,n.open({templateUrl:"views/problemVideosModal.html",controller:"problemVideosModalController",scope:e,backdrop:"static",size:"lg"}).result.then(function(e){},function(){})},i.openStoneDetailsModal=function(){var e=i.$new();e.stone=i.problem.stone,n.open({templateUrl:"views/stoneDetailsModal.html",controller:"stoneDetailsModalController",scope:e,backdrop:"static",size:"xl"}).result.then(function(e){},function(){})},i.fetchProblem()}]),angular.module("bouldermapApp").controller("problemDrawingsModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","$timeout","currentUser",function(i,t,e,n,o,r,a,s,l){i.currentUser=l,i.drawings=[],i.hasPrivilege=function(e,t){if(0==l.isLogged)return!1;for(var n=0;n<l.user.privileges.length;n++)if(l.user.privileges[n].entityAsString==e)return l.user.privileges[n][t];return!1},i.openNewDrawingModal=function(){var e=i.$new(),t=(e.drawing={problem:i.problem,stonePhoto:null},r.open({templateUrl:"views/newDrawingModal.html",controller:"newDrawingModalController",scope:e,size:"m"}));(e.uibModalInstance=t).result.then(function(e){i.fetchDrawings()},function(){})},i.openDrawingModal=function(e){var t=i.$new(),e=(t.drawing=e,r.open({templateUrl:"views/drawingModal.html",controller:"drawingModalController",scope:t,backdrop:"static",size:"xl"}));(t.uibModalInstance=e).result.then(function(){i.fetchDrawings()},function(){})},i.fetchDrawings=function(){i.fetchingDrawings=!0;var e=t({method:"get",url:o.api+"/api/drawings/list",params:{problemId:i.problem.problemId}});e.then(function(e){e.data.error?n.pop("error","",e.data.message):(i.drawings=e.data.drawings,s(function(){i.drawings.forEach(function(e){i.loadPhoto(e)})},300))}),e.finally(function(){i.fetchingDrawings=!1})},i.loadPhoto=function(t){var n=document.getElementById("drawing-"+t.drawingId);n.onload=function(){var e=document.getElementById("canvas-"+t.drawingId);e.width=n.width,e.height=n.height,i.draw(t)},t.stonePhoto.photoURL1=t.stonePhoto.photoURL},i.draw=function(e){var t,n=document.getElementById("canvas-"+e.drawingId),i=n.getContext("2d");i.clearRect(0,0,n.width,n.height),0!=e.polylinePoints.length&&(t=[],e.polylinePoints.forEach(function(e){t.push({index:e.index,x:e.x*n.width,y:e.y*n.height})}),i.shadowColor="rgba(0, 0, 0, 0.95)",i.shadowBlur=3,i.shadowOffsetX=2,i.shadowOffsetY=2,i.lineWidth=3,i.strokeStyle="red",i.lineCap="round",i.beginPath(),i.moveTo(t[0].x,t[0].y),t.forEach(function(e,t){0!=t&&i.lineTo(e.x,e.y)}),i.stroke(),i.closePath())},i.fetchDrawings(),i.cancel=function(){e.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("problemModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(n,t,i,o,r,a,e){n.grades=[],n.drawings=[],n.createOrEdit=function(){n.working=!0;var e=t({method:"get",url:r.api+"/api/problems/createOrEdit",params:{problemId:n.problem.problemId,rioboId:n.problem.rioboId,stoneId:null==n.problem.stone?null:n.problem.stone.stoneId,name:n.problem.name,description:n.problem.description,gradeId:null==n.problem.grade?null:n.problem.grade.gradeId,firstAscent:n.problem.firstAscent}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.problem),o.pop("success","","Problema guardado"))}),e.finally(function(){n.working=!1})},n.openStonesModal=function(){var e=n.$new(),t=a.open({templateUrl:"views/stonesModal.html",controller:"stonesController",scope:e,backdrop:"static",size:"xxl"});(e.uibModalInstance=t).result.then(function(e){n.problem.stone=e},function(){})},n.openProblemDrawingsModal=function(){var e=n.$new(),t=(e.problem=n.problem,a.open({templateUrl:"views/problemDrawingsModal.html",controller:"problemDrawingsModalController",scope:e,backdrop:"static",size:"lg"}));(e.uibModalInstance=t).result.then(function(){},function(){})},n.fetchGrades=function(){n.fetchingGrades=!0;var e=t({method:"get",url:r.api+"/api/grades/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):n.grades=e.data.grades}),e.finally(function(){n.fetchingGrades=!1})},n.cancel=function(){i.dismiss("cancel")},n.fetchGrades()}]),angular.module("bouldermapApp").controller("problemsController",["$scope","$http","$routeParams","$uibModal","toaster","constants","$cookies","sharedData","$location","constructor","currentUser",function(o,t,e,r,a,n,i,s,l,c,u){o.currentUser=u,o.pagination={count:0,page:1,pageSize:100},o.hasVideosOptions=[{id:null,text:""},{id:!0,text:"Tiene videos"},{id:!1,text:"No tiene videos"}],o.orderByColumns=[{id:"ProblemId",text:"id"},{id:"Name",text:"Nombre"},{id:"Grade.GradeId",text:"Grado"},{id:"Videos.Count",text:"Videos"}],o.orderDescOptions=[{id:!0,text:"Descendiente"},{id:!1,text:"Ascendiente"}],o.sorting={orderBy:"Videos.Count",orderDesc:!0},o.filters={zone:null,stone:null,minGrade:null,maxGrade:null,hasVideos:null},o.onNameKeypress=function(e){13===e.keyCode&&o.fetchProblems()},l.search().hasVideos&&(o.filters.hasVideos="true"===l.search().hasVideos),l.search().minVGrade&&(o.filters.minGrade={vGrade:l.search().minVGrade}),l.search().maxVGrade&&(o.filters.maxGrade={vGrade:l.search().maxVGrade}),l.search().zoneId&&(o.filters.zone={zoneId:parseInt(l.search().zoneId)}),l.search().stoneId&&(o.filters.stone={stoneId:parseInt(l.search().stoneId)}),null!=c&&(null!=c.zone&&(o.filters.zone=c.zone),null!=c.stone&&(o.filters.stone=c.stone)),o.selectedProblems=[],o.problems=[],o.zones=[],o.grades=[],o.hasPrivilege=function(e,t){if(0==u.isLogged)return!1;for(var n=0;n<u.user.privileges.length;n++)if(u.user.privileges[n].entityAsString==e)return u.user.privileges[n][t];return!1},o.openStoneDetailsModal=function(e){var t=o.$new();t.stone=angular.copy(e),r.open({templateUrl:"views/stoneDetailsModal.html",controller:"stoneDetailsModalController",scope:t,backdrop:"static",size:"xl"}).result.then(function(e){},function(){})},o.openProblemDrawingsModal=function(e){var t=o.$new();t.problem=angular.copy(e),r.open({templateUrl:"views/problemDrawingsModal.html",controller:"problemDrawingsModalController",scope:t,backdrop:"static",size:"lg"}).result.then(function(e){},function(){})},o.problemsGrid={rowData:o.problems,columnDefs:[{field:"problemId",headerName:"id",cellClass:"align-right",width:50,hide:!0},{headerName:"sector",children:[{field:"stone.zone.name",headerName:"nombre",width:150},{field:"stone.zone.city.name",headerName:"ciudad",width:110}]},{headerName:"piedra",children:[{field:"stone.name",headerName:"nombre",width:200},{field:"stone.rioboId",headerName:"vega's",cellRenderer:function(e){return e.node.floating||null==e.value?null:"Bloque "+e.value},width:68},{field:"stone.lat",headerName:"lat",width:68},{field:"stone.lng",headerName:"lng",width:68}]},{headerName:"problema",children:[{field:"rioboId",headerName:"vega's",width:89},{field:"name",headerName:"nombre",width:200},{field:"description",headerName:"descripcion",width:200,hide:!0},{field:"grade.vGrade",headerName:"grado",cellRenderer:function(e){return e.node.floating?"":"<span class='color-bullet-span' style='background-color: "+e.data.grade.color+"'></span><span>"+e.value+"</span>"},width:100},{field:"videosCount",headerName:"videos",cellClass:"align-right",width:81}]}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!1,enableFilter:!1,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,toolPanelSuppressGroups:!0,localeText:s.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),o.selectedProblems=e.api.getSelectedRows(),o.selectedProblems.length)}},o.fetchProblems=function(i){o.fetchingProblems=!0;var e=t({method:"get",url:n.api+"/api/problems/list",params:{zoneId:null==o.filters.zone?null:o.filters.zone.zoneId,stoneId:null==o.filters.stone?null:o.filters.stone.stoneId,name:o.filters.name,minVGrade:null==o.filters.minGrade?null:o.filters.minGrade.vGrade,maxVGrade:null==o.filters.maxGrade?null:o.filters.maxGrade.vGrade,hasVideos:o.filters.hasVideos,page:o.pagination.page,pageSize:o.pagination.pageSize,orderBy:o.sorting.orderBy,orderDesc:o.sorting.orderDesc,output:i},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else{var t,n;if("xlsx"==i)return t=o.$new(),n=r.open({templateUrl:"views/tasksModal.html",controller:"tasksController",scope:t,size:"xl",resolve:{constructor:function(){return{taskId:e.data.taskId}}}}),void(t.uibModalInstance=n).result.then(function(e){},function(){});o.problems=e.data.problems,o.selectedProblems.length=0,o.problemsGrid.api.setRowData(o.problems),o.problemsGrid.api.setFloatingBottomRowData([e.data.bottomRow]),o.pagination=e.data.pagination}}),e.finally(function(){o.fetchingProblems=!1})},o.fetchSelectedProblem=function(){o.fetchingProblem=!0;var e=t({method:"get",url:n.api+"/api/problems/details",params:{problemId:o.selectedProblems[0].problemId},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(angular.extend(o.selectedProblems[0],e.data.problem),angular.extend(o.problemsGrid.api.getSelectedRows()[0],e.data.problem),o.problemsGrid.api.refreshView())}),e.finally(function(){o.fetchingProblem=!1})},o.fetchZones=function(){o.fetchingZones=!0;var e=t({method:"get",url:n.api+"/api/zones/list",params:{},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else if(o.zones=e.data.zones,l.search().zoneId)for(var t=0;t<o.zones.length;t++)if(o.zones[t].zoneId==parseInt(l.search().zoneId)){o.filters.zone=o.zones[t];break}}),e.finally(function(){o.fetchingZones=!1})},o.fetchStones=function(){var e;null!=o.filters.zone&&(o.fetchingStones=!0,(e=t({method:"get",url:n.api+"/api/stones/list",params:{zoneId:o.filters.zone.zoneId,page:1,pageSize:999},data:{}})).then(function(e){if(e.data.error)a.pop("error","",e.data.message);else if(o.stones=e.data.stones,l.search().stoneId)for(var t=0;t<o.stones.length;t++)if(o.stones[t].stoneId==parseInt(l.search().stoneId)){o.filters.stone=o.stones[t];break}}),e.finally(function(){o.fetchingStones=!1}))},o.fetchGrades=function(){o.fetchingGrades=!0;var e=t({method:"get",url:n.api+"/api/grades/list",params:{},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else{if(o.grades=e.data.grades,l.search().minVGrade)for(var t=0;t<o.grades.length;t++)if(o.grades[t].vGrade==l.search().minVGrade){o.filters.minGrade=o.grades[t];break}if(l.search().maxVGrade)for(t=0;t<o.grades.length;t++)if(o.grades[t].vGrade==l.search().maxVGrade){o.filters.maxGrade=o.grades[t];break}}}),e.finally(function(){o.fetchingGrades=!1})},o.openProblemModal=function(t){var e=o.$new();e.createMode=t,e.problem=t?{stone:null}:angular.copy(o.selectedProblems[0]),r.open({templateUrl:"views/problemModal.html",controller:"problemModalController",scope:e,backdrop:"static",size:"lg"}).result.then(function(e){t?o.fetchProblems():o.fetchSelectedProblem()},function(){})},o.openProblemVideosModal=function(){var e=o.$new();e.problem=o.selectedProblems[0],r.open({templateUrl:"views/problemVideosModal.html",controller:"problemVideosModalController",scope:e,backdrop:"static",size:"lg"}).result.then(function(e){o.fetchSelectedProblem()},function(){o.fetchSelectedProblem()})},o.toggleGridToolPanel=function(e){o[e].api.showToolPanel(!o[e].api.isToolPanelShowing())},o.resetColumns=function(e){o[e].columnApi.resetState()},o.fetchZones(),o.fetchStones(),o.fetchProblems(),o.fetchGrades(),o.acceptModalSelection=function(){o.uibModalInstance.close(o.selectedProblems[0])},o.cancel=function(){o.uibModalInstance.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("problemVideosModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","$timeout","currentUser","$location",function(i,t,e,n,o,r,a,s,l,c){i.currentUser=l,i.videos=[],i.filters={climberName:""},i.hasPrivilege=function(e,t){if(0==l.isLogged)return!1;for(var n=0;n<l.user.privileges.length;n++)if(l.user.privileges[n].entityAsString==e)return l.user.privileges[n][t];return!1},i.openNewVideoDiscussionModal=function(){var e=i.$new();e.createMode=!0,e.discussion={entityType:{id:13,name:"Problema"},zone:i.problem.stone.zone,stone:i.problem.stone,problem:i.problem,message:"Quiero agregar un video: "},r.open({templateUrl:"views/discussionModal.html",controller:"discussionModalController",scope:e,backdrop:"static",size:"m"}).result.then(function(e){c.path("/discussions")},function(){})},i.openVideoDiscussionModal=function(e,t){var n=i.$new();n.createMode=!0,n.discussion={entityType:{id:14,name:"Video"},zone:i.problem.stone.zone,stone:i.problem.stone,problem:i.problem,video:e,message:t},r.open({templateUrl:"views/discussionModal.html",controller:"discussionModalController",scope:n,backdrop:"static",size:"m"}).result.then(function(e){c.path("/discussions")},function(){})},i.openClimberStatsModal=function(e){var t=i.$new();t.climber={name:e},r.open({templateUrl:"views/climberStatsModal.html",controller:"climberStatsModalController",scope:t,size:"m"}).result.then(function(e){},function(){})},i.openVideoDetailsModal=function(e){var t=i.$new();t.video=angular.copy(e),r.open({templateUrl:"views/videoDetailsModal.html",controller:"videoDetailsModalController",scope:t,backdrop:"static",size:"lg"}).result.then(function(e){},function(){})},i.fetchVideos=function(){i.fetchingVideos=!0;var e=t({method:"get",url:o.api+"/api/videos/list",params:{problemId:i.problem.problemId}});e.then(function(e){e.data.error?n.pop("error","",e.data.message):i.videos=e.data.videos}),e.finally(function(){i.fetchingVideos=!1})},i.fetchClimbers=function(){i.fetchingClimbers=!0;var e=t({method:"get",url:o.api+"/api/videos/climbers",params:{problemId:i.problem.problemId}});e.then(function(e){e.data.error?n.pop("error","",e.data.message):i.climbers=e.data.climbers}),e.finally(function(){i.fetchingClimbers=!1})},i.openVideoModal=function(e){var t=i.$new();null==e?(t.createMode=!0,t.video={problem:i.problem}):t.video=angular.copy(e),r.open({templateUrl:"views/videoModal.html",controller:"videoModalController",scope:t,backdrop:"static",size:"m"}).result.then(function(e){i.fetchVideos()},function(){})},i.fetchVideos(),i.fetchClimbers(),i.cancel=function(){e.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("randomController",["$scope","$http","$routeParams","$uibModal","toaster","constants","currentUser","$timeout",function(i,t,e,n,o,r,a,s){i.results={count:0},i.drawings=[],i.copyCoordinates=function(){try{navigator.clipboard.writeText(i.problem.stone.lat+", "+i.problem.stone.lng),o.pop("success","","Coordenadas copiadas")}catch(e){o.pop("error","","No se logró copiar")}},i.fetchRandom=function(){i.fetchingRandom=!0;var e=t({method:"get",url:r.api+"/api/problems/random",params:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.results.count=e.data.count,i.problem=e.data.problem,null!=(e=document.getElementById("drawing-0"))&&(e.src=""),null!=(e=document.getElementById("canvas-0"))&&e.getContext("2d").clearRect(0,0,e.width,e.height),i.fetchDrawings())}),e.finally(function(){i.fetchingRandom=!1})},i.fetchDrawings=function(){i.fetchingDrawings=!0;var e=t({method:"get",url:r.api+"/api/drawings/list",params:{problemId:i.problem.problemId}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.drawings=e.data.drawings,s(function(){i.loadPhoto(i.drawings[0])},300))}),e.finally(function(){i.fetchingDrawings=!1})},i.loadPhoto=function(t){var n=document.getElementById("drawing-0");n.onload=function(){var e=document.getElementById("canvas-0");e.width=n.width,e.height=n.height,i.draw(t)},t.stonePhoto.photoURL1=t.stonePhoto.photoURL},i.draw=function(e){var t,n,i=document.getElementById("canvas-0"),o=i.getContext("2d");o.clearRect(0,0,i.width,i.height),0!=e.polylinePoints.length&&(t=[],n=[],e.polylinePoints.forEach(function(e){t.push({index:e.index,x:e.x*i.width,y:e.y*i.height})}),e.circles.forEach(function(e){n.push({radius:e.radius,x:e.x*i.width,y:e.y*i.height})}),o.shadowColor="rgba(0, 0, 0, 0.95)",o.shadowBlur=3,o.shadowOffsetX=2,o.shadowOffsetY=2,o.lineWidth=3,o.strokeStyle="red",o.lineCap="round",1<t.length&&(o.beginPath(),o.moveTo(t[0].x,t[0].y),t.forEach(function(e,t){0!=t&&o.lineTo(e.x,e.y)}),o.stroke(),o.closePath()),n.forEach(function(e){o.beginPath(),o.arc(e.x,e.y,e.radius,0,2*Math.PI),o.strokeStyle="red",o.lineWidth=3,o.stroke(),o.closePath()}))},i.openProblemVideosModal=function(){var e=i.$new();e.problem=i.problem,n.open({templateUrl:"views/problemVideosModal.html",controller:"problemVideosModalController",scope:e,backdrop:"static",size:"lg"}).result.then(function(e){},function(){})},i.openStoneDetailsModal=function(){var e=i.$new();e.stone=i.problem.stone,n.open({templateUrl:"views/stoneDetailsModal.html",controller:"stoneDetailsModalController",scope:e,backdrop:"static",size:"xl"}).result.then(function(e){},function(){})},i.fetchRandom()}]),angular.module("bouldermapApp").controller("replyModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$uibModalStack","$httpParamSerializer","$location",function(t,n,i,o,r,e,a,s,l){t.createOrEdit=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/replies/createOrEdit",params:{replyId:t.reply.replyId,discussionId:t.reply.discussion.discussionId,message:t.reply.message}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.reply),o.pop("success","","Respuesta guardada"))}),e.finally(function(){t.working=!1})},t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("smtpModalController",["$scope","$http","$uibModalInstance","toaster","constants",function(i,o,t,r,a){i.logoURL=a.api+"/Content/smtps/"+i.smtp.smtpId+".png",i.uploadLogo=function(){i.working=!0;for(var e=new FormData,t=0;t<document.getElementById("attachment-file").files.length;t++)e.append("file-"+t,document.getElementById("attachment-file").files[t]);var n=o({method:"post",url:a.api+"/api/smtps/uploadLogo",data:e,params:{smtpId:i.smtp.smtpId},transformRequest:angular.identity,headers:{"Content-Type":void 0}});n.then(function(e){e.data.error?r.pop("error","",e.data.message):(r.pop("success","","Archivo guardado"),i.logoURL=a.api+"/Content/smtps/"+i.smtp.smtpId+".png?decache="+Math.random())}),n.finally(function(){i.working=!1})},i.createOrEdit=function(){i.working=!0;var e=o({method:"get",url:a.api+"/api/smtps/createOrEdit",params:{smtpId:i.smtp.smtpId,host:i.smtp.host,port:i.smtp.port,email:i.smtp.email,username:i.smtp.username,password:i.smtp.password,ssl:i.smtp.ssl,isDefault:i.smtp.isDefault,footer:i.smtp.footer,enabled:i.smtp.enabled},data:{}});e.then(function(e){e.data.error?r.pop("error","",e.data.message):(t.close(e.data.smtp),null==i.smtp.smtpId?r.pop("success","","SMTP creado"):r.pop("success","","SMTP modificado"))}),e.finally(function(){i.working=!1})},i.cancel=function(){t.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("smtpsController",["$scope","$http","$routeParams","$uibModal","toaster","constants","sharedData",function(n,t,e,i,o,r,a){n.selectedSmtps=[],n.smtps=[],n.smtpsGrid={rowData:n.smtps,columnDefs:[{field:"smtpId",headerName:"id",cellClass:"align-right",width:50},{field:"host",headerName:"host",width:120},{field:"port",headerName:"puerto",width:80},{field:"ssl",headerName:"ssl",width:80},{field:"email",headerName:"email",width:130},{field:"username",headerName:"username",width:130},{field:"isDefault",headerName:"predeterminado sistema",cellClass:"align-center",cellRenderer:function(e){return e.value?"✓":""},width:160},{field:"footer",headerName:"footer",width:300},{field:"enabled",headerName:"habilitado",cellClass:"align-center",cellRenderer:function(e){return e.value?"✓":""},width:100}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,localeText:a.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),n.selectedSmtps=e.api.getSelectedRows(),n.selectedSmtps.length)}},n.fetchSmtps=function(){n.fetchingSmtps=!0;var e=t({method:"get",url:r.api+"/api/smtps/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.smtps.length=0,n.smtps=e.data.smtps,n.smtpsGrid.api.setRowData(n.smtps))}),e.finally(function(){n.fetchingSmtps=!1})},n.openSmtpModal=function(e){var t=n.$new();t.createMode=e,t.smtp=e?{host:"smtp.gmail.com",port:587,ssl:!0,isDefault:!1,enabled:!0}:angular.copy(n.selectedSmtps[0]),i.open({templateUrl:"views/smtpModal.html",controller:"smtpModalController",scope:t}).result.then(function(e){n.fetchSmtps()},function(){})},n.deleteSelectedSmtp=function(){n.deletingSmtp=!0;var e=t({method:"get",url:r.api+"/api/smtps/delete",params:{smtpId:n.selectedSmtps[0].smtpId},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.fetchSmtps(),o.pop("success","","Smtp eliminado"))}),e.finally(function(){n.deletingSmtp=!1})},n.fetchSmtps()}]),angular.module("bouldermapApp").controller("stoneDetailsModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","$timeout","currentUser",function(i,t,e,n,o,r,a,s,l){i.currentUser=l,i.problems=[],i.stonePhotos=[],i.sorting={field:"videosCount",desc:!0},i.copyCoordinates=function(){try{navigator.clipboard.writeText(i.stone.lat+", "+i.stone.lng),n.pop("success","","Coordenadas copiadas")}catch(e){n.pop("error","","No se logró copiar")}},i.hasPrivilege=function(e,t){if(0==l.isLogged)return!1;for(var n=0;n<l.user.privileges.length;n++)if(l.user.privileges[n].entityAsString==e)return l.user.privileges[n][t];return!1},i.highlightDrawing=function(e,t){var n=document.getElementById("canvas-"+e.stonePhotoId),i=n.getContext("2d"),o=[],r=[];t.polylinePoints.forEach(function(e){o.push({index:e.index,x:e.x*n.width,y:e.y*n.height})}),t.circles.forEach(function(e){r.push({radius:e.radius,x:e.x*n.width,y:e.y*n.height})}),i.shadowColor="rgba(0, 0, 0, 0.95)",i.shadowBlur=3,i.shadowOffsetX=2,i.shadowOffsetY=2,i.lineWidth=3,i.strokeStyle="yellow",i.lineCap="round",1<o.length&&(i.beginPath(),i.moveTo(o[0].x,o[0].y),o.forEach(function(e,t){0!=t&&i.lineTo(e.x,e.y)}),i.stroke(),i.closePath()),r.forEach(function(e){i.beginPath(),i.arc(e.x,e.y,e.radius,0,2*Math.PI),i.strokeStyle="yellow",i.lineWidth=3,i.stroke(),i.closePath()})},i.fetchProblems=function(){i.fetchingProblems=!0;var e=t({method:"get",url:o.api+"/api/problems/list",params:{stoneId:i.stone.stoneId}});e.then(function(e){e.data.error?n.pop("error","",e.data.message):i.problems=e.data.problems}),e.finally(function(){i.fetchingProblems=!1})},i.fetchStoneDetails=function(){i.fetchingStone=!0;var e=t({method:"get",url:o.api+"/api/stones/details",params:{stoneId:i.stone.stoneId}});e.then(function(e){e.data.error?n.pop("error","",e.data.message):(i.stonePhotos=e.data.stonePhotos,0==i.stonePhotos.length?i.activeTab=1:(i.activeTab=0,s(function(){i.stonePhotos.forEach(function(e){i.loadPhoto(e)})},300)))}),e.finally(function(){i.fetchingStone=!1})},i.openProblemDrawingsModal=function(e){var t=i.$new(),e=(t.problem=e,r.open({templateUrl:"views/problemDrawingsModal.html",controller:"problemDrawingsModalController",scope:t,backdrop:"static",size:"lg"}));(t.uibModalInstance=e).result.then(function(){},function(){})},i.openCreateStonePhotoModal=function(){var e=i.$new();e.stonePhoto={stone:i.stone},r.open({templateUrl:"views/createStonePhotoModal.html",controller:"createStonePhotoModalController",scope:e,backdrop:"static",size:"m"}).result.then(function(e){i.fetchStoneDetails()},function(){})},i.openEditStonePhotoModal=function(e){var t=i.$new();t.stonePhoto=angular.copy(e),r.open({templateUrl:"views/editStonePhotoModal.html",controller:"editStonePhotoModalController",scope:t,backdrop:"static",size:"m"}).result.then(function(e){i.fetchStoneDetails()},function(){})},i.deleteStonePhoto=function(e){i.deletingStonePhoto=!0;e=t({method:"get",url:o.api+"/api/stonesPhotos/delete",params:{stonePhotoId:e.stonePhotoId}});e.then(function(e){e.data.error?n.pop("error","",e.data.message):(i.stonePhotos=e.data.stonePhotos,i.fetchStoneDetails())}),e.finally(function(){i.deletingStonePhoto=!1})},i.openDiscussionModal=function(e,t){var n=i.$new();n.createMode=!0,n.discussion={entityType:e,zone:i.stone.zone,stone:i.stone,message:t},r.open({templateUrl:"views/discussionModal.html",controller:"discussionModalController",scope:n,backdrop:"static",size:"m"}).result.then(function(e){},function(){})},i.openProblemModal=function(e){var t=i.$new();null==e?(t.createMode=!0,t.problem={stone:i.stone}):(t.createMode=!1,t.problem=angular.copy(e)),r.open({templateUrl:"views/problemModal.html",controller:"problemModalController",scope:t,backdrop:"static",size:"lg"}).result.then(function(e){i.fetchProblems(),i.fetchStoneDetails()},function(){})},i.openDrawingModal=function(e){var t=i.$new(),e=(t.drawing=e,r.open({templateUrl:"views/drawingModal.html",controller:"drawingModalController",scope:t,backdrop:"static",size:"xl"}));(t.uibModalInstance=e).result.then(function(){i.fetchStoneDetails()},function(){})},i.openProblemVideosModal=function(e){var t=i.$new();t.problem=e,r.open({templateUrl:"views/problemVideosModal.html",controller:"problemVideosModalController",scope:t,backdrop:"static",size:"lg"}).result.then(function(e){},function(){})},i.loadPhoto=function(t){var n=document.getElementById("stonePhoto-"+t.stonePhotoId);null!=n&&(n.onload=function(){var e=document.getElementById("canvas-"+t.stonePhotoId);e.width=n.width,e.height=n.height,i.draw(t)},t.photoURL1=t.photoURL)},i.draw=function(e){var i=document.getElementById("canvas-"+e.stonePhotoId),o=i.getContext("2d"),r=(o.clearRect(0,0,i.width,i.height),new Map);e.drawings.forEach(function(e){var t,n;0!=e.polylinePoints.length&&(t=[],e.polylinePoints.forEach(function(e){t.push({index:e.index,x:e.x*i.width,y:e.y*i.height})}),n=t[0].x+","+t[0].y,r.has(n)?r.set(n,r.get(n)+1):r.set(n,0),n=t[0].x+","+t[0].y,(e=document.getElementById("minidiv-"+e.drawingId)).style.left=t[0].x+"px",e.style.top=t[0].y+29*r.get(n)+"px",e.style.visibility="visible",o.shadowColor="rgba(0, 0, 0, 0.95)",o.shadowBlur=3,o.shadowOffsetX=2,o.shadowOffsetY=2,o.lineWidth=3,o.strokeStyle="red",o.lineCap="round",o.beginPath(),o.moveTo(t[0].x,t[0].y),t.forEach(function(e,t){0!=t&&o.lineTo(e.x,e.y)}),o.stroke(),o.closePath())})},i.fetchStoneDetails(),i.fetchProblems(),i.cancel=function(){e.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("stoneModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(t,n,i,o,r,a,e){t.createOrEdit=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/stones/createOrEdit",params:{stoneId:t.stone.stoneId,zoneId:null==t.stone.zone?null:t.stone.zone.zoneId,name:t.stone.name,rioboId:t.stone.rioboId,description:t.stone.description,lat:t.stone.lat,lng:t.stone.lng}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.stone),o.pop("success","","Piedra guardada"))}),e.finally(function(){t.working=!1})},t.openPinModal=function(){var e;null==t.stone.zone?o.pop("error","","Elige un sector primero"):(e=t.$new(),null!=t.stone.lat&&null!=t.stone.lng?e.initialSettings={centerLat:t.stone.lat,centerLng:t.stone.lng,zoom:18,markerPosition:{lat:t.stone.lat,lng:t.stone.lng}}:e.initialSettings={centerLat:t.stone.zone.lat,centerLng:t.stone.zone.lng,zoom:15},a.open({templateUrl:"views/pinModal.html",controller:"pinModalController",scope:e,backdrop:"static",size:"lg"}).result.then(function(e){t.stone.lat=e.lat,t.stone.lng=e.lng},function(){}))},t.fetchZones=function(){t.fetchingZones=!0;var e=n({method:"get",url:r.api+"/api/zones/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):t.zones=e.data.zones}),e.finally(function(){t.fetchingZones=!1})},t.fetchZones(),t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("stonesController",["$scope","$http","$routeParams","$uibModal","toaster","constants","$cookies","sharedData","$location","currentUser",function(o,t,e,r,a,n,i,s,l,c){o.currentUser=c,o.pagination={count:0,page:1,pageSize:100},o.orderByColumns=[{id:"StoneId",text:"id"},{id:"Name",text:"Nombre"},{id:"Videos.Count",text:"Videos"}],o.orderDescOptions=[{id:!0,text:"Descendiente"},{id:!1,text:"Ascendiente"}],o.sorting={orderBy:"Videos.Count",orderDesc:!0},o.filters={},o.onNameKeypress=function(e){13===e.keyCode&&o.fetchStones()},l.search().zoneId&&(o.filters.zone={zoneId:parseInt(l.search().zoneId)}),o.selectedStones=[],o.stones=[],o.zones=[],o.hasPrivilege=function(e,t){if(0==c.isLogged)return!1;for(var n=0;n<c.user.privileges.length;n++)if(c.user.privileges[n].entityAsString==e)return c.user.privileges[n][t];return!1},o.openStoneDetailsModal=function(e){var t=o.$new();t.stone=angular.copy(e),r.open({templateUrl:"views/stoneDetailsModal.html",controller:"stoneDetailsModalController",scope:t,backdrop:"static",size:"xl"}).result.then(function(e){},function(){})},o.stonesGrid={rowData:o.stones,columnDefs:[{field:"stoneId",headerName:"id",cellClass:"align-right",width:50,hide:!0},{headerName:"sector",children:[{field:"zone.name",headerName:"nombre",width:150},{field:"zone.city.name",headerName:"ciudad",cellRenderer:function(e){return e.node.floating?null:e.value+" <span style='color: gray'>("+e.data.zone.city.locationType.toLowerCase()+")</span>"},width:144}]},{headerName:"piedra",children:[{field:"name",headerName:"nombre",width:200},{field:"rioboId",headerName:"vega's",cellRenderer:function(e){return e.node.floating||null==e.value?null:"Bloque "+e.value},width:68},{field:"description",headerName:"descripcion",width:200},{field:"lat",headerName:"lat",width:68},{field:"lng",headerName:"lng",width:68},{field:"photosCount",headerName:"fotos",cellClass:"align-right",width:77},{field:"problemsCount",headerName:"problemas",cellClass:"align-right",width:87},{field:"videosCount",headerName:"videos",cellClass:"align-right",width:81}]}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!1,enableFilter:!1,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,toolPanelSuppressGroups:!0,localeText:s.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),o.selectedStones=e.api.getSelectedRows(),o.selectedStones.length)}},o.fetchStones=function(i){o.fetchingStones=!0;var e=t({method:"get",url:n.api+"/api/stones/list",params:{zoneId:null==o.filters.zone?null:o.filters.zone.zoneId,name:o.filters.name,minGradeId:null==o.filters.minGrade?null:o.filters.minGrade.gradeId,maxGradeId:null==o.filters.maxGrade?null:o.filters.maxGrade.gradeId,page:o.pagination.page,pageSize:o.pagination.pageSize,orderBy:o.sorting.orderBy,orderDesc:o.sorting.orderDesc,output:i},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else{var t,n;if("xlsx"==i)return t=o.$new(),n=r.open({templateUrl:"views/tasksModal.html",controller:"tasksController",scope:t,size:"xl",resolve:{constructor:function(){return{taskId:e.data.taskId}}}}),void(t.uibModalInstance=n).result.then(function(e){},function(){});o.stones=e.data.stones,o.selectedStones.length=0,o.stonesGrid.api.setRowData(o.stones),o.stonesGrid.api.setFloatingBottomRowData([e.data.bottomRow]),o.pagination=e.data.pagination}}),e.finally(function(){o.fetchingStones=!1})},o.fetchZones=function(){o.fetchingZones=!0;var e=t({method:"get",url:n.api+"/api/zones/list",params:{},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else if(o.zones=e.data.zones,l.search().zoneId)for(var t=0;t<o.zones.length;t++)if(o.zones[t].zoneId==parseInt(l.search().zoneId)){o.filters.zone=o.zones[t];break}}),e.finally(function(){o.fetchingZones=!1})},o.fetchGrades=function(){o.fetchingGrades=!0;var e=t({method:"get",url:n.api+"/api/grades/list",params:{},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):o.grades=e.data.grades}),e.finally(function(){o.fetchingGrades=!1})},o.openStoneModal=function(t){var e=o.$new();e.createMode=t,e.stone=t?{}:angular.copy(o.selectedStones[0]),r.open({templateUrl:"views/stoneModal.html",controller:"stoneModalController",scope:e,backdrop:"static",size:"m"}).result.then(function(e){t?o.fetchStones():o.fetchSelectedStone()},function(){})},o.toggleGridToolPanel=function(e){o[e].api.showToolPanel(!o[e].api.isToolPanelShowing())},o.resetColumns=function(e){o[e].columnApi.resetState()},o.fetchZones(),o.fetchStones(),o.fetchGrades(),o.acceptModalSelection=function(){o.uibModalInstance.close(o.selectedStones[0])},o.cancel=function(){o.uibModalInstance.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("storageModalController",["$scope","$http","$uibModalInstance","toaster","constants",function(t,n,i,o,r){t.createOrEdit=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/storages/createOrEdit",params:{storageId:t.storage.storageId,name:t.storage.name,password:t.storage.password,isDefault:t.storage.isDefault},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.storage),null==t.storage.storageId?o.pop("success","","Storage creado"):o.pop("success","","Storage modificado"))}),e.finally(function(){t.working=!1})},t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("storagesController",["$scope","$http","$routeParams","$uibModal","toaster","constants","sharedData","$filter",function(n,t,e,i,o,r,a,s){n.selectedStorages=[],n.storages=[],n.storagesGrid={rowData:n.storages,columnDefs:[{field:"storageId",headerName:"id",cellClass:"align-right",width:50},{field:"name",headerName:"nombre",width:150},{field:"url",headerName:"download url",width:300},{field:"isDefault",headerName:"predeterminado sistema",cellClass:"align-center",cellRenderer:function(e){return e.value?"✓":""},width:160}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,localeText:a.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),n.selectedStorages=e.api.getSelectedRows(),n.selectedStorages.length)}},n.fetchStorages=function(){n.fetchingStorages=!0;var e=t({method:"get",url:r.api+"/api/storages/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.storages.length=0,n.storages=e.data.storages,n.storagesGrid.api.setRowData(n.storages))}),e.finally(function(){n.fetchingStorages=!1})},n.openStorageModal=function(e){var t=n.$new();t.createMode=e,t.storage=e?{storageType:0}:angular.copy(n.selectedStorages[0]),i.open({templateUrl:"views/storageModal.html",controller:"storageModalController",scope:t}).result.then(function(e){n.fetchStorages()},function(){})},n.deleteSelectedStorage=function(){n.deletingStorage=!0;var e=t({method:"get",url:r.api+"/api/storages/delete",params:{storageId:n.selectedStorages[0].storageId},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.fetchStorages(),o.pop("success","","Storage eliminado"))}),e.finally(function(){n.deletingStorage=!1})},n.fetchStorages()}]),angular.module("bouldermapApp").controller("tasksController",["$scope","$http","toaster","constants","$sce","$interval","$filter","$uibModal","$location","constructor",function(n,t,i,o,r,a,e,s,l,c){n.taskUrls=[{text:"",url:null}],n.constants=o,n.tasks=[],n.$sce=r,n.filters={taskId:null,autorefresh:!0,url:null},null!=c&&null!=c.taskId&&(n.filters.taskId=c.taskId),n.httpResponses={fetchTasks:{}},n.automaticFetcher=null,n.cancelTask=function(e){n.working=!0;e=t({ignoreLoadingBar:!0,method:"get",url:o.api+"/api/tasks/cancel",params:{taskId:e},data:{}});e.then(function(e){e.data.error&&i.pop("error","",e.data.message)}),e.finally(function(){n.working=!1})},n.toggleInterval=function(){1==n.filters.autorefresh?(console.log("Starting timer"),n.automaticFetcher=a(function(){n.fetchTasks()},2e3)):(console.log("Cancelling timer"),a.cancel(n.automaticFetcher))},n.fetchTasks=function(){n.working=!0;var e=t({ignoreLoadingBar:!0,method:"get",url:o.api+"/api/tasks/list",params:{taskId:n.filters.taskId,url:n.filters.url},data:{}});e.then(function(e){n.httpResponses.fetchTasks=e.data,e.data.error||(n.tasks=e.data.tasks)}),e.finally(function(){n.working=!1})},n.openFetchReceivedDTEsModal=function(){var e=n.$new();e.callback=n.fetchReceivedDTEs,s.open({templateUrl:"views/fetchReceivedDTEsModal.html",controller:"fetchReceivedDTEsModalController",scope:e,size:"m"}).result.then(function(e){n.fetchReceivedDTEs()},function(){})},n.openManagerCostsModal=function(){var e=n.$new();s.open({templateUrl:"views/managerCostsModal.html",controller:"managerCostsModalController",scope:e,size:"m"}).result.then(function(e){},function(){})},n.openUpdateUnitsSoldModal=function(){var e=n.$new();s.open({templateUrl:"views/updateUnitsSoldModal.html",controller:"updateUnitsSoldModalController",scope:e,size:"m"}).result.then(function(e){},function(){})},n.openManagerModal=function(e){var t=n.$new();t.source=e,s.open({templateUrl:"views/managerModal.html",controller:"managerModalController",scope:t,size:"m"}).result.then(function(e){},function(){})},n.openSubmitSentDTEsModal=function(){var e=n.$new();s.open({templateUrl:"views/submitSentDTEsModal.html",controller:"submitSentDTEsModalController",scope:e,size:"m"}).result.then(function(e){},function(){})},n.openTrackSentDTEsModal=function(){var e=n.$new();e.redirectToTasks=!0,s.open({templateUrl:"views/trackSentDTEsModal.html",controller:"trackSentDTEsModalController",scope:e,size:"m"}).result.then(function(e){},function(){})},n.openEmailSentDTEsModal=function(){var e=n.$new();s.open({templateUrl:"views/emailSentDTEsModal.html",controller:"emailSentDTEsModalController",scope:e,size:"m"}).result.then(function(e){},function(){})},n.deleteStorageTemps=function(){n.working=!0;var e=t({method:"get",url:o.api+"/api/storages/deleteTemps",params:{},data:{}});e.then(function(e){e.data.error?i.pop("error","",e.data.message):i.pop("success","","Tarea creada")}),e.finally(function(){n.working=!1})},n.trustAsHtml=function(e){return r.trustAsHtml(e)},n.cancel=function(){n.uibModalInstance.close()},n.$on("$destroy",function(e){console.log("Cancelling timer"),a.cancel(n.automaticFetcher),null!=n.callback&&n.callback()}),l.search().taskUrl&&(n.filters.url=l.search().taskUrl),l.search().taskId&&(n.filters.taskId=l.search().taskId),n.fetchTasks(),n.toggleInterval()}]),angular.module("bouldermapApp").controller("textsModalController",["$scope","$http","$routeParams","$uibModal","toaster","constants","sharedData",function(t,n,e,i,o,r,a){t.selectedTexts=[],t.texts=[],t.textsGrid={rowData:t.texts,columnDefs:[{field:"text",headerName:"text",width:400}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,localeText:a.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),t.selectedTexts=e.api.getSelectedRows())}},t.fetchTexts=function(){t.fetchingTexts=!0;var e=n({method:"get",url:r.api+"/api/texts/list",params:{table:t.table,column:t.column},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.message):(t.texts.length=0,t.texts=e.data.texts,t.textsGrid.api.setRowData(t.texts))}),e.finally(function(){t.fetchingTexts=!1})},t.acceptModalSelection=function(){t.uibModalInstance.close(t.selectedTexts[0].text)},t.cancel=function(){t.uibModalInstance.dismiss("cancel")},t.fetchTexts()}]),angular.module("bouldermapApp").controller("uploadIndicationPhotoModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(i,o,r,a,s,e,t){i.upload=function(){i.working=!0;for(var e=new FormData,t=0;t<document.getElementById("file").files.length;t++)e.append("file-"+t,document.getElementById("file").files[t]);var n=o({method:"post",url:s.api+"/api/indications/uploadPhoto",data:e,params:{indicationId:i.indication.indicationId},transformRequest:angular.identity,headers:{"Content-Type":void 0}});n.then(function(e){e.data.error?a.pop("error","",e.data.message):(r.close(e.data.indication),a.pop("success","","Foto guardada"))}),n.finally(function(){i.working=!1})},i.cancel=function(){r.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("userModalController",["$scope","$http","$uibModalInstance","toaster","constants",function(t,n,i,o,r){t.timezonesIds=[],t.selectedTimezoneId={},t.selectedTimezoneId.selected={id:t.user.timezoneId},t.createOrEdit=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/users/createOrEdit",params:{userId:t.user.userId,name:t.user.name,username:t.user.username,email:t.user.email,timezoneId:t.selectedTimezoneId.selected.id,enabled:t.user.enabled},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(t.user=e.data.user,i.close(t.user),o.pop("success","","Usuario guardado"))}),e.finally(function(){t.working=!1})},t.fetchTimezonesIds=function(){t.fetchingTimezonesIds=!0;var e=n({method:"get",url:r.api+"/api/timezonesIds/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):t.timezonesIds=e.data.timezonesIds}),e.finally(function(){t.fetchingTimezonesIds=!1})},t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("usersController",["$scope","$http","$uibModal","toaster","constants","headerConstants","sharedData","$filter",function(n,t,i,o,r,e,a,s){n.sharedData=a,n.filters={onlyEnabled:!0},n.users=[],n.selectedUsers=[],n.privileges=[],n.privilegesFilterOptions={filterText:""},n.usersGrid={rowData:n.users,columnDefs:[{field:"userId",headerName:"id",cellClass:"align-right",width:50},{field:"name",headerName:"nombre",width:170},{field:"username",headerName:"username",width:135},{field:"email",headerName:"email",width:160},{field:"phone",headerName:"phone",width:112},{field:"lastLogin",headerName:"últ login",cellClass:"align-right",cellRenderer:function(e){return s("date")(e.value,"yyyy-MM-dd hh:mm a")},width:150},{field:"enabled",headerName:"habilitado",cellClass:"align-center",cellRenderer:function(e){return e.value?"✓":""},width:90}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,localeText:a.agGridLocaleText,onRowClicked:function(e){n.fetchingPrivileges||e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),n.selectedUsers=e.api.getSelectedRows(),n.selectedUsers.length)}},n.fetchUsers=function(){n.fetchingUsers=!0;var e=t({method:"get",url:r.api+"/api/users/list",params:{onlyEnabled:n.filters.onlyEnabled?"true":""},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.users=e.data.users,n.usersGrid.api.setRowData(n.users))}),e.finally(function(){n.fetchingUsers=!1})},n.openUserModal=function(e){var t=n.$new();t.createMode=e,t.user=e?{name:"",username:"",email:"",enabled:!0,onlyHisTasks:!0,isExecutive:!1}:angular.copy(n.selectedUsers[0]),i.open({templateUrl:"views/userModal.html",controller:"userModalController",scope:t}).result.then(function(e){n.fetchUsers()},function(){})},n.openPrivilegesModal=function(){var e=n.$new();e.user=angular.copy(n.selectedUsers[0]),i.open({templateUrl:"views/privilegesModal.html",controller:"privilegesModalController",scope:e}).result.then(function(e){},function(){})},n.openVisibleMenusModal=function(){var e=n.$new();e.user=angular.copy(n.selectedUsers[0]),i.open({templateUrl:"views/visibleMenusModal.html",controller:"visibleMenusModalController",scope:e,size:"lg"}).result.then(function(e){},function(){})},n.openObservableModal=function(){var e=n.$new();e.user=angular.copy(n.selectedUsers[0]),i.open({templateUrl:"views/observableModal.html",controller:"observableModalController",scope:e,size:"lg"}).result.then(function(e){},function(){})},n.deleteSelectedUser=function(){n.deletingUser=!0;var e=t({method:"get",url:r.api+"/api/users/delete",params:{userId:n.selectedUsers[0].userId},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(n.fetchUsers(),o.pop("success","","Usuario eliminado"))}),e.finally(function(){n.deletingUser=!1})},n.fetchUsers()}]),angular.module("bouldermapApp").controller("versionsController",["$scope","$http","$routeParams","$uibModal","toaster","constants","currentUser","versions",function(t,n,e,i,o,r,a,s){t.serverVersions=[],t.fetchServerVersions=function(){t.fetchingServerVersions=!0;var e=n({method:"get",url:r.api+"/api/system/changelog",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(t.serverVersions.length=0,t.serverVersions=e.data.versions)}),e.finally(function(){t.fetchingServerVersions=!1})},t.fetchServerVersions(),t.versions=s.versions}]),angular.module("bouldermapApp").controller("videoDetailsModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer","$timeout","currentUser","$sce",function(i,e,t,n,o,r,a,s,l,c){i.currentUser=l,i.hasPrivilege=function(e,t){if(0==l.isLogged)return!1;for(var n=0;n<l.user.privileges.length;n++)if(l.user.privileges[n].entityAsString==e)return l.user.privileges[n][t];return!1},i.trustAsResourceUrl=function(e){return c.trustAsResourceUrl(e)},i.openVideoDiscussionModal=function(e,t){var n=i.$new();n.createMode=!0,n.discussion={entityType:{id:14,name:"Video"},zone:i.problem.stone.zone,stone:i.problem.stone,problem:i.problem,video:e,message:t},r.open({templateUrl:"views/discussionModal.html",controller:"discussionModalController",scope:n,backdrop:"static",size:"m"}).result.then(function(e){$location.path("/discussions")},function(){})},i.openClimberStatsModal=function(e){var t=i.$new();t.climber={name:e},r.open({templateUrl:"views/climberStatsModal.html",controller:"climberStatsModalController",scope:t,size:"m"}).result.then(function(e){},function(){})},i.openVideoModal=function(e){var t=i.$new();null==e?(t.createMode=!0,t.video={problem:i.problem}):t.video=angular.copy(e),r.open({templateUrl:"views/videoModal.html",controller:"videoModalController",scope:t,backdrop:"static",size:"m"}).result.then(function(e){},function(){})},i.cancel=function(){t.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("videoModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(n,t,i,o,r,a,e){n.createOrEdit=function(){n.working=!0;var e=t({method:"get",url:r.api+"/api/videos/createOrEdit",params:{videoId:n.video.videoId,problemId:null==n.video.problem?null:n.video.problem.problemId,climberName:n.video.climberName,description:n.video.description,url:n.video.url}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.video),o.pop("success","","Video guardado"))}),e.finally(function(){n.working=!1})},n.openProblemsModal=function(){var e=n.$new(),t=a.open({templateUrl:"views/problemsModal.html",controller:"problemsController",scope:e,backdrop:"static",size:"xxl",resolve:{constructor:function(){return{zone:null,stone:null}}}});(e.uibModalInstance=t).result.then(function(e){n.video.problem=e},function(){})},n.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("videosController",["$scope","$http","$routeParams","$uibModal","toaster","constants","$cookies","sharedData","$location","currentUser",function(o,t,e,r,a,n,i,s,l,c){o.currentUser=c,o.pagination={count:0,page:1,pageSize:100},o.orderByColumns=[{id:"ProblemId",text:"Id de Problema"},{id:"Problem.Name",text:"Nombre de problema"},{id:"Problem.Grade.GradeId",text:"Grado"},{id:"Problem.Stone",text:"Piedra"},{id:"ClimberName",text:"Escalador"}],o.orderDescOptions=[{id:!0,text:"Descendiente"},{id:!1,text:"Ascendiente"}],o.sorting={orderBy:"Problem.Name",orderDesc:!0},o.filters={zone:null,stone:null,climberName:null,minGrade:null,maxGrade:null},o.onProblemNameKeypress=function(e){13===e.keyCode&&o.fetchVideos()},l.search().zoneId&&(o.filters.zone={zoneId:parseInt(l.search().zoneId)}),l.search().stoneId&&(o.filters.stone={stoneId:parseInt(l.search().stoneId)}),l.search().climberName&&(o.filters.climberName=l.search().climberName),o.selectedVideos=[],o.videos=[],o.grades=[],o.openStoneDetailsModal=function(e){var t=o.$new();t.stone=angular.copy(e),r.open({templateUrl:"views/stoneDetailsModal.html",controller:"stoneDetailsModalController",scope:t,backdrop:"static",size:"xl"}).result.then(function(e){},function(){})},o.openProblemDrawingsModal=function(e){var t=o.$new();t.problem=angular.copy(e),r.open({templateUrl:"views/problemDrawingsModal.html",controller:"problemDrawingsModalController",scope:t,backdrop:"static",size:"lg"}).result.then(function(e){},function(){})},o.videosGrid={rowData:o.videos,columnDefs:[{field:"videoId",headerName:"id",cellClass:"align-right",width:50,hide:!0},{headerName:"sector",children:[{field:"problem.stone.zone.name",headerName:"nombre",width:150},{field:"problem.stone.zone.city.name",headerName:"ciudad",width:91}]},{headerName:"piedra",children:[{field:"problem.stone.name",headerName:"nombre",width:141},{field:"problem.stone.rioboId",headerName:"vega's",cellRenderer:function(e){return e.node.floating||null==e.value?null:"Bloque "+e.value},width:68},{field:"problem.stone.lat",headerName:"lat",width:68,hide:!0},{field:"problem.stone.lng",headerName:"lng",width:68,hide:!0}]},{headerName:"problema",children:[{field:"problem.problemId",headerName:"id",cellClass:"align-right",width:50,hide:!0},{field:"problem.name",headerName:"nombre",width:200},{field:"problem.rioboId",headerName:"vega's",width:89},{field:"problem.description",headerName:"descripcion",width:200,hide:!0},{field:"problem.grade.vGrade",headerName:"grado",cellRenderer:function(e){return e.node.floating?"":"<span class='color-bullet-span' style='background-color: "+e.data.problem.grade.color+"'></span><span>"+e.value+"</span>"},width:100}]},{field:"climberName",headerName:"escalador",width:150},{field:"description",headerName:"descripcion",width:200,hide:!0},{field:"isYoutube",headerName:"youtube",cellClass:"align-center",cellRenderer:function(e){return e.node.floating?e.value:e.value?"✓":""},width:100}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!1,enableFilter:!1,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,toolPanelSuppressGroups:!0,localeText:s.agGridLocaleText,onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),o.selectedVideos=e.api.getSelectedRows(),o.selectedVideos.length)}},o.fetchVideos=function(i){o.fetchingVideos=!0;var e=t({method:"get",url:n.api+"/api/videos/list",params:{zoneId:null==o.filters.zone?null:o.filters.zone.zoneId,stoneId:null==o.filters.stone?null:o.filters.stone.stoneId,problemName:o.filters.problemName,climberName:o.filters.climberName,minGradeId:null==o.filters.minGrade?null:o.filters.minGrade.gradeId,maxGradeId:null==o.filters.maxGrade?null:o.filters.maxGrade.gradeId,page:o.pagination.page,pageSize:o.pagination.pageSize,orderBy:o.sorting.orderBy,orderDesc:o.sorting.orderDesc,output:i},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else{var t,n;if("xlsx"==i)return t=o.$new(),n=r.open({templateUrl:"views/tasksModal.html",controller:"tasksController",scope:t,size:"xl",resolve:{constructor:function(){return{taskId:e.data.taskId}}}}),void(t.uibModalInstance=n).result.then(function(e){},function(){});o.videos=e.data.videos,o.selectedVideos.length=0,o.videosGrid.api.setRowData(o.videos),o.videosGrid.api.setFloatingBottomRowData([e.data.bottomRow]),o.pagination=e.data.pagination}}),e.finally(function(){o.fetchingVideos=!1})},o.fetchZones=function(){o.fetchingZones=!0;var e=t({method:"get",url:n.api+"/api/zones/list",params:{},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else if(o.zones=e.data.zones,l.search().zoneId)for(var t=0;t<o.zones.length;t++)if(o.zones[t].zoneId==parseInt(l.search().zoneId)){o.filters.zone=o.zones[t];break}}),e.finally(function(){o.fetchingZones=!1})},o.fetchStones=function(){var e;null!=o.filters.zone&&(o.fetchingStones=!0,(e=t({method:"get",url:n.api+"/api/stones/list",params:{zoneId:o.filters.zone.zoneId,page:1,pageSize:999},data:{}})).then(function(e){if(e.data.error)a.pop("error","",e.data.message);else if(o.stones=e.data.stones,l.search().stoneId)for(var t=0;t<o.stones.length;t++)if(o.stones[t].stoneId==parseInt(l.search().stoneId)){o.filters.stone=o.stones[t];break}}),e.finally(function(){o.fetchingStones=!1}))},o.fetchGrades=function(){o.fetchingGrades=!0;var e=t({method:"get",url:n.api+"/api/grades/list",params:{},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):o.grades=e.data.grades}),e.finally(function(){o.fetchingGrades=!1})},o.openVideoModal=function(e){var t=o.$new();t.createMode=e,t.video=1==e?{}:angular.copy(o.selectedVideos[0]),r.open({templateUrl:"views/videoModal.html",controller:"videoModalController",scope:t,backdrop:"static",size:"m"}).result.then(function(e){o.fetchVideos()},function(){})},o.openVideoDetailsModal=function(){var e=o.$new();e.video=angular.copy(o.selectedVideos[0]),r.open({templateUrl:"views/videoDetailsModal.html",controller:"videoDetailsModalController",scope:e,backdrop:"static",size:"lg"}).result.then(function(e){},function(){})},o.openClimbersModal=function(){var e=o.$new(),t=r.open({templateUrl:"views/climbersModal.html",controller:"climbersController",scope:e,backdrop:"static",size:"xl"});(e.uibModalInstance=t).result.then(function(e){o.filters.climberName=e.name,o.pagination.page=1,o.fetchVideos()},function(){})},o.openProblemVideosModal=function(){var e=o.$new();e.problem=o.selectedVideos[0].problem,r.open({templateUrl:"views/problemVideosModal.html",controller:"problemVideosModalController",scope:e,backdrop:"static",size:"lg"}).result.then(function(e){},function(){})},o.toggleGridToolPanel=function(e){o[e].api.showToolPanel(!o[e].api.isToolPanelShowing())},o.resetColumns=function(e){o[e].columnApi.resetState()},o.fetchZones(),o.fetchStones(),o.fetchVideos(),o.fetchGrades(),o.acceptModalSelection=function(){o.uibModalInstance.close(o.selectedProblems[0])},o.cancel=function(){o.uibModalInstance.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("visibleMenusModalController",["$scope","$http","$uibModalInstance","toaster","constants","headerConstants",function(i,o,r,a,s,e){i.visibleMenus={},i.menus=e.menus,i.toggleAll=function(e,t){for(var n=0;n<e.children.length;n++)i.visibleMenus[e.children[n].href]=t},i.useProfile=function(e){for(var t=0;t<i.menus.length;t++)i.toggleAll(i.menus[t],!1);"exporter"==e&&(i.visibleMenus.voyages=!0,i.visibleMenus.bookings=!0)},i.save=function(){var e,t=[];for(e in i.visibleMenus)1==i.visibleMenus[e]&&t.push(e);i.working=!0;var n=o({method:"post",url:s.api+"/api/users/editVisibleMenus",params:{userId:i.user.userId},data:JSON.stringify(t),transformRequest:angular.identity,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}});n.then(function(e){e.data.error?a.pop("error","",e.data.message):r.close()}),n.finally(function(){i.working=!1})},i.fetchUser=function(){i.fetchingUser=!0;var e=o({method:"get",url:s.api+"/api/users/details",params:{userId:i.user.userId},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else{null==e.data.user.visibleMenus&&(e.data.user.visibleMenus="");for(var t=e.data.user.visibleMenus.split(","),n=0;n<t.length;n++)i.visibleMenus[t[n]]=!0}}),e.finally(function(){i.fetchingUser=!1})},i.cancel=function(){r.dismiss("cancel")},i.fetchUser()}]),angular.module("bouldermapApp").controller("zoneModalController",["$scope","$http","$uibModalInstance","toaster","constants","$uibModal","$httpParamSerializer",function(t,n,i,o,r,a,e){t.cities=[],t.createOrEdit=function(){t.working=!0;var e=n({method:"get",url:r.api+"/api/zones/createOrEdit",params:{zoneId:t.zone.zoneId,name:t.zone.name,lat:t.zone.lat,lng:t.zone.lng,cityId:null==t.zone.city?null:t.zone.city.cityId}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):(i.close(e.data.zone),o.pop("success","","Zona guardada"))}),e.finally(function(){t.working=!1})},t.openPinModal=function(){var e;null==t.zone.city?o.pop("error","","Especifica una ciudad cercana primero"):(e=t.$new(),null!=t.zone.lat&&null!=t.zone.lng?e.initialSettings={centerLat:t.zone.lat,centerLng:t.zone.lng,zoom:15,markerPosition:{lat:t.zone.lat,lng:t.zone.lng}}:e.initialSettings={centerLat:t.zone.city.lat,centerLng:t.zone.city.lng,zoom:11},a.open({templateUrl:"views/pinModal.html",controller:"pinModalController",scope:e,backdrop:"static",size:"lg"}).result.then(function(e){t.zone.lat=e.lat,t.zone.lng=e.lng},function(){}))},t.fetchCities=function(){t.fetchingCities=!0;var e=n({method:"get",url:r.api+"/api/cities/list",params:{},data:{}});e.then(function(e){e.data.error?o.pop("error","",e.data.message):t.cities=e.data.cities}),e.finally(function(){t.fetchingCities=!1})},t.fetchCities(),t.cancel=function(){i.dismiss("cancel")}}]),angular.module("bouldermapApp").controller("zonesController",["$scope","$http","$routeParams","$uibModal","toaster","constants","$cookies","sharedData","currentUser","$window",function(o,t,e,r,a,n,i,s,l,c){o.currentUser=l,o.selectedZones=[],o.zones=[],o.selectedStones=[],o.stones=[],o.indications=[],o.hasPrivilege=function(e,t){if(0==l.isLogged)return!1;for(var n=0;n<l.user.privileges.length;n++)if(l.user.privileges[n].entityAsString==e)return l.user.privileges[n][t];return!1},o.zonesGrid={rowData:o.zones,columnDefs:[{field:"zoneId",headerName:"id",cellClass:"align-right",width:50,hide:!0},{field:"name",headerName:"nombre",width:200},{field:"lat",headerName:"lat",width:68,hide:!0},{field:"lng",headerName:"lng",width:68,hide:!0},{field:"city.name",headerName:"ciudad",cellRenderer:function(e){return e.node.floating?null:e.value+" <span style='color: gray'>("+e.data.city.locationType.toLowerCase()+")</span>"},width:144},{field:"city.country.name",headerName:"país",cellRenderer:function(e){return e.node.floating?null:"<img style='width: 15px;margin-right: 5px;' src='"+n.api+"/Content/countries/"+e.data.city.country.isoAlpha2+".png'></span><span>"+e.value+"</span>"},width:80,hide:!0},{field:"stonesCount",headerName:"piedras",cellClass:"align-right",width:85},{field:"problemsCount",headerName:"problemas",cellClass:"align-right",width:93},{field:"videosCount",headerName:"videos",cellClass:"align-right",width:81}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,toolPanelSuppressGroups:!0,localeText:s.agGridLocaleText,onModelUpdated:function(e){var n={stonesCount:0,photosCount:0,problemsCount:0,videosCount:0};o.zonesGrid.api.forEachNodeAfterFilter(function(e,t){e.group||(n.stonesCount+=e.data.stonesCount,n.photosCount+=e.data.photosCount,n.problemsCount+=e.data.problemsCount,n.videosCount+=e.data.videosCount)}),o.zonesGrid.api.setFloatingBottomRowData([n])},onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),o.selectedZones=e.api.getSelectedRows(),o.stones.length=0,o.selectedStones.length=0,o.stonesGrid.api.setRowData([]),o.indications.length=0,1==o.selectedZones.length&&(o.fetchStones(),o.fetchIndications(),o.createZoneMap()))}},o.stonesGrid={rowData:o.stones,columnDefs:[{field:"stoneId",headerName:"id",cellClass:"align-right",width:50,hide:!0},{field:"name",headerName:"nombre",width:150},{field:"rioboId",headerName:"vega's",cellRenderer:function(e){return e.node.floating||null==e.value?null:"Bloque "+e.value},width:68},{field:"crags27Id",headerName:"27crags",width:80,hide:!0},{field:"description",headerName:"descripcion",width:200},{field:"lat",headerName:"lat",width:62},{field:"lng",headerName:"lng",width:62},{field:"photosCount",headerName:"fotos",cellClass:"align-right",width:77},{field:"problemsCount",headerName:"problemas",cellClass:"align-right",width:87},{field:"videosCount",headerName:"videos",cellClass:"align-right",width:81}],rowSelection:"single",rowDeselection:!0,enableColResize:!0,enableSorting:!0,enableFilter:!0,rowHeight:22,suppressRowClickSelection:!0,showToolPanel:!1,toolPanelSuppressValues:!0,toolPanelSuppressGroups:!0,localeText:s.agGridLocaleText,onModelUpdated:function(e){var n={photosCount:0,problemsCount:0,videosCount:0};o.stonesGrid.api.forEachNodeAfterFilter(function(e,t){e.group||(n.photosCount+=e.data.photosCount,n.problemsCount+=e.data.problemsCount,n.videosCount+=e.data.videosCount)}),o.stonesGrid.api.setFloatingBottomRowData([n])},onRowClicked:function(e){e.node.group||e.node.floating||(e.api.isNodeSelected(e.node)?e.api.deselectNode(e.node,!1):e.api.selectNode(e.node,!0,!1),o.selectedStones=e.api.getSelectedRows(),1==o.selectedStones.length&&o.zoomToSelectedStone())}},o.zoomToSelectedStone=function(){null!=o.selectedStones[0].lat&&null!=o.selectedStones[0].lng&&(u.setCenter({lat:o.selectedStones[0].lat,lng:o.selectedStones[0].lng}),u.setZoom(20))},o.fetchZones=function(i){o.fetchingZones=!0;var e=t({method:"get",url:n.api+"/api/zones/list",params:{output:i},data:{}});e.then(function(e){if(e.data.error)a.pop("error","",e.data.message);else{var t,n;if("xlsx"==i)return t=o.$new(),n=r.open({templateUrl:"views/tasksModal.html",controller:"tasksController",scope:t,size:"xl",resolve:{constructor:function(){return{taskId:e.data.taskId}}}}),void(t.uibModalInstance=n).result.then(function(e){},function(){});o.zones=e.data.zones,o.selectedZones.length=0,o.zonesGrid.api.setRowData(o.zones),o.stones.length=0,o.selectedStones.length=0,o.stonesGrid.api.setRowData([])}}),e.finally(function(){o.fetchingZones=!1})},o.fetchSelectedZone=function(){o.fetchingZones=!0;var e=t({method:"get",url:n.api+"/api/zones/details",params:{zoneId:o.selectedZones[0].zoneId},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(angular.extend(o.selectedZones[0],e.data.zone),angular.extend(o.zonesGrid.api.getSelectedRows()[0],e.data.zone),o.zonesGrid.api.refreshView())}),e.finally(function(){o.fetchingZones=!1})},o.fetchIndications=function(){o.fetchingIndications=!0;var e=t({method:"get",url:n.api+"/api/indications/list",params:{zoneId:o.selectedZones[0].zoneId},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(o.indications=e.data.indications,o.createIndicationsMarkers())}),e.finally(function(){o.fetchingIndications=!1})},o.fetchStones=function(){o.fetchingStones=!0;var e=t({method:"get",url:n.api+"/api/stones/list",params:{zoneId:o.selectedZones[0].zoneId,orderBy:"Videos.Count",orderDesc:!0,page:1,pageSize:999},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(o.stones=e.data.stones,o.selectedStones.length=0,o.stonesGrid.api.setRowData(o.stones),o.createStonesMarkers())}),e.finally(function(){o.fetchingStones=!1})},o.fetchSelectedStone=function(){o.fetchingStones=!0;var e=t({method:"get",url:n.api+"/api/stones/details",params:{stoneId:o.selectedStones[0].stoneId},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(angular.extend(o.selectedStones[0],e.data.stone),angular.extend(o.stonesGrid.api.getSelectedRows()[0],e.data.stone),o.stonesGrid.api.refreshView())}),e.finally(function(){o.fetchingStones=!1})};var u=null;o.createZoneMap=function(){u=new google.maps.Map(document.getElementById("zoneMap"),{center:{lat:o.selectedZones[0].lat,lng:o.selectedZones[0].lng},zoom:15,mapTypeId:google.maps.MapTypeId.SATELLITE,zoomControl:!0,tilt:0,mapId:"65cad96ebad629b0772bf0f1"}),o.selectedZones[0].polygons.forEach(function(e){new google.maps.Polygon({map:u,path:e.points,strokeColor:"#FF0000",strokeOpacity:.5,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.1})})},o.createStonesMarkers=function(){for(var e=0;e<o.stones.length;e++){var t=new google.maps.marker.PinElement({}),n=new google.maps.marker.PinElement({background:"#ffffff",glyph:"v",glyphColor:"black"});const i=new google.maps.marker.AdvancedMarkerElement({map:u,position:{lat:o.stones[e].lat,lng:o.stones[e].lng},gmpClickable:!0,title:o.stones[e].name,content:(o.stones[e].name.includes("virtual")?n:t).element});i.stone=o.stones[e],i.addEventListener("gmp-click",e=>{o.openStoneDetailsModal(i.stone)})}},o.createIndicationsMarkers=function(){for(var e=0;e<o.indications.length;e++){var t=new google.maps.marker.PinElement({background:"#ffd400",glyph:"i",glyphColor:"black"});const n=new google.maps.marker.AdvancedMarkerElement({map:u,position:{lat:o.indications[e].lat,lng:o.indications[e].lng},gmpClickable:!0,title:o.indications[e].name,content:t.element});n.indication=o.indications[e],n.addEventListener("gmp-click",e=>{o.openIndicationDetailsModal(n.indication)})}},o.openZoneModal=function(t){var e=o.$new();e.createMode=t,e.zone=t?{}:angular.copy(o.selectedZones[0]),r.open({templateUrl:"views/zoneModal.html",controller:"zoneModalController",scope:e,backdrop:"static",size:"m"}).result.then(function(e){t?o.fetchZones():o.fetchSelectedZone()},function(){})},o.openCreateGPXModal=function(){var e=o.$new();e.zone=angular.copy(o.selectedZones[0]),r.open({templateUrl:"views/createGPXModal.html",controller:"createGPXModalController",scope:e,size:"m"}).result.then(function(e){},function(){})},o.openPolygonsModal=function(){var e=o.$new();e.zone=angular.copy(o.selectedZones[0]),r.open({templateUrl:"views/polygonsModal.html",controller:"polygonsModalController",scope:e,backdrop:"static",size:"xl"}).result.then(function(e){o.fetchSelectedZone(),o.createZoneMap()},function(){})},o.openStoneModal=function(t){var e=o.$new();e.createMode=t,e.stone=t?{zone:o.selectedZones[0]}:angular.copy(o.selectedStones[0]),r.open({templateUrl:"views/stoneModal.html",controller:"stoneModalController",scope:e,backdrop:"static",size:"m"}).result.then(function(e){t?o.fetchStones():o.fetchSelectedStone(),o.fetchSelectedZone()},function(){})},o.openStoneDetailsModal=function(e){var t=o.$new();t.stone=angular.copy(e),r.open({templateUrl:"views/stoneDetailsModal.html",controller:"stoneDetailsModalController",scope:t,backdrop:"static",size:"xl"}).result.then(function(e){},function(){})},o.openIndicationsModal=function(){var e=o.$new();e.zone=o.selectedZones[0],r.open({templateUrl:"views/indicationsModal.html",controller:"indicationsModalController",scope:e,backdrop:"static",size:"lg"}).result.then(function(e){},function(){})},o.openIndicationDetailsModal=function(e){var t=o.$new();t.indication=e,r.open({templateUrl:"views/indicationDetailsModal.html",controller:"indicationDetailsModalController",scope:t,backdrop:"static",size:"lg"}).result.then(function(e){},function(){})},o.deleteSelectedZone=function(){o.deletingZone=!0;var e=t({method:"get",url:n.api+"/api/zones/delete",params:{zoneId:o.selectedZones[0].zoneId},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(o.fetchZones(),a.pop("success","","Sector eliminado"))}),e.finally(function(){o.deletingZone=!1})},o.deleteSelectedStone=function(){o.deletingStone=!0;var e=t({method:"get",url:n.api+"/api/stones/delete",params:{stoneId:o.selectedStones[0].stoneId},data:{}});e.then(function(e){e.data.error?a.pop("error","",e.data.message):(o.fetchStones(),a.pop("success","","Piedra eliminada"))}),e.finally(function(){o.deletingStone=!1})},o.toggleGridToolPanel=function(e){o[e].api.showToolPanel(!o[e].api.isToolPanelShowing())},o.resetColumns=function(e){o[e].columnApi.resetState()},o.fetchZones(),o.acceptModalSelection=function(){o.uibModalInstance.close(o.selectedZones[0])},o.cancel=function(){o.uibModalInstance.dismiss("cancel")}}]),angular.module("bouldermapApp").directive("datepickerPopup",["$parse",function(e){return{restrict:"EAC",require:"ngModel",link:function(e,t,n,i){i.$formatters.shift()}}}]),angular.module("bouldermapApp").directive("fileModel",["$parse",function(o){return{restrict:"A",link:function(e,t,n){var i=o(n.fileModel);t.bind("change",function(){e.$apply(function(){i.assign(e,t[0].files[0])}),n.ngChange&&e.$apply(n.ngChange)})}}}]),angular.module("bouldermapApp").directive("focus",["$timeout",function(n){return{scope:{trigger:"@focus"},link:function(e,t){e.$watch("trigger",function(e){"true"===e&&n(function(){t[0].focus()})})}}}]),angular.module("bouldermapApp").directive("modalMovable",["$document",function(u){return{restrict:"AC",link:function(e,t,n){var i,o,r=0,a=0,s=t.parent().parent();function l(e){a=e.pageY-o,r=e.pageX-i,s.css({top:a+"px",left:r+"px"})}function c(){u.unbind("mousemove",l),u.unbind("mouseup",c)}s.css({position:"relative"}),t.on("mousedown",function(e){e.preventDefault(),i=e.pageX-r,o=e.pageY-a,u.on("mousemove",l),u.on("mouseup",c)})}}}]),angular.module("bouldermapApp").directive("ngConfirmClick",["$uibModal",function(i){var o=["$scope","$uibModalInstance",function(e,t){e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}}];return{restrict:"A",scope:{ngConfirmClick:"&"},link:function(t,e,n){e.bind("click",function(){var e=n.ngConfirmMessage||"¿Estás seguro?";i.open({template:'<div class="modal-header"><h3 class="modal-title">Confirmar</h3></div><div class="modal-body">'+e+'</div><div class="modal-footer"><button class="btn btn-danger" ng-click="ok()">OK</button><button class="btn btn-default" ng-click="cancel()">Cancelar</button></div>',controller:o,backdrop:!0}).result.then(function(){t.ngConfirmClick()},function(){})})}}}]),angular.module("bouldermapApp").directive("resizeTarget",["$document","$window",function(r,e){return function(e,t,n){function i(e){window.innerHeight,e.pageY;var t=angular.element(document.querySelector(n.resizeTarget)),e=e.movementY,e=parseInt(t.css("height"))+ +e;e<100||(t.css({height:e+"px"}),$(window).resize())}function o(e){r.unbind("mousemove",i),r.unbind("mouseup",o)}t.on("mousedown",function(e){e.preventDefault(),r.on("mousemove",i),r.on("mouseup",o)})}}]),angular.module("bouldermapApp").directive("selectOnClick",function(){return{restrict:"A",link:function(e,t,n){t.on("click",function(){this.select()})}}}),angular.module("bouldermapApp").directive("selectOnFocus",function(){return{restrict:"A",link:function(e,t,n){t.on("focus",function(){this.select()})}}}),angular.module("bouldermapApp").directive("textFileContent",function(){return{scope:{textFileContent:"="},link:function(n,e){e.on("change",function(e){var t,e=e.target.files;e.length&&((t=new FileReader).onload=function(e){var t=e.target.result;n.$apply(function(){n.textFileContent=t})},t.readAsText(e[0]))})}}}),angular.module("bouldermapApp").filter("parseLinks",function(){var t=/(\b(https?|ftp):\/\/[A-Z0-9+&@#\/%?=~_|!:,.;-]*[-A-Z0-9+&@#\/%=~_|])/gim,n=/(\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6})/gim;return function(e){return e=(e=e.match(t)?e.replace(t,'<a href="$1" target="_blank">$1</a>'):e).match(n)?e.replace(n,'<a href="mailto:$1">$1</a>'):e}}),angular.module("bouldermapApp").filter("range",[function(){return function(e,t,n){t=parseInt(t),n=parseInt(n);for(var i=t;i<=n;i++)e.push(i);return e}}]),angular.module("bouldermapApp").filter("timeago",[function(){return function(e,t,n){if(!e)return"nunca";var i,o;if(t=t||Date.now(),angular.isDate(e)?e=e.getTime():"string"==typeof e&&(e=new Date(e).getTime()),angular.isDate(t)?t=t.getTime():"string"==typeof t&&(t=new Date(t).getTime()),"number"==typeof e&&"number"==typeof t)return i=Math.abs((t-e)/1e3),o=[],(o=i<=60?["",n?"ahora":"menos de un minuto"]:i<3600?[Math.round(Math.abs(i/60)),"min"]:i<86400?[Math.round(Math.abs(i/3600)),"hr"]:i<604800?[Math.round(Math.abs(i/86400)),"día"]:i<31449600?[Math.round(Math.abs(i/604800)),"semana"]:i<315569260?[Math.round(Math.abs(i/31556926)),"año"]:i<31556926e3?[Math.round(Math.abs(i/315569260)),"decada"]:["","a long time"])[1]+=0===o[0]||1<o[0]?"s":"",o=o.join(" "),!0===n?o:e<=t?"hace "+o:"en "+o}}]),angular.module("bouldermapApp").filter("truncate",["$filter",function(n){return function(e,t){return null==e?"":e.length>t?n("limitTo")(e,t)+"...":e}}]),angular.module("bouldermapApp").filter("yesNo",[function(){return function(e){return e?"Yes":"No"}}]);